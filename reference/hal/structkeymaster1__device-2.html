<!doctype html>
<html  lang="en">
  
<!-- Mirrored from source.android.google.cn/reference/hal/structkeymaster1__device by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 16 Mar 2019 18:43:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
          
<title>Android Hardware Abstraction Layer: keymaster1_device Struct Reference &nbsp;|&nbsp; Android Open Source Project</title>

<meta property="og:title" content="Android Hardware Abstraction Layer: keymaster1_device Struct Reference &nbsp;|&nbsp; Android Open Source Project">

  <meta property="og:url" content="structkeymaster1__device-2.html">

  <meta property="og:locale" content="en">


  
  
  
  

        <meta property="og:site_name" content="Android Open Source Project">
    <meta property="og:type" content="website">
    
          <meta name="theme-color" content="#78c257">
    
    <meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="../../_pwa/androidsource/manifest.json">
    <link rel="preconnect" href="http://www.gstatic.com/" crossorigin>
    <link rel="preconnect" href="http://fonts.gstatic.com/" crossorigin>
    <link rel="preconnect" href="http://fonts.googleapis.com/" crossorigin>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons">
    <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/css/app.css">
    <noscript>
      <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/css/ce_bundle.css">
    </noscript>
    <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/images/favicon.png">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/images/touchicon-180.png"><link rel="canonical" href="structkeymaster1__device-2.html"></head>
  <body type="article"
        theme="androidsource-theme"
        class=""
        
        layout="docs"
        pending>
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
    <div class="devsite-wrapper"><devsite-header ds-is="header" keep-tabs-visible>
      








<div class="devsite-header--inner">
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="Close menu">
        </button>
        <div class="devsite-product-name-wrapper">
  <a href="../../index.html" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo">
  <img src="https://www.gstatic.cn/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/images/lockup.svg" class="devsite-site-logo" alt="Android Open Source Project">
</a>
            <span class="devsite-product-name">
            <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item">
                              </li>
  </ul>
          </span>
        
</div>        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
                          <devsite-tabs ds-is="tabs" class="upper-tabs">
  <div class="devsite-tabs-wrapper">
                  <tab >
          <a href="../../setup.html"
   class="gc-analytics-event"
   title="Set up"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Set up"
   >
  Set up
</a>

        </tab>
                        <tab >
          <a href="../../compatibility.html"
   class="gc-analytics-event"
   title="Design"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Design"
   >
  Design
</a>

        </tab>
                        <tab >
          <a href="../../security.html"
   class="gc-analytics-event"
   title="Secure"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Secure"
   >
  Secure
</a>

        </tab>
                        <tab >
          <a href="../../devices/audio.html"
   class="gc-analytics-event"
   title="Develop"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Develop"
   >
  Develop
</a>

        </tab>
                        <tab >
          <a href="../../devices/tech/dalvik.html"
   class="gc-analytics-event"
   title="Configure"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Configure"
   >
  Configure
</a>

        </tab>
                        <tab >
          <a href="../../reference.html"
   class="gc-analytics-event"
   title="Reference"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Reference"
   >
  Reference
</a>

        </tab>
            </div>
</devsite-tabs>

                       </div>
          <devsite-search ds-is="search"
            enable-suggestions
                  project-path="">
  <form class="devsite-search-form" action="https://source.android.google.cn/s/results/" method="GET">
    <div class="devsite-search-container">
      <div id="searchbox" class="devsite-searchbox">
                <input placeholder="Search"
          type="text"
          class="devsite-search-field devsite-search-query"
          name="q"
          value=""
          autocomplete="off"
                    aria-label="Search box">
        <div class="devsite-search-image material-icons"></div>
      </div>
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              aria-label="Open search box"></button>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          aria-label="Close search box"></button>
</devsite-search>

        </div>

                <a class="devsite-header-link devsite-top-button button gc-analytics-event"
           href="http://android-review.googlesource.com/"
           data-category="Site-Wide Custom Events"
           data-label="Site header link">
          Go to code
        </a>
                      </div>    </div>  </div>
  <div class="devsite-collapsible-section
          devsite-header-no-lower-tabs
    ">
    <div class="devsite-header-background">
                              </div>  </div></div>

  </devsite-header>      <devsite-book-nav ds-is="book-nav" scrollbars hidden>
                  

<nav class="devsite-book-nav devsite-nav nocontent">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="Close navigation">
    </button>
  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
              <ul class="devsite-nav-list">
                      <li class="devsite-nav-item">
                                <a href="../../setup.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Set up">
      <span class="devsite-nav-text" >Set up</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../compatibility.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Design">
      <span class="devsite-nav-text" >Design</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../security.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Secure">
      <span class="devsite-nav-text" >Secure</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../devices/audio.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Develop">
      <span class="devsite-nav-text" >Develop</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../devices/tech/dalvik.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Configure">
      <span class="devsite-nav-text" >Configure</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../reference.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Reference">
      <span class="devsite-nav-text" >Reference</span>
        </a>
  
                                        </li>
                                <li class="devsite-nav-item">
    <a href="http://android-review.googlesource.com/"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Go to code">
      <span class="devsite-nav-text" >Go to code</span>
        </a>
  </li>

                  </ul>
          </div>
      </div>
</nav>
              </devsite-book-nav>
      <div id="gc-wrapper">
        <div class="devsite-main-content"
                        has-toc>
          <devsite-toc ds-is="toc" class="devsite-nav"
            ></devsite-toc>
          <devsite-content ds-is="content">
                          

<article class="devsite-article">
  <article class="devsite-article-inner">    
    <div class="devsite-article-meta">
      <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item">
                    <a href="../../index.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="1"
          >
            AOSP
      
  </a>
        </li>
  </ul>
               <devsite-page-rating position="header" selected-rating="0" hover-rating-star="0">
         </devsite-page-rating>
          </div>

        
    <devsite-toc ds-is="toc" class="devsite-nav" devsite-toc-embedded
                 ></devsite-toc>

    <div class="devsite-article-body clearfix
              devsite-no-page-title
        ">

              
  <div id="top"><!-- do not remove this div --></div>
  <h1><div class="title">keymaster1_device Struct Reference</div></h1>

<div id="doc-content">
<div class="header">
 <div class="summary">
  <a href="#pub-attribs">
   Data Fields
  </a>
 </div>
 <div class="headertitle">
  <div class="title">
   keymaster1_device Struct Reference
  </div>
 </div>
</div>
<!--header-->
<div class="contents">
 <p>
  <code>
   #include &lt;
   <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
    keymaster1.h
   </a>
   &gt;
  </code>
 </p>
 <table class="memberdecls">
  <tr class="heading">
   <td colspan="2">
    <h2 class="groupheader">
     <a name="pub-attribs">
     </a>
     Data Fields
    </h2>
   </td>
  </tr>
  <tr class="memitem:a86a0ca82dd3f02023e259b8b5e155dbe">
   <td class="memItemLeft" align="right" valign="top">
    struct
    <a class="el" href="structhw__device__t-2.html">
     hw_device_t
    </a>
    &#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#a86a0ca82dd3f02023e259b8b5e155dbe">
     common
    </a>
   </td>
  </tr>
  <tr class="separator:a86a0ca82dd3f02023e259b8b5e155dbe">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a15b3e3a3e21a1e45892af6bfac6834c8">
   <td class="memItemLeft" align="right" valign="top">
    uint32_t&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#a15b3e3a3e21a1e45892af6bfac6834c8">
     client_version
    </a>
   </td>
  </tr>
  <tr class="separator:a15b3e3a3e21a1e45892af6bfac6834c8">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a773b39d480759f67926cb18ae2219281">
   <td class="memItemLeft" align="right" valign="top">
    uint32_t&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#a773b39d480759f67926cb18ae2219281">
     flags
    </a>
   </td>
  </tr>
  <tr class="separator:a773b39d480759f67926cb18ae2219281">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:ae376f130b17d169ee51be68077a89ed0">
   <td class="memItemLeft" align="right" valign="top">
    void *&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#ae376f130b17d169ee51be68077a89ed0">
     context
    </a>
   </td>
  </tr>
  <tr class="separator:ae376f130b17d169ee51be68077a89ed0">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a7bdefb9b33c3ae42dd36be3afffb1215">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#a7bdefb9b33c3ae42dd36be3afffb1215">
     generate_keypair
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev, const
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_common.h">
     keymaster_keypair_t
    </a>
    key_type, const void *key_params, uint8_t **key_blob, size_t *key_blob_length)
   </td>
  </tr>
  <tr class="separator:a7bdefb9b33c3ae42dd36be3afffb1215">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a7e5d897f4dac88671c441aee9a80b876">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#a7e5d897f4dac88671c441aee9a80b876">
     import_keypair
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev, const uint8_t *key, const size_t key_length, uint8_t **key_blob, size_t *key_blob_length)
   </td>
  </tr>
  <tr class="separator:a7e5d897f4dac88671c441aee9a80b876">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:ad53f324ac6476496708ffa4b13bab716">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#ad53f324ac6476496708ffa4b13bab716">
     get_keypair_public
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev, const uint8_t *key_blob, const size_t key_blob_length, uint8_t **x509_data, size_t *x509_data_length)
   </td>
  </tr>
  <tr class="separator:ad53f324ac6476496708ffa4b13bab716">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a1380d233beee6513ef32133b549e5779">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#a1380d233beee6513ef32133b549e5779">
     delete_keypair
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev, const uint8_t *key_blob, const size_t key_blob_length)
   </td>
  </tr>
  <tr class="separator:a1380d233beee6513ef32133b549e5779">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:ae7158d59431d8a3b114db7db21c2892e">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#ae7158d59431d8a3b114db7db21c2892e">
     delete_all
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev)
   </td>
  </tr>
  <tr class="separator:ae7158d59431d8a3b114db7db21c2892e">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:aff0939b6df82b378a41e1b3956bacdc2">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#aff0939b6df82b378a41e1b3956bacdc2">
     sign_data
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev, const void *signing_params, const uint8_t *key_blob, const size_t key_blob_length, const uint8_t *data, const size_t data_length, uint8_t **signed_data, size_t *signed_data_length)
   </td>
  </tr>
  <tr class="separator:aff0939b6df82b378a41e1b3956bacdc2">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a78c926152ef8e4088969a6b189ce70cd">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#a78c926152ef8e4088969a6b189ce70cd">
     verify_data
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev, const void *signing_params, const uint8_t *key_blob, const size_t key_blob_length, const uint8_t *signed_data, const size_t signed_data_length, const uint8_t *signature, const size_t signature_length)
   </td>
  </tr>
  <tr class="separator:a78c926152ef8e4088969a6b189ce70cd">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a70f0fb4b7cc24480b9c49e8ff3c5b11d">
   <td class="memItemLeft" align="right" valign="top">
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_error_t
    </a>
    (*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#a70f0fb4b7cc24480b9c49e8ff3c5b11d">
     get_supported_algorithms
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_algorithm_t
    </a>
    **algorithms, size_t *algorithms_length)
   </td>
  </tr>
  <tr class="separator:a70f0fb4b7cc24480b9c49e8ff3c5b11d">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a684bcf0d2b84dc662c04a63841b291f7">
   <td class="memItemLeft" align="right" valign="top">
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_error_t
    </a>
    (*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#a684bcf0d2b84dc662c04a63841b291f7">
     get_supported_block_modes
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_algorithm_t
    </a>
    algorithm,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_purpose_t
    </a>
    purpose,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_block_mode_t
    </a>
    **modes, size_t *modes_length)
   </td>
  </tr>
  <tr class="separator:a684bcf0d2b84dc662c04a63841b291f7">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:aeb659f57438bf9145a6f365e3e46938e">
   <td class="memItemLeft" align="right" valign="top">
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_error_t
    </a>
    (*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#aeb659f57438bf9145a6f365e3e46938e">
     get_supported_padding_modes
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_algorithm_t
    </a>
    algorithm,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_purpose_t
    </a>
    purpose,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_padding_t
    </a>
    **modes, size_t *modes_length)
   </td>
  </tr>
  <tr class="separator:aeb659f57438bf9145a6f365e3e46938e">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:ab1845d66ff41b0bb992d0080bd31f065">
   <td class="memItemLeft" align="right" valign="top">
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_error_t
    </a>
    (*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#ab1845d66ff41b0bb992d0080bd31f065">
     get_supported_digests
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_algorithm_t
    </a>
    algorithm,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_purpose_t
    </a>
    purpose,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_digest_t
    </a>
    **digests, size_t *digests_length)
   </td>
  </tr>
  <tr class="separator:ab1845d66ff41b0bb992d0080bd31f065">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:abd169b2014c9f32b51bd2598c4ec014c">
   <td class="memItemLeft" align="right" valign="top">
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_error_t
    </a>
    (*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#abd169b2014c9f32b51bd2598c4ec014c">
     get_supported_import_formats
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_algorithm_t
    </a>
    algorithm,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_key_format_t
    </a>
    **formats, size_t *formats_length)
   </td>
  </tr>
  <tr class="separator:abd169b2014c9f32b51bd2598c4ec014c">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a86d15da68c99bad80b8f4b631b79dbd4">
   <td class="memItemLeft" align="right" valign="top">
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_error_t
    </a>
    (*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#a86d15da68c99bad80b8f4b631b79dbd4">
     get_supported_export_formats
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_algorithm_t
    </a>
    algorithm,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_key_format_t
    </a>
    **formats, size_t *formats_length)
   </td>
  </tr>
  <tr class="separator:a86d15da68c99bad80b8f4b631b79dbd4">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a0c841a61a6df36236363db09481cc3fb">
   <td class="memItemLeft" align="right" valign="top">
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_error_t
    </a>
    (*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#a0c841a61a6df36236363db09481cc3fb">
     add_rng_entropy
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev, const uint8_t *data, size_t data_length)
   </td>
  </tr>
  <tr class="separator:a0c841a61a6df36236363db09481cc3fb">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a48747e19fea2537b01643ae8b73866e8">
   <td class="memItemLeft" align="right" valign="top">
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_error_t
    </a>
    (*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#a48747e19fea2537b01643ae8b73866e8">
     generate_key
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev, const
    <a class="el" href="structkeymaster__key__param__set__t.html">
     keymaster_key_param_set_t
    </a>
    *params,
    <a class="el" href="structkeymaster__key__blob__t.html">
     keymaster_key_blob_t
    </a>
    *key_blob,
    <a class="el" href="structkeymaster__key__characteristics__t.html">
     keymaster_key_characteristics_t
    </a>
    **characteristics)
   </td>
  </tr>
  <tr class="separator:a48747e19fea2537b01643ae8b73866e8">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:ad6c6cdb00c5c35a87ea58f4948ce8701">
   <td class="memItemLeft" align="right" valign="top">
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_error_t
    </a>
    (*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#ad6c6cdb00c5c35a87ea58f4948ce8701">
     get_key_characteristics
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev, const
    <a class="el" href="structkeymaster__key__blob__t.html">
     keymaster_key_blob_t
    </a>
    *key_blob, const
    <a class="el" href="structkeymaster__blob__t.html">
     keymaster_blob_t
    </a>
    *client_id, const
    <a class="el" href="structkeymaster__blob__t.html">
     keymaster_blob_t
    </a>
    *app_data,
    <a class="el" href="structkeymaster__key__characteristics__t.html">
     keymaster_key_characteristics_t
    </a>
    **characteristics)
   </td>
  </tr>
  <tr class="separator:ad6c6cdb00c5c35a87ea58f4948ce8701">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a4185daca9b1da0b55bb6f2aafdb2c166">
   <td class="memItemLeft" align="right" valign="top">
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_error_t
    </a>
    (*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#a4185daca9b1da0b55bb6f2aafdb2c166">
     import_key
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev, const
    <a class="el" href="structkeymaster__key__param__set__t.html">
     keymaster_key_param_set_t
    </a>
    *params,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_key_format_t
    </a>
    key_format, const
    <a class="el" href="structkeymaster__blob__t.html">
     keymaster_blob_t
    </a>
    *key_data,
    <a class="el" href="structkeymaster__key__blob__t.html">
     keymaster_key_blob_t
    </a>
    *key_blob,
    <a class="el" href="structkeymaster__key__characteristics__t.html">
     keymaster_key_characteristics_t
    </a>
    **characteristics)
   </td>
  </tr>
  <tr class="separator:a4185daca9b1da0b55bb6f2aafdb2c166">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a8413a091c1feb480cfa890314a9f7a57">
   <td class="memItemLeft" align="right" valign="top">
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_error_t
    </a>
    (*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#a8413a091c1feb480cfa890314a9f7a57">
     export_key
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_key_format_t
    </a>
    export_format, const
    <a class="el" href="structkeymaster__key__blob__t.html">
     keymaster_key_blob_t
    </a>
    *key_to_export, const
    <a class="el" href="structkeymaster__blob__t.html">
     keymaster_blob_t
    </a>
    *client_id, const
    <a class="el" href="structkeymaster__blob__t.html">
     keymaster_blob_t
    </a>
    *app_data,
    <a class="el" href="structkeymaster__blob__t.html">
     keymaster_blob_t
    </a>
    *export_data)
   </td>
  </tr>
  <tr class="separator:a8413a091c1feb480cfa890314a9f7a57">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a9963173bfdbe08ccb5583832c562faa5">
   <td class="memItemLeft" align="right" valign="top">
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_error_t
    </a>
    (*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#a9963173bfdbe08ccb5583832c562faa5">
     delete_key
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev, const
    <a class="el" href="structkeymaster__key__blob__t.html">
     keymaster_key_blob_t
    </a>
    *key)
   </td>
  </tr>
  <tr class="separator:a9963173bfdbe08ccb5583832c562faa5">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a120b6c716cd004a9e63f2d5b7b2204ad">
   <td class="memItemLeft" align="right" valign="top">
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_error_t
    </a>
    (*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#a120b6c716cd004a9e63f2d5b7b2204ad">
     delete_all_keys
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev)
   </td>
  </tr>
  <tr class="separator:a120b6c716cd004a9e63f2d5b7b2204ad">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:aafc0e60768850594b840e4bdfcfae8d3">
   <td class="memItemLeft" align="right" valign="top">
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_error_t
    </a>
    (*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#aafc0e60768850594b840e4bdfcfae8d3">
     begin
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_purpose_t
    </a>
    purpose, const
    <a class="el" href="structkeymaster__key__blob__t.html">
     keymaster_key_blob_t
    </a>
    *key, const
    <a class="el" href="structkeymaster__key__param__set__t.html">
     keymaster_key_param_set_t
    </a>
    *in_params,
    <a class="el" href="structkeymaster__key__param__set__t.html">
     keymaster_key_param_set_t
    </a>
    *out_params,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_operation_handle_t
    </a>
    *operation_handle)
   </td>
  </tr>
  <tr class="separator:aafc0e60768850594b840e4bdfcfae8d3">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a44c0479868b7c179a2a68b161a92fa08">
   <td class="memItemLeft" align="right" valign="top">
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_error_t
    </a>
    (*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#a44c0479868b7c179a2a68b161a92fa08">
     update
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_operation_handle_t
    </a>
    operation_handle, const
    <a class="el" href="structkeymaster__key__param__set__t.html">
     keymaster_key_param_set_t
    </a>
    *in_params, const
    <a class="el" href="structkeymaster__blob__t.html">
     keymaster_blob_t
    </a>
    *input, size_t *input_consumed,
    <a class="el" href="structkeymaster__key__param__set__t.html">
     keymaster_key_param_set_t
    </a>
    *out_params,
    <a class="el" href="structkeymaster__blob__t.html">
     keymaster_blob_t
    </a>
    *output)
   </td>
  </tr>
  <tr class="separator:a44c0479868b7c179a2a68b161a92fa08">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:ad6246f1c2dbb8ef6a8fc95f94ed428f0">
   <td class="memItemLeft" align="right" valign="top">
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_error_t
    </a>
    (*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#ad6246f1c2dbb8ef6a8fc95f94ed428f0">
     finish
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_operation_handle_t
    </a>
    operation_handle, const
    <a class="el" href="structkeymaster__key__param__set__t.html">
     keymaster_key_param_set_t
    </a>
    *in_params, const
    <a class="el" href="structkeymaster__blob__t.html">
     keymaster_blob_t
    </a>
    *signature,
    <a class="el" href="structkeymaster__key__param__set__t.html">
     keymaster_key_param_set_t
    </a>
    *out_params,
    <a class="el" href="structkeymaster__blob__t.html">
     keymaster_blob_t
    </a>
    *output)
   </td>
  </tr>
  <tr class="separator:ad6246f1c2dbb8ef6a8fc95f94ed428f0">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a3fa6d2b2bd7493ac37ed9a4665d51771">
   <td class="memItemLeft" align="right" valign="top">
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_error_t
    </a>
    (*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structkeymaster1__device.html#a3fa6d2b2bd7493ac37ed9a4665d51771">
     abort
    </a>
    )(const struct
    <a class="el" href="structkeymaster1__device.html">
     keymaster1_device
    </a>
    *dev,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_operation_handle_t
    </a>
    operation_handle)
   </td>
  </tr>
  <tr class="separator:a3fa6d2b2bd7493ac37ed9a4665d51771">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
 </table>
 <a name="details" id="details">
 </a>
 <h2 class="groupheader">
  Detailed Description
 </h2>
 <div class="textblock">
  <p>
   Keymaster1 device definition
  </p>
  <p>
   Definition at line
   <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
    28
   </a>
   of file
   <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
    keymaster1.h
   </a>
   .
  </p>
 </div>
 <h2 class="groupheader">
  Field Documentation
 </h2>
 <a class="anchor" id="a3fa6d2b2bd7493ac37ed9a4665d51771">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_error_t
      </a>
      (* abort)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_operation_handle_t
      </a>
      operation_handle)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Aborts a cryptographic operation begun with
    <a class="el" href="structkeymaster1__device.html#aafc0e60768850594b840e4bdfcfae8d3">
     begin()
    </a>
    , freeing all internal resources and invalidating
    <code>
     operation_handle
    </code>
    .
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     531
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a0c841a61a6df36236363db09481cc3fb">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_error_t
      </a>
      (* add_rng_entropy)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev, const uint8_t *data, size_t data_length)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Adds entropy to the RNG used by keymaster. Entropy added through this method is guaranteed not to be the only source of entropy used, and the mixing function is required to be secure, in the sense that if the RNG is seeded (from any source) with any data the attacker cannot predict (or control), then the RNG output is indistinguishable from random. Thus, if the entropy from any source is good, the output will be good.
   </p>
   <dl class="params">
    <dt>
     Parameters
    </dt>
    <dd>
     <table class="params">
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        dev
       </td>
       <td>
        The keymaster device structure.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        data
       </td>
       <td>
        Random data to be mixed in.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        data_length
       </td>
       <td>
        Length of
        <code>
         data
        </code>
        .
       </td>
      </tr>
     </table>
    </dd>
   </dl>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     242
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="aafc0e60768850594b840e4bdfcfae8d3">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_error_t
      </a>
      (* begin)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_purpose_t
      </a>
      purpose, const
      <a class="el" href="structkeymaster__key__blob__t.html">
       keymaster_key_blob_t
      </a>
      *key, const
      <a class="el" href="structkeymaster__key__param__set__t.html">
       keymaster_key_param_set_t
      </a>
      *in_params,
      <a class="el" href="structkeymaster__key__param__set__t.html">
       keymaster_key_param_set_t
      </a>
      *out_params,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_operation_handle_t
      </a>
      *operation_handle)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Begins a cryptographic operation using the specified key. If all is well,
    <a class="el" href="structkeymaster1__device.html#aafc0e60768850594b840e4bdfcfae8d3">
     begin()
    </a>
    will return KM_ERROR_OK and create an operation handle which must be passed to subsequent calls to
    <a class="el" href="structkeymaster1__device.html#a44c0479868b7c179a2a68b161a92fa08">
     update()
    </a>
    ,
    <a class="el" href="structkeymaster1__device.html#ad6246f1c2dbb8ef6a8fc95f94ed428f0">
     finish()
    </a>
    or
    <a class="el" href="structkeymaster1__device.html#a3fa6d2b2bd7493ac37ed9a4665d51771">
     abort()
    </a>
    .
   </p>
   <p>
    It is critical that each call to
    <a class="el" href="structkeymaster1__device.html#aafc0e60768850594b840e4bdfcfae8d3">
     begin()
    </a>
    be paired with a subsequent call to
    <a class="el" href="structkeymaster1__device.html#ad6246f1c2dbb8ef6a8fc95f94ed428f0">
     finish()
    </a>
    or
    <a class="el" href="structkeymaster1__device.html#a3fa6d2b2bd7493ac37ed9a4665d51771">
     abort()
    </a>
    , to allow the keymaster implementation to clean up any internal operation state. Failure to do this may leak internal state space or other internal resources and may eventually cause
    <a class="el" href="structkeymaster1__device.html#aafc0e60768850594b840e4bdfcfae8d3">
     begin()
    </a>
    to return KM_ERROR_TOO_MANY_OPERATIONS when it runs out of space for operations. Any result other than KM_ERROR_OK from
    <a class="el" href="structkeymaster1__device.html#aafc0e60768850594b840e4bdfcfae8d3">
     begin()
    </a>
    ,
    <a class="el" href="structkeymaster1__device.html#a44c0479868b7c179a2a68b161a92fa08">
     update()
    </a>
    or
    <a class="el" href="structkeymaster1__device.html#ad6246f1c2dbb8ef6a8fc95f94ed428f0">
     finish()
    </a>
    implicitly aborts the operation, in which case
    <a class="el" href="structkeymaster1__device.html#a3fa6d2b2bd7493ac37ed9a4665d51771">
     abort()
    </a>
    need not be called (and will return KM_ERROR_INVALID_OPERATION_HANDLE if called).
   </p>
   <dl class="params">
    <dt>
     Parameters
    </dt>
    <dd>
     <table class="params">
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        dev
       </td>
       <td>
        The keymaster device structure.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        purpose
       </td>
       <td>
        The purpose of the operation, one of KM_PURPOSE_ENCRYPT, KM_PURPOSE_DECRYPT, KM_PURPOSE_SIGN or KM_PURPOSE_VERIFY. Note that for AEAD modes, encryption and decryption imply signing and verification, respectively, but should be specified as KM_PURPOSE_ENCRYPT and KM_PURPOSE_DECRYPT.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        key
       </td>
       <td>
        The key to be used for the operation.
        <code>
         key
        </code>
        must have a purpose compatible with
        <code>
         purpose
        </code>
        and all of its usage requirements must be satisfied, or
        <a class="el" href="structkeymaster1__device.html#aafc0e60768850594b840e4bdfcfae8d3">
         begin()
        </a>
        will return an appropriate error code.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        in_params
       </td>
       <td>
        Additional parameters for the operation. This is typically used to provide authentication data, with KM_TAG_AUTH_TOKEN. If KM_TAG_APPLICATION_ID or KM_TAG_APPLICATION_DATA were provided during generation, they must be provided here, or the operation will fail with KM_ERROR_INVALID_KEY_BLOB. For operations that require a nonce or IV, on keys that were generated with KM_TAG_CALLER_NONCE, in_params may contain a tag KM_TAG_NONCE. For AEAD operations KM_TAG_CHUNK_SIZE is specified here.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        out_params
       </td>
       <td>
        Output parameters. Used to return additional data from the operation initialization, notably to return the IV or nonce from operations that generate an IV or nonce. The caller takes ownership of the output parameters array and must free it with
        <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
         keymaster_free_param_set()
        </a>
        . out_params may be set to NULL if no output parameters are expected. If out_params is NULL, and output paramaters are generated,
        <a class="el" href="structkeymaster1__device.html#aafc0e60768850594b840e4bdfcfae8d3">
         begin()
        </a>
        will return KM_ERROR_OUTPUT_PARAMETER_NULL.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        operation_handle
       </td>
       <td>
        The newly-created operation handle which must be passed to
        <a class="el" href="structkeymaster1__device.html#a44c0479868b7c179a2a68b161a92fa08">
         update()
        </a>
        ,
        <a class="el" href="structkeymaster1__device.html#ad6246f1c2dbb8ef6a8fc95f94ed428f0">
         finish()
        </a>
        or
        <a class="el" href="structkeymaster1__device.html#a3fa6d2b2bd7493ac37ed9a4665d51771">
         abort()
        </a>
        . If operation_handle is NULL,
        <a class="el" href="structkeymaster1__device.html#aafc0e60768850594b840e4bdfcfae8d3">
         begin()
        </a>
        will return KM_ERROR_OUTPUT_PARAMETER_NULL.
       </td>
      </tr>
     </table>
    </dd>
   </dl>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     451
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a15b3e3a3e21a1e45892af6bfac6834c8">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      uint32_t client_version
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    THIS IS DEPRECATED. Use the new "module_api_version" and "hal_api_version" fields in the keymaster_module initialization instead.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     41
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a86a0ca82dd3f02023e259b8b5e155dbe">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      struct
      <a class="el" href="structhw__device__t-2.html">
       hw_device_t
      </a>
      common
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Common methods of the keymaster device. This
    <em>
     must
    </em>
    be the first member of keymaster_device as users of this structure will cast a
    <a class="el" href="structhw__device__t-2.html">
     hw_device_t
    </a>
    to keymaster_device pointer in contexts where it's known the
    <a class="el" href="structhw__device__t-2.html">
     hw_device_t
    </a>
    references a keymaster_device.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     35
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="ae376f130b17d169ee51be68077a89ed0">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      void* context
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     48
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="ae7158d59431d8a3b114db7db21c2892e">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* delete_all)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <dl class="deprecated">
    <dt>
     <b>
      <a class="el" href="deprecated-2.html#_deprecated000005">
       Deprecated:
      </a>
     </b>
    </dt>
    <dd>
     Deletes all keys in the hardware keystore. Used when keystore is reset completely.
    </dd>
   </dl>
   <p>
    This function is optional and should be set to NULL if it is not implemented.
   </p>
   <p>
    Returns 0 on success or an error code less than 0.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     100
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a120b6c716cd004a9e63f2d5b7b2204ad">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_error_t
      </a>
      (* delete_all_keys)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Deletes all keys in the hardware keystore. Used when keystore is reset completely. After calling this function it will be impossible to use any previously generated or imported key blobs for any operations.
   </p>
   <p>
    This function is optional and should be set to NULL if it is not implemented.
   </p>
   <dl class="params">
    <dt>
     Parameters
    </dt>
    <dd>
     <table class="params">
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        dev
       </td>
       <td>
        The keymaster device structure.
       </td>
      </tr>
     </table>
    </dd>
   </dl>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     407
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a9963173bfdbe08ccb5583832c562faa5">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_error_t
      </a>
      (* delete_key)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev, const
      <a class="el" href="structkeymaster__key__blob__t.html">
       keymaster_key_blob_t
      </a>
      *key)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Deletes the key, or key pair, associated with the key blob. After calling this function it will be impossible to use the key for any other operations. May be applied to keys from foreign roots of trust (keys not usable under the current root of trust).
   </p>
   <p>
    This function is optional and should be set to NULL if it is not implemented.
   </p>
   <dl class="params">
    <dt>
     Parameters
    </dt>
    <dd>
     <table class="params">
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        dev
       </td>
       <td>
        The keymaster device structure.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        key
       </td>
       <td>
        The key to be deleted.
       </td>
      </tr>
     </table>
    </dd>
   </dl>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     395
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a1380d233beee6513ef32133b549e5779">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* delete_keypair)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev, const uint8_t *key_blob, const size_t key_blob_length)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <dl class="deprecated">
    <dt>
     <b>
      <a class="el" href="deprecated-2.html#_deprecated000004">
       Deprecated:
      </a>
     </b>
    </dt>
    <dd>
     Deletes the key pair associated with the key blob.
    </dd>
   </dl>
   <p>
    This function is optional and should be set to NULL if it is not implemented.
   </p>
   <p>
    Returns 0 on success or an error code less than 0.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     88
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a8413a091c1feb480cfa890314a9f7a57">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_error_t
      </a>
      (* export_key)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_key_format_t
      </a>
      export_format, const
      <a class="el" href="structkeymaster__key__blob__t.html">
       keymaster_key_blob_t
      </a>
      *key_to_export, const
      <a class="el" href="structkeymaster__blob__t.html">
       keymaster_blob_t
      </a>
      *client_id, const
      <a class="el" href="structkeymaster__blob__t.html">
       keymaster_blob_t
      </a>
      *app_data,
      <a class="el" href="structkeymaster__blob__t.html">
       keymaster_blob_t
      </a>
      *export_data)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Exports a public key, returning a byte array in the specified format.
   </p>
   <dl class="params">
    <dt>
     Parameters
    </dt>
    <dd>
     <table class="params">
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        dev
       </td>
       <td>
        The keymaster device structure.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        export_format
       </td>
       <td>
        The format to be used for exporting the key.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        key_to_export
       </td>
       <td>
        The key to export.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        export_data
       </td>
       <td>
        The exported key material. The caller assumes ownership.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        export_data_length
       </td>
       <td>
        The length of
        <code>
         export_data
        </code>
        .
       </td>
      </tr>
     </table>
    </dd>
   </dl>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     377
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="ad6246f1c2dbb8ef6a8fc95f94ed428f0">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_error_t
      </a>
      (* finish)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_operation_handle_t
      </a>
      operation_handle, const
      <a class="el" href="structkeymaster__key__param__set__t.html">
       keymaster_key_param_set_t
      </a>
      *in_params, const
      <a class="el" href="structkeymaster__blob__t.html">
       keymaster_blob_t
      </a>
      *signature,
      <a class="el" href="structkeymaster__key__param__set__t.html">
       keymaster_key_param_set_t
      </a>
      *out_params,
      <a class="el" href="structkeymaster__blob__t.html">
       keymaster_blob_t
      </a>
      *output)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Finalizes a cryptographic operation begun with
    <a class="el" href="structkeymaster1__device.html#aafc0e60768850594b840e4bdfcfae8d3">
     begin()
    </a>
    and invalidates
    <code>
     operation_handle
    </code>
    .
   </p>
   <dl class="params">
    <dt>
     Parameters
    </dt>
    <dd>
     <table class="params">
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        dev
       </td>
       <td>
        The keymaster device structure.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        operation_handle
       </td>
       <td>
        The operation handle returned by
        <a class="el" href="structkeymaster1__device.html#aafc0e60768850594b840e4bdfcfae8d3">
         begin()
        </a>
        . This handle will be invalidated.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        params
       </td>
       <td>
        Additional parameters for the operation. For AEAD modes, this is used to specify KM_TAG_ADDITIONAL_DATA, but only if no input data was provided to
        <a class="el" href="structkeymaster1__device.html#a44c0479868b7c179a2a68b161a92fa08">
         update()
        </a>
        .
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        signature
       </td>
       <td>
        The signature to be verified if the purpose specified in the
        <a class="el" href="structkeymaster1__device.html#aafc0e60768850594b840e4bdfcfae8d3">
         begin()
        </a>
        call was KM_PURPOSE_VERIFY.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        output
       </td>
       <td>
        The output data, if any. The caller assumes ownership of the allocated buffer.
       </td>
      </tr>
     </table>
    </dd>
   </dl>
   <p>
    If the operation being finished is a signature verification or an AEAD-mode decryption and verification fails then
    <a class="el" href="structkeymaster1__device.html#ad6246f1c2dbb8ef6a8fc95f94ed428f0">
     finish()
    </a>
    will return KM_ERROR_VERIFICATION_FAILED.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     521
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a773b39d480759f67926cb18ae2219281">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      uint32_t flags
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    See flags defined for keymaster0_devices::flags in
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_common.h">
     keymaster_common.h
    </a>
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     46
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a48747e19fea2537b01643ae8b73866e8">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_error_t
      </a>
      (* generate_key)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev, const
      <a class="el" href="structkeymaster__key__param__set__t.html">
       keymaster_key_param_set_t
      </a>
      *params,
      <a class="el" href="structkeymaster__key__blob__t.html">
       keymaster_key_blob_t
      </a>
      *key_blob,
      <a class="el" href="structkeymaster__key__characteristics__t.html">
       keymaster_key_characteristics_t
      </a>
      **characteristics)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Generates a key, or key pair, returning a key blob and/or a description of the key.
   </p>
   <p>
    Key generation parameters are defined as keymaster tag/value pairs, provided in
    <code>
     params
    </code>
    . See keymaster_tag_t for the full list. Some values that are always required for generation of useful keys are:
   </p>
   <ul>
    <li>
     KM_TAG_ALGORITHM;
    </li>
    <li>
     KM_TAG_PURPOSE; and
    </li>
    <li>
     (KM_TAG_USER_SECURE_ID and KM_TAG_USER_AUTH_TYPE) or KM_TAG_NO_AUTH_REQUIRED.
    </li>
   </ul>
   <p>
    KM_TAG_AUTH_TIMEOUT should generally be specified unless KM_TAG_NO_AUTH_REQUIRED is present, or the user will have to authenticate for every use.
   </p>
   <p>
    KM_TAG_BLOCK_MODE, KM_TAG_PADDING, KM_TAG_MAC_LENGTH and KM_TAG_DIGEST must be specified for algorithms that require them.
   </p>
   <p>
    The following tags may not be specified; their values will be provided by the implementation.
   </p>
   <ul>
    <li>
     KM_TAG_ORIGIN,
    </li>
    <li>
     KM_TAG_ROLLBACK_RESISTANT,
    </li>
    <li>
     KM_TAG_CREATION_DATETIME
    </li>
   </ul>
   <dl class="params">
    <dt>
     Parameters
    </dt>
    <dd>
     <table class="params">
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        dev
       </td>
       <td>
        The keymaster device structure.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        params
       </td>
       <td>
        Array of key generation parameters.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        params_count
       </td>
       <td>
        Length of
        <code>
         params
        </code>
        .
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        key_blob
       </td>
       <td>
        returns the generated key.
        <code>
         key_blob
        </code>
        must not be NULL. The caller assumes ownership key_blob-&gt;key_material and must free() it.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        characteristics
       </td>
       <td>
        returns the characteristics of the key that was, generated, if non-NULL. If non-NULL, the caller assumes ownership and must deallocate with
        <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
         keymaster_free_characteristics()
        </a>
        . Note that KM_TAG_ROOT_OF_TRUST, KM_TAG_APPLICATION_ID and KM_TAG_APPLICATION_DATA are never returned.
       </td>
      </tr>
     </table>
    </dd>
   </dl>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     282
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a7bdefb9b33c3ae42dd36be3afffb1215">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* generate_keypair)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev, const
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_common.h">
       keymaster_keypair_t
      </a>
      key_type, const void *key_params, uint8_t **key_blob, size_t *key_blob_length)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <dl class="deprecated">
    <dt>
     <b>
      <a class="el" href="deprecated-2.html#_deprecated000001">
       Deprecated:
      </a>
     </b>
    </dt>
    <dd>
     Generates a public and private key. The key-blob returned is opaque and must subsequently provided for signing and verification.
    </dd>
   </dl>
   <p>
    Returns: 0 on success or an error code less than 0.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     56
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="ad6c6cdb00c5c35a87ea58f4948ce8701">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_error_t
      </a>
      (* get_key_characteristics)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev, const
      <a class="el" href="structkeymaster__key__blob__t.html">
       keymaster_key_blob_t
      </a>
      *key_blob, const
      <a class="el" href="structkeymaster__blob__t.html">
       keymaster_blob_t
      </a>
      *client_id, const
      <a class="el" href="structkeymaster__blob__t.html">
       keymaster_blob_t
      </a>
      *app_data,
      <a class="el" href="structkeymaster__key__characteristics__t.html">
       keymaster_key_characteristics_t
      </a>
      **characteristics)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Returns the characteristics of the specified key, or KM_ERROR_INVALID_KEY_BLOB if the key_blob is invalid (implementations must fully validate the integrity of the key). client_id and app_data must be the ID and data provided when the key was generated or imported, or empty if KM_TAG_APPLICATION_ID and/or KM_TAG_APPLICATION_DATA were not provided during generation. Those values are not included in the returned characteristics. The caller assumes ownership of the allocated characteristics object, which must be deallocated with
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
     keymaster_free_characteristics()
    </a>
    .
   </p>
   <p>
    Note that KM_TAG_ROOT_OF_TRUST, KM_TAG_APPLICATION_ID and KM_TAG_APPLICATION_DATA are never returned.
   </p>
   <dl class="params">
    <dt>
     Parameters
    </dt>
    <dd>
     <table class="params">
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        dev
       </td>
       <td>
        The keymaster device structure.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        key_blob
       </td>
       <td>
        The key to retreive characteristics from.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        client_id
       </td>
       <td>
        The client ID data, or NULL if none associated.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        app_id
       </td>
       <td>
        The app data, or NULL if none associated.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        characteristics
       </td>
       <td>
        The key characteristics.
       </td>
      </tr>
     </table>
    </dd>
   </dl>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     309
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="ad53f324ac6476496708ffa4b13bab716">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* get_keypair_public)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev, const uint8_t *key_blob, const size_t key_blob_length, uint8_t **x509_data, size_t *x509_data_length)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <dl class="deprecated">
    <dt>
     <b>
      <a class="el" href="deprecated-2.html#_deprecated000003">
       Deprecated:
      </a>
     </b>
    </dt>
    <dd>
     Gets the public key part of a key pair. The public key must be in X.509 format (Java standard) encoded byte array.
    </dd>
   </dl>
   <p>
    Returns: 0 on success or an error code less than 0. On error, x509_data should not be allocated.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     76
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a70f0fb4b7cc24480b9c49e8ff3c5b11d">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_error_t
      </a>
      (* get_supported_algorithms)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_algorithm_t
      </a>
      **algorithms, size_t *algorithms_length)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Gets algorithms supported.
   </p>
   <dl class="params">
    <dt>
     Parameters
    </dt>
    <dd>
     <table class="params">
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        dev
       </td>
       <td>
        The keymaster device structure.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        algorithms
       </td>
       <td>
        Array of algorithms supported. The caller takes ownership of the array and must free() it.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        algorithms_length
       </td>
       <td>
        Length of
        <code>
         algorithms
        </code>
        .
       </td>
      </tr>
     </table>
    </dd>
   </dl>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     133
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a684bcf0d2b84dc662c04a63841b291f7">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_error_t
      </a>
      (* get_supported_block_modes)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_algorithm_t
      </a>
      algorithm,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_purpose_t
      </a>
      purpose,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_block_mode_t
      </a>
      **modes, size_t *modes_length)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Gets the block modes supported for the specified algorithm.
   </p>
   <dl class="params">
    <dt>
     Parameters
    </dt>
    <dd>
     <table class="params">
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        dev
       </td>
       <td>
        The keymaster device structure.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        algorithm
       </td>
       <td>
        The algorithm for which supported modes will be returned.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        modes
       </td>
       <td>
        Array of modes supported. The caller takes ownership of the array and must free() it.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        modes_length
       </td>
       <td>
        Length of
        <code>
         modes
        </code>
        .
       </td>
      </tr>
     </table>
    </dd>
   </dl>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     149
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="ab1845d66ff41b0bb992d0080bd31f065">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_error_t
      </a>
      (* get_supported_digests)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_algorithm_t
      </a>
      algorithm,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_purpose_t
      </a>
      purpose,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_digest_t
      </a>
      **digests, size_t *digests_length)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Gets the digests supported for the specified algorithm. Caller assumes ownership of the allocated array.
   </p>
   <dl class="params">
    <dt>
     Parameters
    </dt>
    <dd>
     <table class="params">
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        dev
       </td>
       <td>
        The keymaster device structure.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        algorithm
       </td>
       <td>
        The algorithm for which supported digests will be returned.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        digests
       </td>
       <td>
        Array of digests supported. The caller takes ownership of the array and must free() it.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        digests_length
       </td>
       <td>
        Length of
        <code>
         digests
        </code>
        .
       </td>
      </tr>
     </table>
    </dd>
   </dl>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     187
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a86d15da68c99bad80b8f4b631b79dbd4">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_error_t
      </a>
      (* get_supported_export_formats)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_algorithm_t
      </a>
      algorithm,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_key_format_t
      </a>
      **formats, size_t *formats_length)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Gets the key export formats supported for keys of the specified algorithm. Caller assumes ownership of the allocated array.
   </p>
   <dl class="params">
    <dt>
     Parameters
    </dt>
    <dd>
     <table class="params">
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        dev
       </td>
       <td>
        The keymaster device structure.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        algorithm
       </td>
       <td>
        The algorithm for which supported formats will be returned.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        formats
       </td>
       <td>
        Array of formats supported. The caller takes ownership of the array and must free() it.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        formats_length
       </td>
       <td>
        Length of
        <code>
         formats
        </code>
        .
       </td>
      </tr>
     </table>
    </dd>
   </dl>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     224
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="abd169b2014c9f32b51bd2598c4ec014c">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_error_t
      </a>
      (* get_supported_import_formats)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_algorithm_t
      </a>
      algorithm,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_key_format_t
      </a>
      **formats, size_t *formats_length)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Gets the key import formats supported for keys of the specified algorithm. Caller assumes ownership of the allocated array.
   </p>
   <dl class="params">
    <dt>
     Parameters
    </dt>
    <dd>
     <table class="params">
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        dev
       </td>
       <td>
        The keymaster device structure.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        algorithm
       </td>
       <td>
        The algorithm for which supported formats will be returned.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        formats
       </td>
       <td>
        Array of formats supported. The caller takes ownership of the array and must free() it.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        formats_length
       </td>
       <td>
        Length of
        <code>
         formats
        </code>
        .
       </td>
      </tr>
     </table>
    </dd>
   </dl>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     206
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="aeb659f57438bf9145a6f365e3e46938e">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_error_t
      </a>
      (* get_supported_padding_modes)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_algorithm_t
      </a>
      algorithm,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_purpose_t
      </a>
      purpose,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_padding_t
      </a>
      **modes, size_t *modes_length)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Gets the padding modes supported for the specified algorithm. Caller assumes ownership of the allocated array.
   </p>
   <dl class="params">
    <dt>
     Parameters
    </dt>
    <dd>
     <table class="params">
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        dev
       </td>
       <td>
        The keymaster device structure.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        algorithm
       </td>
       <td>
        The algorithm for which supported padding modes will be returned.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        modes
       </td>
       <td>
        Array of padding modes supported. The caller takes ownership of the array and must free() it.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        modes_length
       </td>
       <td>
        Length of
        <code>
         modes
        </code>
        .
       </td>
      </tr>
     </table>
    </dd>
   </dl>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     168
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a4185daca9b1da0b55bb6f2aafdb2c166">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_error_t
      </a>
      (* import_key)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev, const
      <a class="el" href="structkeymaster__key__param__set__t.html">
       keymaster_key_param_set_t
      </a>
      *params,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_key_format_t
      </a>
      key_format, const
      <a class="el" href="structkeymaster__blob__t.html">
       keymaster_blob_t
      </a>
      *key_data,
      <a class="el" href="structkeymaster__key__blob__t.html">
       keymaster_key_blob_t
      </a>
      *key_blob,
      <a class="el" href="structkeymaster__key__characteristics__t.html">
       keymaster_key_characteristics_t
      </a>
      **characteristics)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Imports a key, or key pair, returning a key blob and/or a description of the key.
   </p>
   <p>
    Most key import parameters are defined as keymaster tag/value pairs, provided in "params". See keymaster_tag_t for the full list. Values that are always required for import of useful keys are:
   </p>
   <ul>
    <li>
     KM_TAG_ALGORITHM;
    </li>
    <li>
     KM_TAG_PURPOSE; and
    </li>
    <li>
     (KM_TAG_USER_SECURE_ID and KM_TAG_USER_AUTH_TYPE) or KM_TAG_NO_AUTH_REQUIRED.
    </li>
   </ul>
   <p>
    KM_TAG_AUTH_TIMEOUT should generally be specified. If unspecified, the user will have to authenticate for every use.
   </p>
   <p>
    The following tags will take default values if unspecified:
   </p>
   <ul>
    <li>
     KM_TAG_KEY_SIZE will default to the size of the key provided.
    </li>
    <li>
     KM_TAG_RSA_PUBLIC_EXPONENT will default to the value in the key provided (for RSA keys)
    </li>
   </ul>
   <p>
    The following tags may not be specified; their values will be provided by the implementation.
   </p>
   <ul>
    <li>
     KM_TAG_ORIGIN,
    </li>
    <li>
     KM_TAG_ROLLBACK_RESISTANT,
    </li>
    <li>
     KM_TAG_CREATION_DATETIME
    </li>
   </ul>
   <dl class="params">
    <dt>
     Parameters
    </dt>
    <dd>
     <table class="params">
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        dev
       </td>
       <td>
        The keymaster device structure.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        params
       </td>
       <td>
        Parameters defining the imported key.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        params_count
       </td>
       <td>
        The number of entries in
        <code>
         params
        </code>
        .
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        key_format
       </td>
       <td>
        specifies the format of the key data in key_data.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        key_blob
       </td>
       <td>
        Used to return the opaque key blob. Must be non-NULL. The caller assumes ownership of the contained key_material.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        characteristics
       </td>
       <td>
        Used to return the characteristics of the imported key. May be NULL, in which case no characteristics will be returned. If non-NULL, the caller assumes ownership and must deallocate with
        <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
         keymaster_free_characteristics()
        </a>
        . Note that KM_TAG_ROOT_OF_TRUST, KM_TAG_APPLICATION_ID and KM_TAG_APPLICATION_DATA are never returned.
       </td>
      </tr>
     </table>
    </dd>
   </dl>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     357
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a7e5d897f4dac88671c441aee9a80b876">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* import_keypair)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev, const uint8_t *key, const size_t key_length, uint8_t **key_blob, size_t *key_blob_length)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <dl class="deprecated">
    <dt>
     <b>
      <a class="el" href="deprecated-2.html#_deprecated000002">
       Deprecated:
      </a>
     </b>
    </dt>
    <dd>
     Imports a public and private key pair. The imported keys will be in PKCS#8 format with DER encoding (Java standard). The key-blob returned is opaque and will be subsequently provided for signing and verification.
    </dd>
   </dl>
   <p>
    Returns: 0 on success or an error code less than 0.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     66
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="aff0939b6df82b378a41e1b3956bacdc2">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* sign_data)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev, const void *signing_params, const uint8_t *key_blob, const size_t key_blob_length, const uint8_t *data, const size_t data_length, uint8_t **signed_data, size_t *signed_data_length)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <dl class="deprecated">
    <dt>
     <b>
      <a class="el" href="deprecated-2.html#_deprecated000006">
       Deprecated:
      </a>
     </b>
    </dt>
    <dd>
     Signs data using a key-blob generated before. This can use either an asymmetric key or a secret key.
    </dd>
   </dl>
   <p>
    Returns: 0 on success or an error code less than 0.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     108
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a44c0479868b7c179a2a68b161a92fa08">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_error_t
      </a>
      (* update)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
       keymaster_operation_handle_t
      </a>
      operation_handle, const
      <a class="el" href="structkeymaster__key__param__set__t.html">
       keymaster_key_param_set_t
      </a>
      *in_params, const
      <a class="el" href="structkeymaster__blob__t.html">
       keymaster_blob_t
      </a>
      *input, size_t *input_consumed,
      <a class="el" href="structkeymaster__key__param__set__t.html">
       keymaster_key_param_set_t
      </a>
      *out_params,
      <a class="el" href="structkeymaster__blob__t.html">
       keymaster_blob_t
      </a>
      *output)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Provides data to, and possibly receives output from, an ongoing cryptographic operation begun with
    <a class="el" href="structkeymaster1__device.html#aafc0e60768850594b840e4bdfcfae8d3">
     begin()
    </a>
    .
   </p>
   <p>
    If operation_handle is invalid,
    <a class="el" href="structkeymaster1__device.html#a44c0479868b7c179a2a68b161a92fa08">
     update()
    </a>
    will return KM_ERROR_INVALID_OPERATION_HANDLE.
   </p>
   <p>
    <a class="el" href="structkeymaster1__device.html#a44c0479868b7c179a2a68b161a92fa08">
     update()
    </a>
    may not consume all of the data provided in the data buffer.
    <a class="el" href="structkeymaster1__device.html#a44c0479868b7c179a2a68b161a92fa08">
     update()
    </a>
    will return the amount consumed in *data_consumed. The caller should provide the unconsumed data in a subsequent call.
   </p>
   <dl class="params">
    <dt>
     Parameters
    </dt>
    <dd>
     <table class="params">
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        dev
       </td>
       <td>
        The keymaster device structure.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        operation_handle
       </td>
       <td>
        The operation handle returned by
        <a class="el" href="structkeymaster1__device.html#aafc0e60768850594b840e4bdfcfae8d3">
         begin()
        </a>
        .
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        in_params
       </td>
       <td>
        Additional parameters for the operation. For AEAD modes, this is used to specify KM_TAG_ADDITIONAL_DATA. Note that additional data may be provided in multiple calls to
        <a class="el" href="structkeymaster1__device.html#a44c0479868b7c179a2a68b161a92fa08">
         update()
        </a>
        , but only until input data has been provided.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [in]
       </td>
       <td class="paramname">
        input
       </td>
       <td>
        Data to be processed, per the parameters established in the call to
        <a class="el" href="structkeymaster1__device.html#aafc0e60768850594b840e4bdfcfae8d3">
         begin()
        </a>
        . Note that
        <a class="el" href="structkeymaster1__device.html#a44c0479868b7c179a2a68b161a92fa08">
         update()
        </a>
        may or may not consume all of the data provided. See
        <code>
         input_consumed
        </code>
        .
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        input_consumed
       </td>
       <td>
        Amount of data that was consumed by
        <a class="el" href="structkeymaster1__device.html#a44c0479868b7c179a2a68b161a92fa08">
         update()
        </a>
        . If this is less than the amount provided, the caller should provide the remainder in a subsequent call to
        <a class="el" href="structkeymaster1__device.html#a44c0479868b7c179a2a68b161a92fa08">
         update()
        </a>
        .
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        out_params
       </td>
       <td>
        Output parameters. Used to return additional data from the operation The caller takes ownership of the output parameters array and must free it with
        <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster_defs.h">
         keymaster_free_param_set()
        </a>
        . out_params may be set to NULL if no output parameters are expected. If out_params is NULL, and output paramaters are generated,
        <a class="el" href="structkeymaster1__device.html#aafc0e60768850594b840e4bdfcfae8d3">
         begin()
        </a>
        will return KM_ERROR_OUTPUT_PARAMETER_NULL.
       </td>
      </tr>
      <tr>
       <td class="paramdir">
        [out]
       </td>
       <td class="paramname">
        output
       </td>
       <td>
        The output data, if any. The caller assumes ownership of the allocated buffer. output must not be NULL.
       </td>
      </tr>
     </table>
    </dd>
   </dl>
   <p>
    Note that
    <a class="el" href="structkeymaster1__device.html#a44c0479868b7c179a2a68b161a92fa08">
     update()
    </a>
    may not provide any output, in which case output-&gt;data_length will be zero, and output-&gt;data may be either NULL or zero-length (so the caller should always free() it).
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     495
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a78c926152ef8e4088969a6b189ce70cd">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* verify_data)(const struct
      <a class="el" href="structkeymaster1__device.html">
       keymaster1_device
      </a>
      *dev, const void *signing_params, const uint8_t *key_blob, const size_t key_blob_length, const uint8_t *signed_data, const size_t signed_data_length, const uint8_t *signature, const size_t signature_length)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <dl class="deprecated">
    <dt>
     <b>
      <a class="el" href="deprecated-2.html#_deprecated000007">
       Deprecated:
      </a>
     </b>
    </dt>
    <dd>
     Verifies data signed with a key-blob. This can use either an asymmetric key or a secret key.
    </dd>
   </dl>
   <p>
    Returns: 0 on successful verification or an error code less than 0.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     118
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
     keymaster1.h
    </a>
    .
   </p>
  </div>
 </div>
 <hr />
 The documentation for this struct was generated from the following file:
 <ul>
  <li>
   hardware/libhardware/include/hardware/
   <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/keymaster1.h">
    keymaster1.h
   </a>
  </li>
 </ul>
</div>
<!-- contents -->
</div>


          </div>

    
                   <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0">
         </devsite-page-rating>
                   
          </article>
</article>

<devsite-content-footer ds-is="content-footer" class="nocontent">
  <p>Content and code samples on this page are subject to the licenses described in the <a href="../../license.html">Content License</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
</devsite-content-footer>


                      </devsite-content>
        </div>
        <devsite-footer-promos ds-is="footer-promos" class="devsite-footer">
                      
                  </devsite-footer-promos>
        <devsite-footer-linkboxes ds-is="footer-linkboxes" class="devsite-footer">
                      <nav class="devsite-footer-linkboxes nocontent">
  <ul class="devsite-footer-linkboxes-list">
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Build</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://android.googlesource.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            Android repository
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="../../setup/build/requirements.html"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            Requirements
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="../../setup/build/downloading.html"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Downloading
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/blobs-preview/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            Preview binaries
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/images/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Factory images
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/drivers/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Driver binaries
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://android.github.io/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            GitHub
          </a>
        </li>
              </ul>
    </li>
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Connect</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://twitter.com/Android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            @Android on Twitter
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://twitter.com/AndroidDev/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            @AndroidDev on Twitter
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://blog.google/products/android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Android Blog
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://security.googleblog.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            Google Security Blog
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-platform/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Platform on Google Groups
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-building/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Building on Google Groups
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-porting/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            Porting on Google Groups
          </a>
        </li>
              </ul>
    </li>
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Get help</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            Android Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/pixelphone/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            Pixel Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/nexus/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Nexus Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://www.android.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            www.android.com
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://www.android.com/gms/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Google Mobile Services
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://stackoverflow.com/questions/tagged/android-source/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Stack Overflow
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://issuetracker.google.com/issues?q=status:open%20componentid:190923"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            Issue Tracker
          </a>
        </li>
              </ul>
    </li>
      </ul>
</nav>
                  </devsite-footer-linkboxes>
        <devsite-footer-utility ds-is="footer-utility" class="devsite-footer">
                      <div class="devsite-footer-utility">
  
  <nav class="devsite-nav">
        <ul class="devsite-footer-utility-list">
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../source/index.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer About Android link">
          About Android
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../setup/community.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer Community link">
          Community
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../legal.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer Legal link">
          Legal
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../license.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer License link">
          License
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="http://policies.google.cn/privacy"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link">
          Privacy
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="http://issuetracker.google.com/issues/new?component=191476"
           data-category="Site-Wide Custom Events"
           data-label="Footer Site feedback link">
          Site feedback
        </a>
              </li>
          </ul>
    
        <form class="devsite-footer-utility-language">
      <select class="devsite-footer-utility-language-select"
              name="language"
              track-name="click"
              track-type="languageSelector">
                  <option value="en"
                  track-metadata-original-language="en"
                  track-metadata-selected-language="en"
                  track-name="changed"
                  track-type="languageSelector"
                  selected="selected">
            English
          </option>
                  <option value="zh_cn"
                  track-metadata-original-language="en"
                  track-metadata-selected-language="zh_cn"
                  track-name="changed"
                  track-type="languageSelector"
                  >
            简体中文
          </option>
              </select>
    </form>
      </nav>
</div>
                  </devsite-footer-utility>
      </div></div>
    <devsite-sitemask ds-is="site-mask"></devsite-sitemask>
    <devsite-snackbar ds-is="snackbar"                       ></devsite-snackbar>    <devsite-tooltip ds-is="tooltip"
                     blocked-link></devsite-tooltip>
    <devsite-analytics ds-is="analytics">
              <script type="application/json" analytics>[{"metrics": {"ratings_value": "metric1", "ratings_count": "metric2"}, "dimensions": {}, "gaid": "UA-45455297-4"}]</script>
<script type="application/json" gtm>[]</script>
          </devsite-analytics>
    <script>
    (function(d,e,v,E,l,o,p,r,s,_,__){d['GoogleDevelopersObject']=[!0,l,o,p,r,s];
    _=e.createElement(v);_.async=1;_.src=E;__=e.getElementsByTagName(v)[0];
    __.parentNode.insertBefore(_,__);})(window, document, 'script',
      'https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/js/app_loader.js',
      'en',
      'https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/js/devsite_app.js',
      'https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource',
      !1,
      ['/_pwa/androidsource/manifest.json',
       'https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/images/video-placeholder.svg',
       'https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/images/favicon.png','https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/images/lockup.svg','https://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons'],
       'https://androidsource-dot-google-developers.gonglchuangl.net/')
   </script>  </body>

<!-- Mirrored from source.android.google.cn/reference/hal/structkeymaster1__device by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 16 Mar 2019 18:43:43 GMT -->
</html>