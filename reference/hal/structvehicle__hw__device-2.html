<!doctype html>
<html  lang="en">
  
<!-- Mirrored from source.android.google.cn/reference/hal/structvehicle__hw__device by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 16 Mar 2019 18:43:44 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
          
<title>Android Hardware Abstraction Layer: vehicle_hw_device Struct Reference &nbsp;|&nbsp; Android Open Source Project</title>

<meta property="og:title" content="Android Hardware Abstraction Layer: vehicle_hw_device Struct Reference &nbsp;|&nbsp; Android Open Source Project">

  <meta property="og:url" content="structvehicle__hw__device-2.html">

  <meta property="og:locale" content="en">


  
  
  
  

        <meta property="og:site_name" content="Android Open Source Project">
    <meta property="og:type" content="website">
    
          <meta name="theme-color" content="#78c257">
    
    <meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="../../_pwa/androidsource/manifest.json">
    <link rel="preconnect" href="http://www.gstatic.com/" crossorigin>
    <link rel="preconnect" href="http://fonts.gstatic.com/" crossorigin>
    <link rel="preconnect" href="http://fonts.googleapis.com/" crossorigin>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons">
    <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/css/app.css">
    <noscript>
      <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/css/ce_bundle.css">
    </noscript>
    <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/images/favicon.png">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/images/touchicon-180.png"><link rel="canonical" href="structvehicle__hw__device-2.html"></head>
  <body type="article"
        theme="androidsource-theme"
        class=""
        
        layout="docs"
        pending>
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
    <div class="devsite-wrapper"><devsite-header ds-is="header" keep-tabs-visible>
      








<div class="devsite-header--inner">
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="Close menu">
        </button>
        <div class="devsite-product-name-wrapper">
  <a href="../../index.html" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo">
  <img src="https://www.gstatic.cn/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/images/lockup.svg" class="devsite-site-logo" alt="Android Open Source Project">
</a>
            <span class="devsite-product-name">
            <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item">
                              </li>
  </ul>
          </span>
        
</div>        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
                          <devsite-tabs ds-is="tabs" class="upper-tabs">
  <div class="devsite-tabs-wrapper">
                  <tab >
          <a href="../../setup.html"
   class="gc-analytics-event"
   title="Set up"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Set up"
   >
  Set up
</a>

        </tab>
                        <tab >
          <a href="../../compatibility.html"
   class="gc-analytics-event"
   title="Design"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Design"
   >
  Design
</a>

        </tab>
                        <tab >
          <a href="../../security.html"
   class="gc-analytics-event"
   title="Secure"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Secure"
   >
  Secure
</a>

        </tab>
                        <tab >
          <a href="../../devices/audio.html"
   class="gc-analytics-event"
   title="Develop"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Develop"
   >
  Develop
</a>

        </tab>
                        <tab >
          <a href="../../devices/tech/dalvik.html"
   class="gc-analytics-event"
   title="Configure"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Configure"
   >
  Configure
</a>

        </tab>
                        <tab >
          <a href="../../reference.html"
   class="gc-analytics-event"
   title="Reference"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Reference"
   >
  Reference
</a>

        </tab>
            </div>
</devsite-tabs>

                       </div>
          <devsite-search ds-is="search"
            enable-suggestions
                  project-path="">
  <form class="devsite-search-form" action="https://source.android.google.cn/s/results/" method="GET">
    <div class="devsite-search-container">
      <div id="searchbox" class="devsite-searchbox">
                <input placeholder="Search"
          type="text"
          class="devsite-search-field devsite-search-query"
          name="q"
          value=""
          autocomplete="off"
                    aria-label="Search box">
        <div class="devsite-search-image material-icons"></div>
      </div>
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              aria-label="Open search box"></button>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          aria-label="Close search box"></button>
</devsite-search>

        </div>

                <a class="devsite-header-link devsite-top-button button gc-analytics-event"
           href="http://android-review.googlesource.com/"
           data-category="Site-Wide Custom Events"
           data-label="Site header link">
          Go to code
        </a>
                      </div>    </div>  </div>
  <div class="devsite-collapsible-section
          devsite-header-no-lower-tabs
    ">
    <div class="devsite-header-background">
                              </div>  </div></div>

  </devsite-header>      <devsite-book-nav ds-is="book-nav" scrollbars hidden>
                  

<nav class="devsite-book-nav devsite-nav nocontent">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="Close navigation">
    </button>
  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
              <ul class="devsite-nav-list">
                      <li class="devsite-nav-item">
                                <a href="../../setup.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Set up">
      <span class="devsite-nav-text" >Set up</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../compatibility.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Design">
      <span class="devsite-nav-text" >Design</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../security.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Secure">
      <span class="devsite-nav-text" >Secure</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../devices/audio.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Develop">
      <span class="devsite-nav-text" >Develop</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../devices/tech/dalvik.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Configure">
      <span class="devsite-nav-text" >Configure</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../reference.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Reference">
      <span class="devsite-nav-text" >Reference</span>
        </a>
  
                                        </li>
                                <li class="devsite-nav-item">
    <a href="http://android-review.googlesource.com/"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Go to code">
      <span class="devsite-nav-text" >Go to code</span>
        </a>
  </li>

                  </ul>
          </div>
      </div>
</nav>
              </devsite-book-nav>
      <div id="gc-wrapper">
        <div class="devsite-main-content"
                        has-toc>
          <devsite-toc ds-is="toc" class="devsite-nav"
            ></devsite-toc>
          <devsite-content ds-is="content">
                          

<article class="devsite-article">
  <article class="devsite-article-inner">    
    <div class="devsite-article-meta">
      <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item">
                    <a href="../../index.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="1"
          >
            AOSP
      
  </a>
        </li>
  </ul>
               <devsite-page-rating position="header" selected-rating="0" hover-rating-star="0">
         </devsite-page-rating>
          </div>

        
    <devsite-toc ds-is="toc" class="devsite-nav" devsite-toc-embedded
                 ></devsite-toc>

    <div class="devsite-article-body clearfix
              devsite-no-page-title
        ">

              
  <div id="top"><!-- do not remove this div --></div>
  <h1><div class="title">vehicle_hw_device Struct Reference</div></h1>

<div id="doc-content">
<div class="header">
 <div class="summary">
  <a href="#pub-attribs">
   Data Fields
  </a>
 </div>
 <div class="headertitle">
  <div class="title">
   vehicle_hw_device Struct Reference
  </div>
 </div>
</div>
<!--header-->
<div class="contents">
 <p>
  <code>
   #include &lt;
   <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
    vehicle.h
   </a>
   &gt;
  </code>
 </p>
 <table class="memberdecls">
  <tr class="heading">
   <td colspan="2">
    <h2 class="groupheader">
     <a name="pub-attribs">
     </a>
     Data Fields
    </h2>
   </td>
  </tr>
  <tr class="memitem:a86a0ca82dd3f02023e259b8b5e155dbe">
   <td class="memItemLeft" align="right" valign="top">
    struct
    <a class="el" href="structhw__device__t-2.html">
     hw_device_t
    </a>
    &#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structvehicle__hw__device.html#a86a0ca82dd3f02023e259b8b5e155dbe">
     common
    </a>
   </td>
  </tr>
  <tr class="separator:a86a0ca82dd3f02023e259b8b5e155dbe">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:aaf61700e2522f8cd0cda3eb3d43b600f">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structvehicle__hw__device.html#aaf61700e2522f8cd0cda3eb3d43b600f">
     init
    </a>
    )(struct
    <a class="el" href="structvehicle__hw__device.html">
     vehicle_hw_device
    </a>
    *device,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     vehicle_event_callback_fn
    </a>
    event_fn,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     vehicle_error_callback_fn
    </a>
    err_fn)
   </td>
  </tr>
  <tr class="separator:aaf61700e2522f8cd0cda3eb3d43b600f">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a32c715dddbfbc656fae62b8f6d5285de">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structvehicle__hw__device.html#a32c715dddbfbc656fae62b8f6d5285de">
     release
    </a>
    )(struct
    <a class="el" href="structvehicle__hw__device.html">
     vehicle_hw_device
    </a>
    *device)
   </td>
  </tr>
  <tr class="separator:a32c715dddbfbc656fae62b8f6d5285de">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:ae3bcfc53ab0ae9caaa601594d7770ebc">
   <td class="memItemLeft" align="right" valign="top">
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     vehicle_prop_config_t
    </a>
    const *(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structvehicle__hw__device.html#ae3bcfc53ab0ae9caaa601594d7770ebc">
     list_properties
    </a>
    )(struct
    <a class="el" href="structvehicle__hw__device.html">
     vehicle_hw_device
    </a>
    *device, int *num_properties)
   </td>
  </tr>
  <tr class="separator:ae3bcfc53ab0ae9caaa601594d7770ebc">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:aeb1d7d08dd32a48a763c98c1a4a1eaaa">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structvehicle__hw__device.html#aeb1d7d08dd32a48a763c98c1a4a1eaaa">
     get
    </a>
    )(struct
    <a class="el" href="structvehicle__hw__device.html">
     vehicle_hw_device
    </a>
    *device,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     vehicle_prop_value_t
    </a>
    *data)
   </td>
  </tr>
  <tr class="separator:aeb1d7d08dd32a48a763c98c1a4a1eaaa">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a42e98a1fe9c5d7588ed53a17f24366b7">
   <td class="memItemLeft" align="right" valign="top">
    void(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structvehicle__hw__device.html#a42e98a1fe9c5d7588ed53a17f24366b7">
     release_memory_from_get
    </a>
    )(struct
    <a class="el" href="structvehicle__hw__device.html">
     vehicle_hw_device
    </a>
    *device,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     vehicle_prop_value_t
    </a>
    *data)
   </td>
  </tr>
  <tr class="separator:a42e98a1fe9c5d7588ed53a17f24366b7">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:ac07834ae97732190419f7464de29df7d">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structvehicle__hw__device.html#ac07834ae97732190419f7464de29df7d">
     set
    </a>
    )(struct
    <a class="el" href="structvehicle__hw__device.html">
     vehicle_hw_device
    </a>
    *device, const
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     vehicle_prop_value_t
    </a>
    *data)
   </td>
  </tr>
  <tr class="separator:ac07834ae97732190419f7464de29df7d">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a882a0fe259a3a4277871b6f925debe12">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structvehicle__hw__device.html#a882a0fe259a3a4277871b6f925debe12">
     subscribe
    </a>
    )(struct
    <a class="el" href="structvehicle__hw__device.html">
     vehicle_hw_device
    </a>
    *device, int32_t prop, float sample_rate, int32_t zones)
   </td>
  </tr>
  <tr class="separator:a882a0fe259a3a4277871b6f925debe12">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a3526b0752da9b4541a98b3e3d859e285">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structvehicle__hw__device.html#a3526b0752da9b4541a98b3e3d859e285">
     unsubscribe
    </a>
    )(struct
    <a class="el" href="structvehicle__hw__device.html">
     vehicle_hw_device
    </a>
    *device, int32_t prop)
   </td>
  </tr>
  <tr class="separator:a3526b0752da9b4541a98b3e3d859e285">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:ac96baa8062d95641bf75a093cb6a7a5d">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structvehicle__hw__device.html#ac96baa8062d95641bf75a093cb6a7a5d">
     dump
    </a>
    )(struct
    <a class="el" href="structvehicle__hw__device.html">
     vehicle_hw_device
    </a>
    *device, int fd)
   </td>
  </tr>
  <tr class="separator:ac96baa8062d95641bf75a093cb6a7a5d">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
 </table>
 <a name="details" id="details">
 </a>
 <h2 class="groupheader">
  Detailed Description
 </h2>
 <div class="textblock">
  <p>
   Definition at line
   <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
    1639
   </a>
   of file
   <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
    vehicle.h
   </a>
   .
  </p>
 </div>
 <h2 class="groupheader">
  Field Documentation
 </h2>
 <a class="anchor" id="a86a0ca82dd3f02023e259b8b5e155dbe">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      struct
      <a class="el" href="structhw__device__t-2.html">
       hw_device_t
      </a>
      common
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     1640
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     vehicle.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="ac96baa8062d95641bf75a093cb6a7a5d">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* dump)(struct
      <a class="el" href="structvehicle__hw__device.html">
       vehicle_hw_device
      </a>
      *device, int fd)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Print out debugging state for the vehicle hal. This will be called by the vehicle network service and will be included into the service' dump.
   </p>
   <p>
    The passed-in file descriptor can be used to write debugging text using dprintf() or write(). The text should be in ASCII encoding only.
   </p>
   <p>
    Performance requirements:
   </p>
   <p>
    This must be a non-blocking call. The HAL should return from this call in 1ms, must return from this call in 10ms. This call must avoid deadlocks, as it may be called at any point of operation. Any synchronization primitives used (such as mutex locks or semaphores) should be acquired with a timeout.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     1744
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     vehicle.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="aeb1d7d08dd32a48a763c98c1a4a1eaaa">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* get)(struct
      <a class="el" href="structvehicle__hw__device.html">
       vehicle_hw_device
      </a>
      *device,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
       vehicle_prop_value_t
      </a>
      *data)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Get a vehicle property value immediately. data should be allocated properly. The caller of the API OWNS the data field. Caller will set data-&gt;prop, data-&gt;value_type, and optionally zone value for zoned property. But HAL implementation needs to fill all entries properly when returning. For pointer type, HAL implementation should allocate necessary memory and caller is responsible for calling release_memory_from_get, which allows HAL to release allocated memory. For VEHICLE_PROP_CHANGE_MODE_STATIC type of property, get should return the same value always. For VEHICLE_PROP_CHANGE_MODE_ON_CHANGE type of property, it should return the latest value. If there is no data available yet, which can happen during initial stage, this call should return immediately with error code of -EAGAIN.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     1681
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     vehicle.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="aaf61700e2522f8cd0cda3eb3d43b600f">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* init)(struct
      <a class="el" href="structvehicle__hw__device.html">
       vehicle_hw_device
      </a>
      *device,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
       vehicle_event_callback_fn
      </a>
      event_fn,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
       vehicle_error_callback_fn
      </a>
      err_fn)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    After calling open on device the user should register callbacks for event and error functions.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     1646
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     vehicle.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="ae3bcfc53ab0ae9caaa601594d7770ebc">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
       vehicle_prop_config_t
      </a>
      const*(* list_properties)(struct
      <a class="el" href="structvehicle__hw__device.html">
       vehicle_hw_device
      </a>
      *device, int *num_properties)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Enumerate all available properties. The list is returned in "list".
   </p>
   <dl class="params">
    <dt>
     Parameters
    </dt>
    <dd>
     <table class="params">
      <tr>
       <td class="paramname">
        num_properties
       </td>
       <td>
        number of properties contained in the retuned array.
       </td>
      </tr>
     </table>
    </dd>
   </dl>
   <dl class="section return">
    <dt>
     Returns
    </dt>
    <dd>
     array of property configs supported by this car. Note that returned data is const and caller cannot modify it. HAL implementation should keep this memory until HAL is released to avoid copying this again.
    </dd>
   </dl>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     1663
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     vehicle.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a32c715dddbfbc656fae62b8f6d5285de">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* release)(struct
      <a class="el" href="structvehicle__hw__device.html">
       vehicle_hw_device
      </a>
      *device)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Before calling close the user should destroy the registered callback functions. In case the
    <a class="el" href="structvehicle__hw__device.html#a3526b0752da9b4541a98b3e3d859e285">
     unsubscribe()
    </a>
    call is not called on all properties before
    <a class="el" href="structvehicle__hw__device.html#a32c715dddbfbc656fae62b8f6d5285de">
     release()
    </a>
    then
    <a class="el" href="structvehicle__hw__device.html#a32c715dddbfbc656fae62b8f6d5285de">
     release()
    </a>
    will unsubscribe the properties itself.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     1654
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     vehicle.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a42e98a1fe9c5d7588ed53a17f24366b7">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      void(* release_memory_from_get)(struct
      <a class="el" href="structvehicle__hw__device.html">
       vehicle_hw_device
      </a>
      *device,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
       vehicle_prop_value_t
      </a>
      *data)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Release memory allocated to data in previous get call. get call for byte or string involves allocating necessary memory from vehicle hal. To be safe, memory allocated by vehicle hal should be released by vehicle hal and vehicle network service will call this when data from vehicle hal is no longer necessary. vehicle hal implementation should only release member of vehicle_prop_value_t like data-&gt;str_value.data or data-&gt;bytes_value.data but not data itself as data itself is allocated from vehicle network service. Once memory is freed, corresponding pointer should be set to NULL bu vehicle hal.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     1693
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     vehicle.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="ac07834ae97732190419f7464de29df7d">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* set)(struct
      <a class="el" href="structvehicle__hw__device.html">
       vehicle_hw_device
      </a>
      *device, const
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
       vehicle_prop_value_t
      </a>
      *data)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Set a vehicle property value. data should be allocated properly and not NULL. The caller of the API OWNS the data field. timestamp of data will be ignored for set operation. Setting some properties require having initial state available. Depending on the vehicle hal, such initial data may not be available for short time after init. In such case, set call can return -EAGAIN like get call. For a property with separate power control, set can fail if the property is not powered on. In such case, hal should return -ESHUTDOWN error.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     1706
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     vehicle.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a882a0fe259a3a4277871b6f925debe12">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* subscribe)(struct
      <a class="el" href="structvehicle__hw__device.html">
       vehicle_hw_device
      </a>
      *device, int32_t prop, float sample_rate, int32_t zones)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Subscribe to events. Depending on output of list_properties if the property is: a) on-change: sample_rate should be set to 0. b) supports frequency: sample_rate should be set from min_sample_rate to max_sample_rate. For on-change type of properties, vehicle network service will make another get call to check the initial state. Due to this, vehicle hal implementation does not need to send initial state for on-change type of properties.
   </p>
   <dl class="params">
    <dt>
     Parameters
    </dt>
    <dd>
     <table class="params">
      <tr>
       <td class="paramname">
        device
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td class="paramname">
        prop
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td class="paramname">
        sample_rate
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td class="paramname">
        zones
       </td>
       <td>
        All subscribed zones for zoned property. can be ignored for non-zoned property. 0 means all zones supported instead of no zone.
       </td>
      </tr>
     </table>
    </dd>
   </dl>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     1723
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     vehicle.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a3526b0752da9b4541a98b3e3d859e285">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* unsubscribe)(struct
      <a class="el" href="structvehicle__hw__device.html">
       vehicle_hw_device
      </a>
      *device, int32_t prop)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Cancel subscription on a property.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     1727
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
     vehicle.h
    </a>
    .
   </p>
  </div>
 </div>
 <hr />
 The documentation for this struct was generated from the following file:
 <ul>
  <li>
   hardware/libhardware/include/hardware/
   <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/vehicle.h">
    vehicle.h
   </a>
  </li>
 </ul>
</div>
<!-- contents -->
</div>


          </div>

    
                   <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0">
         </devsite-page-rating>
                   
          </article>
</article>

<devsite-content-footer ds-is="content-footer" class="nocontent">
  <p>Content and code samples on this page are subject to the licenses described in the <a href="../../license.html">Content License</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
</devsite-content-footer>


                      </devsite-content>
        </div>
        <devsite-footer-promos ds-is="footer-promos" class="devsite-footer">
                      
                  </devsite-footer-promos>
        <devsite-footer-linkboxes ds-is="footer-linkboxes" class="devsite-footer">
                      <nav class="devsite-footer-linkboxes nocontent">
  <ul class="devsite-footer-linkboxes-list">
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Build</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://android.googlesource.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            Android repository
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="../../setup/build/requirements.html"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            Requirements
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="../../setup/build/downloading.html"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Downloading
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/blobs-preview/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            Preview binaries
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/images/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Factory images
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/drivers/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Driver binaries
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://android.github.io/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            GitHub
          </a>
        </li>
              </ul>
    </li>
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Connect</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://twitter.com/Android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            @Android on Twitter
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://twitter.com/AndroidDev/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            @AndroidDev on Twitter
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://blog.google/products/android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Android Blog
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://security.googleblog.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            Google Security Blog
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-platform/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Platform on Google Groups
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-building/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Building on Google Groups
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-porting/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            Porting on Google Groups
          </a>
        </li>
              </ul>
    </li>
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Get help</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            Android Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/pixelphone/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            Pixel Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/nexus/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Nexus Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://www.android.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            www.android.com
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://www.android.com/gms/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Google Mobile Services
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://stackoverflow.com/questions/tagged/android-source/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Stack Overflow
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://issuetracker.google.com/issues?q=status:open%20componentid:190923"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            Issue Tracker
          </a>
        </li>
              </ul>
    </li>
      </ul>
</nav>
                  </devsite-footer-linkboxes>
        <devsite-footer-utility ds-is="footer-utility" class="devsite-footer">
                      <div class="devsite-footer-utility">
  
  <nav class="devsite-nav">
        <ul class="devsite-footer-utility-list">
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../source/index.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer About Android link">
          About Android
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../setup/community.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer Community link">
          Community
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../legal.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer Legal link">
          Legal
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../license.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer License link">
          License
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="http://policies.google.cn/privacy"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link">
          Privacy
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="http://issuetracker.google.com/issues/new?component=191476"
           data-category="Site-Wide Custom Events"
           data-label="Footer Site feedback link">
          Site feedback
        </a>
              </li>
          </ul>
    
        <form class="devsite-footer-utility-language">
      <select class="devsite-footer-utility-language-select"
              name="language"
              track-name="click"
              track-type="languageSelector">
                  <option value="en"
                  track-metadata-original-language="en"
                  track-metadata-selected-language="en"
                  track-name="changed"
                  track-type="languageSelector"
                  selected="selected">
            English
          </option>
                  <option value="zh_cn"
                  track-metadata-original-language="en"
                  track-metadata-selected-language="zh_cn"
                  track-name="changed"
                  track-type="languageSelector"
                  >
            简体中文
          </option>
              </select>
    </form>
      </nav>
</div>
                  </devsite-footer-utility>
      </div></div>
    <devsite-sitemask ds-is="site-mask"></devsite-sitemask>
    <devsite-snackbar ds-is="snackbar"                       ></devsite-snackbar>    <devsite-tooltip ds-is="tooltip"
                     blocked-link></devsite-tooltip>
    <devsite-analytics ds-is="analytics">
              <script type="application/json" analytics>[{"metrics": {"ratings_value": "metric1", "ratings_count": "metric2"}, "dimensions": {}, "gaid": "UA-45455297-4"}]</script>
<script type="application/json" gtm>[]</script>
          </devsite-analytics>
    <script>
    (function(d,e,v,E,l,o,p,r,s,_,__){d['GoogleDevelopersObject']=[!0,l,o,p,r,s];
    _=e.createElement(v);_.async=1;_.src=E;__=e.getElementsByTagName(v)[0];
    __.parentNode.insertBefore(_,__);})(window, document, 'script',
      'https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/js/app_loader.js',
      'en',
      'https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/js/devsite_app.js',
      'https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource',
      !1,
      ['/_pwa/androidsource/manifest.json',
       'https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/images/video-placeholder.svg',
       'https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/images/favicon.png','https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/images/lockup.svg','https://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons'],
       'https://androidsource-dot-google-developers.gonglchuangl.net/')
   </script>  </body>

<!-- Mirrored from source.android.google.cn/reference/hal/structvehicle__hw__device by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 16 Mar 2019 18:43:44 GMT -->
</html>