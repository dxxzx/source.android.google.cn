<!doctype html>
<html       lang="en"      dir="ltr">
  
<!-- Mirrored from source.android.google.cn/setup/start/android-10-release by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 09 Sep 2019 14:14:44 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta property="og:site_name" content="Android Open Source Project">
    <meta property="og:type" content="website">
    
          <meta name="theme-color" content="#78c257">
    
    <meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="../../_pwa/androidsource/manifest.json"
          crossorigin="use-credentials">
    <link rel="preconnect" href="http://www.gstatic.com/" crossorigin>
    <link rel="preconnect" href="http://fonts.gstatic.com/" crossorigin>
    <link rel="preconnect" href="http://fonts.googleapis.com/" crossorigin>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons">
        <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/css/rebrand-app.css">
    <noscript>
      <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/css/ce_bundle.css">
    </noscript>
    <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/favicon.png">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/touchicon-180.png"><link rel="canonical" href="android-10-release.html">      
<title>Android 10 Release Notes &nbsp;|&nbsp; Android Open Source Project</title>

<meta property="og:title" content="Android 10 Release Notes &nbsp;|&nbsp; Android Open Source Project">


  <meta property="og:url" content="android-10-release.html">

  <meta property="og:locale" content="en">





  

  

    </head>
  <body type="article"
        theme="androidsource-theme"
        class=""
        
        layout="docs"
        block-apix        pending>
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
    <div class="devsite-wrapper"><devsite-header keep-tabs-visible>
      









<div class="devsite-header--inner">
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="Close menu">
        </button>
        <div class="devsite-product-name-wrapper">
  <a href="../../index.html" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo">
  <img src="https://www.gstatic.cn/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/lockup.svg" class="devsite-site-logo" alt="Android Open Source Project">
</a>
            <span class="devsite-product-name">
            <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                              </li>
  </ul>
          </span>
        
</div>        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
                          <devsite-tabs class="upper-tabs">
  <div class="devsite-tabs-wrapper">
                  <tab active>
          <a href="../../setup.html"
   class="gc-analytics-event"
   title="Set up"
   aria-label="Set up, selected"         data-category="Site-Wide Custom Events"
        data-label="Tab: Set up"
   >
  Set up
</a>

        </tab>
                        <tab >
          <a href="../../compatibility.html"
   class="gc-analytics-event"
   title="Design"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Design"
   >
  Design
</a>

        </tab>
                        <tab >
          <a href="../../security.html"
   class="gc-analytics-event"
   title="Secure"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Secure"
   >
  Secure
</a>

        </tab>
                        <tab >
          <a href="../../devices.html"
   class="gc-analytics-event"
   title="Develop"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Develop"
   >
  Develop
</a>

        </tab>
                        <tab >
          <a href="../../devices/tech.html"
   class="gc-analytics-event"
   title="Configure"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Configure"
   >
  Configure
</a>

        </tab>
                        <tab >
          <a href="../../reference.html"
   class="gc-analytics-event"
   title="Reference"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Reference"
   >
  Reference
</a>

        </tab>
            </div>
</devsite-tabs>

                       </div>
          <devsite-search
            enable-suggestions
              family-name="Android Open Source Project"    tenant-name="Android Open Source Project"            >
  <form class="devsite-search-form" action="https://source.android.google.cn/s/results" method="GET">
    <div class="devsite-search-container">
      <div class="devsite-searchbox">
                <input placeholder="Search"
          type="text"
          class="devsite-search-field devsite-search-query"
          name="q"
          value=""
          autocomplete="off"
                    aria-label="Search box">
        <div class="devsite-search-image material-icons" aria-hidden="true"></div>
      </div>
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              aria-label="Open search box"></button>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          aria-label="Close search box"></button>
</devsite-search>

        </div>

        <devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    <select class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
                <option>Language</option>
              <option value="en"
              track-metadata-original-language="en"
              track-metadata-selected-language="en"
              track-name="changed"
              track-type="languageSelector"
            >
        English
      </option>
          <option value="zh_cn"
              track-metadata-original-language="en"
              track-metadata-selected-language="zh_cn"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 简体
      </option>
        </select>
  </devsite-select>
</devsite-language-selector>


                  <a class="devsite-header-link devsite-top-button button gc-analytics-event"
   href="http://android-review.googlesource.com/"
   data-category="Site-Wide Custom Events"
   data-label="Site header link">
  Go to code
</a>
        
              </div>    </div>  </div>
  <div class="devsite-collapsible-section
    ">
    <div class="devsite-header-background">
                        <div class="devsite-product-id-row">
            <div class="devsite-product-description-row">
                              <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                    <a href="../../setup.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Lower Header"
              data-value="1"
          >
            Set up
      
  </a>
        </li>
  </ul>
                                        </div>
                                                                                    </div>
                                      <div class="devsite-doc-set-nav-row">
                              <devsite-tabs class="lower-tabs">
  <div class="devsite-tabs-wrapper">
                  <tab active>
          <a href="../../setup.html"
   class="gc-analytics-event"
   title="Overview"
   aria-label="Overview, selected"         data-category="Site-Wide Custom Events"
        data-label="Tab: Overview"
   >
  Overview
</a>

        </tab>
                        <tab >
          <a href="../build/requirements.html"
   class="gc-analytics-event"
   title="Start"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Start"
   >
  Start
</a>

        </tab>
                        <tab >
          <a href="../develop.html"
   class="gc-analytics-event"
   title="Download"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Download"
   >
  Download
</a>

        </tab>
                        <tab >
          <a href="../build.html"
   class="gc-analytics-event"
   title="Build"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Build"
   >
  Build
</a>

        </tab>
                        <tab >
          <a href="../create/coding-tasks.html"
   class="gc-analytics-event"
   title="Create"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Create"
   >
  Create
</a>

        </tab>
                        <tab >
          <a href="../contribute.html"
   class="gc-analytics-event"
   title="Contribute"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Contribute"
   >
  Contribute
</a>

        </tab>
                        <tab >
          <a href="../community.html"
   class="gc-analytics-event"
   title="Contact"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Contact"
   >
  Contact
</a>

        </tab>
            </div>
</devsite-tabs>

        </div>
          </div>  </div></div>
  

  </devsite-header>      <devsite-book-nav scrollbars >
                  




<nav class="devsite-book-nav devsite-nav nocontent">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="Close navigation">
    </button>
    <div class="devsite-product-name-wrapper">
  <a href="../../index.html" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo">
  <img src="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/lockup.svg" class="devsite-site-logo" alt="Android Open Source Project">
</a>
        <span class="devsite-product-name">
        <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                              </li>
  </ul>
      </span>
    
</div>  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
              <ul class="devsite-nav-list">
                      <li class="devsite-nav-item">
                                <a href="../../setup.html"
          class="devsite-nav-title gc-analytics-event
            devsite-nav-active"
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Set up">
      <span class="devsite-nav-text" >Set up</span>
        </a>
  
                                            <ul class="devsite-nav-responsive-tabs">
                                                                                                                      <li class="devsite-nav-item">
    <a href="../../setup.html"
     id="devsite-nav-forward"     class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Overview">
      <span class="devsite-nav-text" menu="_book">Overview</span>
        <span class="devsite-nav-icon material-icons" data-icon="forward" aria-hidden="true"
          menu="_book">
    </span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../build/requirements.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Start">
      <span class="devsite-nav-text" >Start</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../develop.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Download">
      <span class="devsite-nav-text" >Download</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../build.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Build">
      <span class="devsite-nav-text" >Build</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../create/coding-tasks.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Create">
      <span class="devsite-nav-text" >Create</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../contribute.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Contribute">
      <span class="devsite-nav-text" >Contribute</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../community.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Contact">
      <span class="devsite-nav-text" >Contact</span>
        </a>
  </li>

                                  </ul>
                          </li>
                      <li class="devsite-nav-item">
                                <a href="../../compatibility.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Design">
      <span class="devsite-nav-text" >Design</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../security.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Secure">
      <span class="devsite-nav-text" >Secure</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../devices.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Develop">
      <span class="devsite-nav-text" >Develop</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../devices/tech.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Configure">
      <span class="devsite-nav-text" >Configure</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../reference.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Reference">
      <span class="devsite-nav-text" >Reference</span>
        </a>
  
                                        </li>
                                <li class="devsite-nav-item">
    <a href="http://android-review.googlesource.com/"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Go to code">
      <span class="devsite-nav-text" >Go to code</span>
        </a>
  </li>

                  </ul>
          </div>
          <div class="devsite-mobile-nav-bottom">
                            <ul class="devsite-nav-list" menu="_book">
            <li class="devsite-nav-item"><a href="../../setup.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Introduction">Introduction</span></a></li>
  <li class="devsite-nav-item"><a href="codelines.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Android Software Management">Android Software Management</span></a></li>
  <li class="devsite-nav-item"><a href="build-numbers.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Codenames, Tags, and Build Numbers">Codenames, Tags, and Build Numbers</span></a></li>
  <li class="devsite-nav-item"><a href="brands.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Brand Guidelines">Brand Guidelines</span></a></li>
  <li class="devsite-nav-item"><a href="licenses.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Licenses">Licenses</span></a></li>
  <li class="devsite-nav-item"><a href="faqs.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="FAQ">FAQ</span></a></li>
  <li class="devsite-nav-item"><a href="android-10-release.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Android 10 Release Notes">Android 10 Release Notes</span></a></li>
  <li class="devsite-nav-item"><a href="p-release-notes.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Android 9 Release Notes">Android 9 Release Notes</span></a></li>
  <li class="devsite-nav-item"><a href="site-updates.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Site Updates">Site Updates</span></a></li>
          </ul>
                                                                                                                                                                            </div>
      </div>
</nav>
              </devsite-book-nav>
      <div id="gc-wrapper">
        <div class="devsite-main-content"
            has-book-nav            has-toc>
          <devsite-toc class="devsite-nav"
            ></devsite-toc>
          <devsite-content>
                          

<article class="devsite-article">
  <article class="devsite-article-inner">        
    <div class="devsite-article-meta">
      <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                    <a href="../../index.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="1"
          >
            AOSP
      
  </a>
        </li>
    <li class="devsite-breadcrumb-item
             ">
                <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
                    <a href="../../setup.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="2"
          >
            Set up
      
  </a>
        </li>
    <li class="devsite-breadcrumb-item
             ">
                <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
                    <a href="../../setup.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="3"
          >
            Overview
      
  </a>
        </li>
  </ul>
               <devsite-page-rating position="header" selected-rating="0" hover-rating-star="0">
         </devsite-page-rating>
          </div>

              <h1 class="devsite-page-title">Android 10 Release Notes</h1>
    
    <devsite-toc class="devsite-nav" devsite-toc-embedded >
    </devsite-toc>

    <div class="devsite-article-body clearfix
      ">

              
<!--
    Copyright 2019 The Android Open Source Project
    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at
    http://www.apache.org/licenses/LICENSE-2.0
    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
































<p>This page summarizes the major features in the
Android 10 release, and provides links to additional
information. These feature summaries are organized according to the feature&#39;s
documentation location on this site.</p>

<h2 id="build">Build</h2>

<h3 id="java_sdk_library">java_sdk_library</h3>

<p>Android 10 introduces
<a href="../../devices/architecture/java-library.html"><code translate="no" dir="ltr">java_sdk_library</code></a>, a new build rule to
fix compatibility issues for shared Java libraries. Device manufacturers can
use this mechanism for their own shared Java libraries to maintain backward
compatibility for their APIs.</p>

<h2 id="architecture">Architecture</h2>

<h3 id="modular_system_components">Modular system components</h3>

<p>Android 10 <a href="../../devices/architecture/modular-system/index.html">modularizes some Android system
components</a> and enables them to be
updated outside of the normal Android release cycle. Some modules include:</p>

<ul>
<li><a href="../../devices/architecture/modular-system/runtime.html">Android Runtime</a></li>
<li><a href="../../devices/architecture/modular-system/conscrypt.html">Conscrypt</a></li>
<li><a href="../../devices/architecture/modular-system/dns-resolver.html">DNS Resolver</a></li>
<li><a href="../../devices/architecture/modular-system/documentsui.html">DocumentsUI</a></li>
<li><a href="../../devices/architecture/modular-system/extservices.html">ExtServices</a></li>
<li><a href="../../devices/architecture/modular-system/media.html">Media</a></li>
<li><a href="../../devices/architecture/modular-system/metadata.html">ModuleMetadata</a></li>
<li><a href="../../devices/architecture/modular-system/networking.html">Networking</a></li>
<li><a href="../../devices/architecture/modular-system/permissioncontroller.html">PermissionController</a></li>
<li><a href="../../devices/architecture/modular-system/timezone.html">Time Zone Data</a></li>
</ul>

<h3 id="hardware_abstraction_layer_hal">Hardware abstraction layer (HAL)</h3>

<p>Android 10 adds support for HALs to
<a href="../../devices/architecture/hal/dynamic-lifecycle.html#automatic-lifecycles">shut down automatically</a>
when they have no clients.</p>

<h3 id="kernel">Kernel</h3>

<h4 id="abi">ABI</h4>

<p>Android 10 includes support for new
<a href="https://android.googlesource.com/kernel/build/+/refs/heads/master/abi/" class="external">ABI monitoring utilities</a> 
to help with comparing, tracking, and mitigating kernel ABI changes that affect
compatibility with kernel modules.</p>

<p>Android 10 also introduces a symbol-based
<a href="../../devices/architecture/vndk/abi-use-check-2.html">ABI usages checker</a>. The checker
can detect outdated prebuilt binaries at build time, so that shared library
developers can know which prebuilt binaries might be broken by their change and
which prebuilt binaries must be rebuilt.</p>

<h4 id="android_live-lock_daemon">Android Live-Lock Daemon</h4>

<p>Android 10 includes the
<a href="../../devices/architecture/kernel/config.html#llkd">Android Live-Lock Daemon (llkd)</a>,
which is designed to catch and mitigate kernel deadlocks.</p>

<h4 id="vdso32_on_arm64">vDSO32 on ARM64</h4>

<p>Android 10 supports using
<a href="../../devices/architecture/kernel/config.html#vdso32-on-arm64">vDSO32 on 64-bit kernels</a>,
which provides a 0.4 percent increase in battery life and other performance
improvements.</p>

<h4 id="fstab_entries_for_early_mounted_partitions">fstab entries for early mounted partitions</h4>

<p>Android 10 requires devices to specify <code translate="no" dir="ltr">fstab</code> entries
for
<a href="../../devices/architecture/kernel/mounting-partitions-early.html">early mounted partitions</a>
using an <code translate="no" dir="ltr">fstab</code> file in the first stage ramdisk.</p>

<h3 id="hidl">HIDL</h3>

<h4 id="offload_broadcastqueue">Offload BroadcastQueue</h4>

<p>Android 10 includes a new <em>offload</em> <code translate="no" dir="ltr">BroadcastQueue</code>
to the existing <em>background</em> and <em>foreground</em> queues. The offload queue has
the same priority and timeout behavior as the background queue. To prevent
blocking the background queue, where more interesting or user-visible
broadcasts can happen, the offload queue handles the <code translate="no" dir="ltr">BOOT_COMPLETED</code>
broadcast, which many apps listen to and can take a long time to complete.
The offload queue currently only handles the <code translate="no" dir="ltr">BOOT_COMPLETED</code> broadcast, but
can potentially handle other long broadcasts.</p>

<h4 id="systemsuspend_service">SystemSuspend service</h4>

<p>Android 10 replaces the thread in <code translate="no" dir="ltr">libsuspend</code>
responsible for initiating system suspend with the
<a href="../../devices/architecture/systemsuspend.html">SystemSuspend HIDL service</a>. This
implementation offers equivalent functionality to previous versions while
leveraging benefits from the Android HIDL infrastructure.</p>

<h4 id="safe_union_in_hidl">safe_union in HIDL</h4>

<p>Android 10 introduces
<a href="../../devices/architecture/hidl/safe_union.html"><code translate="no" dir="ltr">safe_union</code></a>, an explicitly tagged
union type, in HIDL.</p>

<h3 id="configuration">Configuration</h3>

<h4 id="configstore_hal">ConfigStore HAL</h4>

<p>Android 10 deprecates the
<a href="../../devices/architecture/configuration.html">ConfigStore HAL</a> due to high memory
consumption and difficult usage, and replaces the HAL with
<a href="../../devices/architecture/sysprops-apis.html">system properties</a>.</p>

<h4 id="config_file_schema_api">Config File Schema API</h4>

<p>The Android platform contains a large number of XML files for storing config
data. Many of the XML files are in the <code translate="no" dir="ltr">vendor</code> partition, but they&#39;re read in
the <code translate="no" dir="ltr">system</code> partition. In this case, the schema of the XML file serves as the
interface across the two partitions, and therefore the schema must be
explicitly specified and must evolve in a backward-compatible manner. Before
Android 10, the platform didn’t provide mechanisms to
require specifying and using the XML schema, or to prevent incompatible changes
in the schema. Android 10 provides this mechanism,
called the
<a href="../../devices/architecture/config-file-schema-api.html">Config File Schema API</a>.</p>

<h4 id="system_properties_as_apis">System properties as APIs</h4>

<p><a href="../../devices/architecture/sysprops-apis.html">System properties</a> accessed across
partitions are schematized into <code translate="no" dir="ltr">sysprop</code> description files, and APIs to access
properties are generated as concrete functions for C++ and classes for Java.</p>

<h3 id="vendor_interface_vintf_object">Vendor interface (VINTF) object</h3>

<h4 id="vintf">VINTF</h4>

<p>Changes to VINTF in Android 10 include:</p>

<ul>
<li>Deprecating AVB version tags</li>
<li>Adding kernel information in OTA packages</li>
<li>Building ODM manifests officially</li>
<li>Adding a product compatibility matrix</li>
<li>Associating a
<a href="../../devices/architecture/vintf/objects.html#manifest-fragments">manifest entry with a HAL module</a>
in the build system</li>
</ul>

<h3 id="bootloader">Bootloader</h3>

<h4 id="ramdisk">Ramdisk</h4>

<p>In Android 10, the
<a href="../../devices/bootloader/system-as-root.html#ramdisk">root file system</a> is no longer
included in <code translate="no" dir="ltr">ramdisk.img</code> and is instead merged into <code translate="no" dir="ltr">system.img</code>.</p>

<h4 id="building_odm_partitions">Building ODM partitions</h4>

<p>Android 10 includes support for
<a href="../../devices/bootloader/odm-partitions.html">building <code translate="no" dir="ltr">odm</code> partitions</a> using the
Android build system. You can use a separate <code translate="no" dir="ltr">/odm</code> partition for
customizations, which enables you to use a single vendor image for multiple
hardware SKUs. This enables original design manufacturers (ODMs) to customize
system-on-chip (SoC) vendor board-support packages (BSPs) to their specific
devices (their boards). They can implement kernel modules for board-specific
components, board-specific daemons, or their own features on hardware
abstraction layers (HALs). They may also replace or customize SoC components.</p>

<h4 id="boot_image_header_versioning">Boot image header versioning</h4>

<p>Android 10 updates the
<a href="../../devices/bootloader/boot-image-header.html">boot image header</a> to version 2, which
includes a section to store the device tree blob (DTB) image. Android
10 VTS tests verify that all devices launching with
Android 10 use boot image header version 2 and include
a valid DTB image as part of the boot/recovery images.</p>

<h4 id="recovery_images_for_non-ab_devices">Recovery images for non-A/B devices</h4>

<p>In Android 9 and higher, a device&#39;s <a href="../../devices/bootloader/recovery-image.html#acpio-implementation">recovery image must contain information
from the overlay image</a>.
Device manufacturers can use DeviceTree or Advanced Configuration and Power
Interface (ACPI) to describe all nondiscoverable devices. Android
10 and higher includes support for architectures that
use ACPI instead of DeviceTree blob for overlay (DTBO).</p>

<h4 id="stable_aidl">Stable AIDL</h4>

<p>Android 10 adds support for stable
<a href="../../devices/bootloader/stable-aidl.html">Android Interface Definition Language (AIDL)</a>,
a new way to keep track of the application program interface (API)/application
binary interface (ABI) provided by AIDL interfaces.</p>

<h4 id="moving_fastboot_to_user_space">Moving fastboot to user space</h4>

<p>Android 10 adds support for resizable partitions by
relocating the <a href="../../devices/bootloader/fastbootd.html">fastboot implementation</a> from
bootloader to user space.</p>

<h2 id="display">Display</h2>

<h3 id="hdr_video_playback">HDR video playback</h3>

<p>Android 10 supports
<a href="../../devices/tech/display/hdr.html">HDR10, VP9, and HDR10+ playback</a>.</p>

<h3 id="text_classification">Text classification</h3>

<p><a href="../../devices/tech/display/textclassifier.html">Text classification</a> uses machine
learning techniques to help developers classify text. Android
10 introduces two methods to the TextClassifier API:
<a href="https://developer.android.google.cn/reference/android/view/textclassifier/TextClassifier#suggestConversationActions(android.view.textclassifier.ConversationActions.Request)" class="external"><code translate="no" dir="ltr">suggestConversationActions</code></a>
and <a href="https://developer.android.google.cn/reference/android/view/textclassifier/TextClassifier#detectLanguage(android.view.textclassifier.TextLanguage.Request)" class="external"><code translate="no" dir="ltr">detectLanguage</code></a>.
The <code translate="no" dir="ltr">suggestConversationActions</code> method generates suggested replies and actions
from a given conversation and the <code translate="no" dir="ltr">detectLanguage</code> method detects the language
of the text.</p>

<h3 id="support_for_zawgyi_font_rendering">Support for Zawgyi font rendering</h3>

<p>Zawgyi is the most popular font in Myanmar. Android 9 and lower didn&#39;t support
rendering Zawgyi because it
<a href="https://www.unicode.org/faq/myanmar.html" class="external">isn&#39;t Unicode compliant</a>.
Android 10 addresses this by including a Unicode font
capable of rendering both Unicode Burmese and Zawgyi together. No implementation
work is needed to support Zawgyi font rendering on devices launching with
Android 10. If your devices have a custom
implementation to support Zawgyi, you can:</p>

<ul>
<li>Revert those changes and use the platform-supported method.</li>
<li>Keep the common Zawgyi font in your system and use the locale code
<code translate="no" dir="ltr">my-qaag</code> in your <code translate="no" dir="ltr">fonts.xml</code>. For more information, see the
<a href="http://unicode.org/reports/tr35/#unicode_script_subtag_validity" class="external">Unicode CLDR release notes on Zawgyi (Qaag)</a>.</li>
</ul>

<h3 id="limitations_to_hiding_app_icons">Limitations to hiding app icons</h3>

<p>Android 10 limits the ability to hide app icons in the
launcher. Apps must have an icon unless any of the following is true:</p>

<ul>
<li>It&#39;s a system app, even if it&#39;s been updated.</li>
<li>It&#39;s a managed profile admin (work profile owner).</li>
<li>It requests no permissions.</li>
<li>It contains no components (such as, activities, content providers, broadcast
receivers, and services).</li>
</ul>

<p>Apps that have an enabled launchable activity with an icon aren&#39;t affected.
Aside from the exceptions listed above, all apps display an icon. If no
icon is included, a default system icon is displayed. App icons with no
launchable activity open the app info screen when tapped.</p>

<h2 id="settings">Settings</h2>

<p>To improve accessibility, Android 10 includes
user-customizable timeout settings. The API and Settings changes come with
Android 10. If you customize your Settings, make sure
that this feature is supported. If you have UI elements that time out on your
device, use the
<a href="https://developer.android.google.cn/reference/android/view/accessibility/AccessibilityManager#getRecommendedTimeoutMillis(int,%2520int)" class="external">timeouts API</a>
on those. For more information, see the
<a href="https://developer.android.google.cn/guide/topics/ui/accessibility" class="external">Android developer accessibility guidelines</a>.</p>

<h2 id="compatibility">Compatibility</h2>

<h3 id="android_compatibility_definition_document_cdd">Android Compatibility Definition Document (CDD)</h3>

<p>The <a href="../../compatibility/android-cdd.html">Android 10 Compatibility Definition Document</a>
iterates upon <a href="../../compatibility/cdd.html">previous versions</a> with updates for new
features and changes to requirements for previously released functionality.</p>

<h2 id="tests">Tests</h2>

<h3 id="compatibility_test_suite_cts">Compatibility Test Suite (CTS)</h3>

<p>Android CTS has a separate
<a href="../../compatibility/cts/cts-release-notes.html">release notes page</a> that lists many
important changes for Android 10.</p>

<h4 id="cts_downloads">CTS downloads</h4>

<p>CTS packages supporting Android 10 are available on the
<a href="../../compatibility/cts/downloads.html">CTS Downloads</a> page. The source code for the
included tests can be synced with the <code translate="no" dir="ltr">android-cts-10_r1</code> tag in the
open-source tree.</p>

<h4 id="cts_shim_apex">CTS shim APEX</h4>

<p>Android 10 introduces a package called <code translate="no" dir="ltr">CtsShimApex</code>,
which must be preinstalled on a device to write CTS tests for APEX management.</p>

<h4 id="test_harness_mode">Test harness mode</h4>

<p><a href="../../compatibility/cts/harness.html">CTS test harness mode</a> helps developers automate
testing for a device or a fleet of devices.</p>

<h4 id="instant_apps_mode">Instant Apps mode</h4>

<p>Starting in Android 10, CTS runs in
<a href="../../compatibility/cts/cts-instant.html">Instant Apps mode</a>, which means installing the
test APK as an Instant App and running the tests.</p>

<p>In addition to a CTS mode for Instant Apps, Android 10
includes <a href="../../compatibility/cts/verifier-instant-apps.html">CTS Verifier for Instant Apps</a></p>

<h4 id="cts_verifier_pro_audio_test">CTS Verifier pro audio test</h4>

<p>Android 10 adds a CTS Verifier test for
<a href="../../compatibility/cts/Verifier-Pro-Audio.html">Pro Audio compliance</a>.</p>

<h4 id="cts_verifier_midi_tests">CTS Verifier MIDI tests</h4>

<p>In Android 10, the
<a href="../../compatibility/cts/cts-midi.html">CTS Verifier MIDI test</a> tests MIDI functionality
with USB MIDI interfaces, Bluetooth MIDI interfaces, and a virtual MIDI device
path.</p>

<h4 id="cts_test_interpretation">CTS test interpretation</h4>

<p>Android 10 updates the mechanism for
<a href="../../compatibility/cts/interpret.html">interpreting CTS results</a>.</p>

<h3 id="vendor_test_suite_vts">Vendor Test Suite (VTS)</h3>

<h4 id="vts_testing_with_debug_ramdisk">VTS testing with debug ramdisk</h4>

<p>In Android 10, the generic system image (GSI) used to
run CTS-on-GSI/VTS compliance testing changes from userdebug to user build type,
because GSI is release signed. However, the <code translate="no" dir="ltr">adb root</code> command that gives a host
root permissions to the Android device under test isn&#39;t available in a user
build. This is a problem because VTS requires <code translate="no" dir="ltr">adb root</code> to run.</p>

<p>The <a href="../../compatibility/vts/vts-on-gsi.html">debug ramdisk</a> is introduced to make
<code translate="no" dir="ltr">adb root</code> possible, if the device is unlocked. This simplifies the testing
flow by reusing the same user build <code translate="no" dir="ltr">system.img</code> (either GSI or the OEM’s
<code translate="no" dir="ltr">system.img</code>).</p>

<h4 id="hardware_composer_validation">Hardware Composer validation</h4>

<p>Android 10 adds a new VTS test class for Hardware
Composer validation through the <code translate="no" dir="ltr">readback</code> interface in
<a href="https://android.googlesource.com/platform/hardware/interfaces/+/master/graphics/composer/2.2/IComposerClient.hal" class="external"><code translate="no" dir="ltr">IComposerClient.hal</code></a>.
If vendors don&#39;t implement <code translate="no" dir="ltr">readback</code>, tests pass automatically.</p>

<h3 id="debugging">Debugging</h3>

<h4 id="loading_shared_libraries_with_different_class_loaders">Loading shared libraries with different class loaders</h4>

<p>In Android 9 and lower, apps loaded their linked Java shared libraries in the
app&#39;s class loader. In Android 10, the framework uses
a different class loader than the app&#39;s class loader to load Java shared
libraries linked through <code translate="no" dir="ltr">uses-library</code> or <code translate="no" dir="ltr">uses-static-library</code>.</p>

<p>In general, apps shouldn&#39;t rely on using a specific class loader, so this
change shouldn&#39;t break app behavior. However, if an app relies on using a
single class loader, that behavior is broken. Additionally, package-private
visibility of classes in the same package is still supported, but isn&#39;t
supported in shared libraries.</p>

<p>Device manufacturers might see app compatibility issues as they test their
devices running Android 10.</p>

<h2 id="security_features">Security features</h2>

<h3 id="face_authentication">Face authentication</h3>

<p><a href="../../security/biometric/face-authentication.html">Face authentication</a> allows users to
unlock their device simply by looking at the front of their device.
Android 10 adds support for a new face authentication
stack that can securely process camera frames, preserving security and privacy
during face authentication on supported hardware. Android
10 also provides an easy way for security-compliant
implementations to enable app integration for transactions such as
online banking or other services.</p>

<h3 id="extended_access">Extended access</h3>

<p>Trust agents, the underlying mechanism used by tertiary authentication
mechanisms such as Smart Lock, can only extend unlock in Android
10. Trust agents can no longer unlock a locked device
and can only keep a device unlocked for a maximum of four hours.</p>

<h3 id="encryption">Encryption</h3>

<h4 id="oemcrypto">OEMCrypto</h4>

<p>Android 10 uses OEMCrypto API version 15.</p>

<h3 id="testing">Testing</h3>

<h4 id="boundssanitizer">BoundsSanitizer</h4>

<p>Android 10 deploys
<a href="../../devices/tech/debug/bounds-sanitizer.html">BoundsSanitizer (BoundSan)</a> in Bluetooth
and codecs. BoundSan uses UBSan&#39;s bounds sanitizer. This mitigation is enabled
on a per-module level. It helps keep critical components of Android secure and
shouldn&#39;t be disabled. BoundSan is enabled in the following codecs:</p>

<ul>
<li><code translate="no" dir="ltr">libFLAC</code></li>
<li><code translate="no" dir="ltr">libavcdec</code></li>
<li><code translate="no" dir="ltr">libavcenc</code></li>
<li><code translate="no" dir="ltr">libhevcdec</code></li>
<li><code translate="no" dir="ltr">libmpeg2</code></li>
<li><code translate="no" dir="ltr">libopus</code></li>
<li><code translate="no" dir="ltr">libvpx</code></li>
<li><code translate="no" dir="ltr">libspeexresampler</code></li>
<li><code translate="no" dir="ltr">libvorbisidec</code></li>
<li><code translate="no" dir="ltr">libaac</code></li>
<li><code translate="no" dir="ltr">libxaac</code></li>
</ul>

<h4 id="integer_overflow_sanitization">Integer Overflow Sanitization</h4>

<p>Android 10 enables
<a href="../../devices/tech/debug/intsan.html">Integer Overflow Sanitization (IntSan)</a> in
software codecs. Ensure that playback performance is acceptable for any codecs
that aren&#39;t supported in the device&#39;s hardware. IntSan is enabled in the
following codecs:</p>

<ul>
<li><code translate="no" dir="ltr">libFLAC</code></li>
<li><code translate="no" dir="ltr">libavcdec</code></li>
<li><code translate="no" dir="ltr">libavcenc</code></li>
<li><code translate="no" dir="ltr">libhevcdec</code></li>
<li><code translate="no" dir="ltr">libmpeg2</code></li>
<li><code translate="no" dir="ltr">libopus</code></li>
<li><code translate="no" dir="ltr">libvpx</code></li>
<li><code translate="no" dir="ltr">libspeexresampler</code></li>
<li><code translate="no" dir="ltr">libvorbisidec</code></li>
</ul>

<h4 id="execute-only_memory">Execute-only memory</h4>

<p>By default, executable code sections for AArch64 system binaries are marked
execute-only (nonreadable) as a hardening mitigation against just-in-time code
reuse attacks. Code that mixes data and code together and code that purposefully
inspects these sections (without first remapping the memory segments as
readable) no longer functions. Apps with a target SDK of Android
10 (API level 29 or higher) are impacted if the app
attempts to read code sections of
<a href="../../devices/tech/debug/execute-only-memory.html">execute-only memory (XOM)</a> enabled
system libraries in memory without first marking the section as readable.</p>

<h4 id="scudo">Scudo</h4>

<p><a href="../../devices/tech/debug/scudo.html">Scudo</a> is a dynamic user-mode memory allocator
designed to be more resilient against heap-related vulnerabilities. It provides
the standard C allocation and deallocation primitives, as well as the C++
primitives.</p>

<h4 id="shadowcallstack">ShadowCallStack</h4>

<p><a href="../../devices/tech/debug/shadow-call-stack.html"><code translate="no" dir="ltr">ShadowCallStack</code> (SCS)</a> is an
<a href="https://clang.llvm.org/docs/ShadowCallStack.html" class="external">LLVM instrumentation</a> 
mode that protects against return address overwrites (like stack buffer
overflows) by saving a function&#39;s return address to a separately allocated
<code translate="no" dir="ltr">ShadowCallStack</code> instance in the function prolog of nonleaf functions and
loading the return address from the <code translate="no" dir="ltr">ShadowCallStack</code> instance in the function
epilog.</p>

<h2 id="audio">Audio</h2>

<h3 id="audio_hal">Audio HAL</h3>

<p>Android 10 includes the following new capatibilties
for <a href="../../devices/audio/implement.html">audio HAL</a>.</p>

<ul>
<li><code translate="no" dir="ltr">AudioSource</code></li>
<li><code translate="no" dir="ltr">AudioFormat</code></li>
<li><code translate="no" dir="ltr">AudioChannelMask</code></li>
</ul>

<p>Additional requirements are added for audio HAL and subsystem implementation.</p>

<h3 id="preprocessing_effects">Preprocessing effects</h3>

<p>Android provides
<a href="../../devices/audio/implement-pre-processing.html">preprocessing effects</a>, such as
acoustic echo cancellation, automatic gain control, and noise suppression.
Android 10 includes new requirements for capturing with
<code translate="no" dir="ltr">VOICE_COMMUNICATION</code>.</p>

<h3 id="audio_policy_manager">Audio policy manager</h3>

<p>Android 10 includes a significant refactoring of the
<a href="../../devices/audio/implement-policy.html">audio policy manager</a> to provide more
flexibility to support complex automotive use cases.</p>

<h3 id="high-resolution_audio">High-resolution audio</h3>

<p>Android 10 includes the following improvements for
<a href="../../devices/audio/highres-effects.html">high-resoluton audio</a>.</p>

<ul>
<li>Float support</li>
<li>192&nbsp;KHz frequency support</li>
<li>Eight-channel support</li>
<li>Inclusion of timing information</li>
</ul>

<h3 id="concurrent_capture">Concurrent capture</h3>

<p>Android 10 improves the
<a href="../../devices/audio/concurrent.html">concurrent capture</a> user experience that requires
more than one active audio capture to happen simultaneously.</p>

<h3 id="audioplaybackcapture">AudioPlaybackCapture</h3>

<p>Android 10 contains a new API called
<code translate="no" dir="ltr">AudioPlaybackCapture</code>, which gives apps the ability to copy the audio being
played by other apps. This feature is similar to screen capture, but for audio.
The primary use case is to enable streaming apps to capture the audio being
played by games.</p>

<p>The capture API doesn&#39;t affect the latency of the app whose audio is being
captured.</p>

<h3 id="midi">MIDI</h3>

<p>Android 10 makes it easier to port professional audio
apps using MIDI to the Android platform using the
<a href="../../devices/audio/midi.html#midi-ndk"><code translate="no" dir="ltr">AMidi</code> NDK API</a>.</p>

<h2 id="camera">Camera</h2>

<p>For a summary of the changes to the camera API, camera HAL, and camera module
introduced in Android 10, see
<a href="../../devices/camera/versioning.html#100">Android 10 camera updates</a>.</p>

<h3 id="camera_framework_privacy_improvements">Camera framework privacy improvements</h3>

<p>Android 10 introduces privacy enhancements to the
camera framework. To avoid exposing potentially sensitive static camera
information in
<a href="https://developer.android.google.cn/reference/android/hardware/camera2/CameraCharacteristics" class="external"><code translate="no" dir="ltr">CameraCharacteristics</code></a> 
without user consent, apps must obtain the
<a href="https://developer.android.google.cn/reference/android/Manifest.permission.html#CAMERA" class="external"><code translate="no" dir="ltr">CAMERA</code></a> 
permission to retrieve static metadata with a privacy-sensitive tag using the
<a href="https://developer.android.google.cn/reference/android/hardware/camera2/CameraManager#getCameraCharacteristics(java.lang.String)" class="external"><code translate="no" dir="ltr">getCameraCharacteristics</code></a>
method.</p>

<p>To get a list of the camera characteristic keys that require the <code translate="no" dir="ltr">CAMERA</code>
permission, call the
<a href="https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/hardware/camera2/CameraCharacteristics.java#303" class="external"><code translate="no" dir="ltr">getKeysNeedingPermission</code></a> 
method.</p>

<h3 id="session_reconfiguration_query">Session reconfiguration query</h3>

<p>Android 10 adds a
<a href="../../devices/camera/session-parameters.html#session_reconfiguration_query">session reconfiguration query</a>
feature, which allows for improved performance through more control over the
internal session parameter reconfiguration logic.</p>

<h3 id="camera_hal3_buffer_management_apis">Camera HAL3 buffer management APIs</h3>

<p>Android 10 introduces optional
<a href="../../devices/camera/buffer-management-api.html">camera HAL3 buffer management APIs</a> that
allow you to implement buffer management logic to achieve different memory and
capture latency tradeoffs in camera HAL implementations.</p>

<h3 id="camera_hal_dynamic_physical_camera_switch">Camera HAL dynamic physical camera switch</h3>

<p>Android 10 introduces a dynamic metadata tag,
<code translate="no" dir="ltr">ANDROID_LOGICAL_MULTI_CAMERA_ACTIVE_PHYSICAL_ID</code>,
which indicates the active underlying physical camera of a logical camera
device. For more information, see
<a href="../../devices/camera/multi-camera.html#support_checklist">Multi-Camera Support</a>.</p>

<h3 id="support_for_hiding_physical_cameras">Support for hiding physical cameras</h3>

<p>In Android 10, the camera HAL can reduce the number of
physical cameras that can be directly opened by an app. For more
details, see <a href="../../devices/camera/multi-camera.html#support_checklist">Multi-Camera Support</a>.</p>

<h3 id="camera2_vndk_api">Camera2 VNDK API</h3>

<p>In Android 10, vendor modules can access and control
camera devices through two new standard HIDL interfaces,
<code translate="no" dir="ltr">android.frameworks.cameraservice.service@2.0</code> and
<code translate="no" dir="ltr">android.frameworks.cameraservice.device@2.0</code>. To make using the HIDL
interfaces more convenient, Android 10 also introduces
a vendor-available library, <code translate="no" dir="ltr">libcamera2_vendor</code>. This library is similar to the
<a href="https://developer.android.google.cn/ndk/reference/group/camera" class="external">Camera NDK library</a>,
with a few minor modifications.</p>

<h3 id="stream_configurations">Stream configurations</h3>

<p>Android 10 adds features that allow camera vendors to
advertise
<a href="../../devices/camera/stream-config.html#recommended_stream_configurations">recommended camera streams</a>
to camera clients and to support an
<a href="../../devices/camera/stream-config.html#api_to_query_stream_combinations">API to query stream combinations</a>.</p>

<h3 id="camera_stream_combination_requirements">Camera stream combination requirements</h3>

<p>Devices running Android 10 are no longer required to
support stream combinations with physical subcamera streams. However, devices
running Android 10 with the camera HAL device version
3.5 must support <code translate="no" dir="ltr">isStreamCombinationSupported()</code> to allow apps to query
whether a stream combination containing physical streams is supported.</p>

<p>For more information, see
<a href="../../devices/camera/multi-camera.html#support_checklist">Multi-Camera Support</a>.</p>

<h3 id="heif_imaging">HEIF imaging</h3>

<p>Android 10 provides native camera support for
<a href="../../devices/camera/heif.html">high efficiency image file format (HEIF) images</a>, which
offer improved image quality and smaller sizes over JPEG images. Devices must
have an HEIC or HEVC encoder to support HEIF images.</p>

<h3 id="monochrome_cameras">Monochrome cameras</h3>

<p>Android 10 provides additional support for the Y8
stream format, monochrome and near-infrared (NIR) color filter array static
metadata, and <code translate="no" dir="ltr">DngCreator</code> functions for
<a href="../../devices/camera/monochrome.html">monochrome cameras</a>.</p>

<h2 id="connectivity">Connectivity</h2>

<h3 id="calling_and_messaging">Calling and messaging</h3>

<h4 id="emergency_numbers_and_emergency_calling">Emergency numbers and emergency calling</h4>

<p>Android 10 provides improved support for
<a href="../../devices/tech/connect/emergency-call.html">emergency calling</a>. In an emergency,
devices with support for IRadio HAL v1.4 can initiate an emergency call using
emergency numbers retrieved from a source such as a SIM card, the network
signal, or the Android database. Numbers can be categorized based on emergency
service categories such as police, fire, and ambulance.</p>

<h4 id="group_call_apis">Group call APIs</h4>

<p>The group call APIs are an extension of the eMBMS APIs added in Android 9. The
new APIs define a standard for apps to join and broadcast on cell-broadcast
group calls by interacting with eMBMS middleware packages. Group calls require
support from the chipset vendor, middleware vendor, and the cell carrier to
function properly. Developer documentation is located at
<a href="https://developer.android.google.cn/reference/android/telephony/MbmsGroupCallSession" class="external">developer.google.com</a>.</p>

<h4 id="remote_sim_capabilities">Remote SIM capabilities</h4>

<p>Android 10 introduces remote SIM capabilities that
allow messaging apps on an Android host device to send SMS messages through
phones using mechanisms such as Bluetooth. For more information, see the
reference documentation for the
<a href="https://developer.android.google.cn/reference/android/telephony/SubscriptionInfo.html#getSubscriptionType()" class="external"><code translate="no" dir="ltr">getSubscriptionType</code></a>
method and the
<a href="https://developer.android.google.cn/reference/android/telephony/SubscriptionManager.html#SUBSCRIPTION_TYPE_REMOTE_SIM" class="external"><code translate="no" dir="ltr">SUBSCRIPTION_TYPE_REMOTE_SIM</code></a> 
constant.</p>

<h4 id="multiple_esims">Multiple eSIMs</h4>

<p>In Android 10, the <code translate="no" dir="ltr">EuiccManager</code> class supports
devices with
<a href="../../devices/tech/connect/esim-overview.html#supporting_multiple_esims">multiple embedded SIMs (eSIMs)</a>,
or eUICCs.</p>

<h4 id="esim_updates">eSIM updates</h4>

<p>For devices running Android 10 that support eSIMs, a
nonremovable eUICC slot ID array must be defined. Devices must also support
IRadio HAL v1.4 and IRadioConfig HAL v1.2. For more information, see
<a href="../../devices/tech/connect/esim-overview.html#hardwaremodem_requirements">Implementing eSIM</a>
and <a href="../../devices/tech/connect/esim-modem-requirements.html#hal_requirements">Modem Requirements</a>.</p>

<h4 id="5g_non-standalone_nsa">5G Non-Standalone (NSA)</h4>

<p>Android 10 adds support for
<a href="../../devices/tech/connect/5g-nsa.html">5G non-standalone (NSA)</a>. 5G NSA is a solution
for 5G networks where the network is supported by an existing 4G infrastructure.
On Android 10, devices can display a 5G icon on the
status bar when a device connects to a 5G network.</p>

<h4 id="phone_account_suggestion">Phone account suggestion</h4>

<p>Android 10 introduces the
<a href="../../devices/tech/connect/phone-account-suggestion.html">phone account suggestion service</a>,
which allows suggestions for phone accounts to be shown to users when making a call.</p>

<h3 id="carrier">Carrier</h3>

<h4 id="migrating_mobile_network_settings">Migrating Mobile Network settings</h4>

<p>Android 10 rearchitected the Mobile Network settings
UI code and moved it from the Telephony stack to the Settings stack. To support
the migrated code, change the following Mobile Network settings configuration
values from Android resources to <code translate="no" dir="ltr">CarrierConfig</code> resources:</p>

<p><code translate="no" dir="ltr">config_world_mode</code> -&gt;
<code translate="no" dir="ltr">CarrierConfigManager#KEY_WORLD_MODE_ENABLED_BOOL</code></p>

<p><code translate="no" dir="ltr">config_support_tdscdma</code> -&gt;
<code translate="no" dir="ltr">CarrierConfigManager#KEY_SUPPORT_TDSCDMA_BOOL</code></p>

<p><code translate="no" dir="ltr">config_support_tdscdma_roaming_on_networks</code> -&gt; 
<code translate="no" dir="ltr">CarrierConfigManager#KEY_SUPPORT_TDSCDMA_ROAMING_NETWORKS_STRING_ARRAY</code></p>

<p><code translate="no" dir="ltr">config_enabled_lte</code> -&gt; 
<code translate="no" dir="ltr">CarrierConfigManager#KEY_LTE_ENABLED_BOOL</code></p>

<h4 id="device_identifiers">Device identifiers</h4>

<p>Persistent <a href="../../devices/tech/config/device-identifiers.html">device identifiers</a>
(IMEI/MEID, IMSI, and build serial) are guarded by a privileged permission
with access also granted to device and profile owner apps. Because the IMSI and
SIM serial number are carrier provided, access to these identifiers is
granted to packages with carrier privileges.</p>

<h3 id="wi-fi">Wi-Fi</h3>

<h4 id="network_selection">Network selection</h4>

<p>Android continuously evaluates the quality of the connected network and
assesses the quality of available networks. Android
10 has updated algorithms and procedures for
<a href="../../devices/tech/connect/wifi-network-selection.html">selecting and switching between Wi-Fi networks</a>.</p>

<h4 id="wi-fi_preferred_network_offload_scanning">Wi-Fi preferred network offload scanning</h4>

<p>Android 10 introduces an optional API method named
<code translate="no" dir="ltr">setDeviceMobilityState()</code> in <code translate="no" dir="ltr">WifiManager</code> that increases the interval between
<a href="../../devices/tech/connect/wifi-scan.html">preferred network offload (PNO)</a>
scans when the device is stationary to reduce power usage.</p>

<h4 id="carrier_wi-fi">Carrier Wi-Fi</h4>

<p>In Android 10, devices with the
<a href="../../devices/tech/connect/carrier-wifi.html">carrier Wi-Fi feature</a> automatically
connect to configured carrier Wi-Fi networks (networks with public key
certificates).</p>

<h4 id="wi-fi_easy_connect">Wi-Fi Easy Connect</h4>

<p>In Android 10, devices can use
<a href="../../devices/tech/connect/wifi-easy-connect.html">Wi-Fi Easy Connect</a>, which uses the
device provisioning protocol (DPP) introduced by the Wi-Fi Alliance (WFA), to
provision and configure Wi-Fi devices.</p>

<h4 id="wi-fi_low-latency_mode">Wi-Fi low-latency mode</h4>

<p>Android 10 introduces a
<a href="../../devices/tech/connect/wifi-low-latency.html">Wi-Fi low-latency mode</a>, which
configures the Wi-Fi chip to reduce latency.</p>

<h4 id="updated_dhcp_server">Updated DHCP server</h4>

<p>As part of the formation of an &quot;IP Server&quot; service umbrella, <code translate="no" dir="ltr">dnsmasq</code> is
being deleted. Android 10 replaces its DHCPv4 server
functional use with a separate component, primarily written in Java to better
integrate with the Java framework control plane. This improves security and
updatability for the DHCP server. For more details, see
<a href="https://android.googlesource.com/platform/packages/modules/NetworkStack/+/refs/heads/master/src/android/net/dhcp/DhcpServer.java" class="external"><code translate="no" dir="ltr">packages/modules/NetworkStack/src/android/net/dhcp/DhcpServer.java</code></a>.</p>

<p>No action is required to implement this change: all devices releasing and
upgrading to Android 10 use <code translate="no" dir="ltr">DhcpServer</code> by default.
If you have customizations to the DHCP server, you can revert to Android 9
behavior by setting the global setting <code translate="no" dir="ltr">tether_enable_legacy_dhcp_server=1</code>.
The new <code translate="no" dir="ltr">DhcpServer</code> is included in the networking components module, so any
customization to DHCP server functionality should be upstreamed.</p>

<h4 id="wpa3_and_wi-fi_enhanced_open">WPA3 and Wi-Fi Enhanced Open</h4>

<p>Android 10 adds support for the <a href="../../devices/tech/connect/wifi-wpa3-owe.html">Wi-Fi Protected
Access 3 (WPA3) and Wi-Fi Enhanced Open</a>
security standards to provide better privacy and robustness against known
attacks.</p>

<h4 id="wi-fi_direct">Wi-Fi Direct</h4>

<p><a href="../../devices/tech/connect/wifi-direct.html">Wi-Fi Direct</a>, also known as Wi-Fi P2P,
allows supporting devices to discover and connect to one another directly using
the Wi-Fi Direct protocol without internet or cellular network access.</p>

<h4 id="mac_randomization_enhancements">MAC randomization enhancements</h4>

<p>From Android 10,
<a href="../../devices/tech/connect/wifi-mac-randomization.html">MAC randomization</a> is enabled by
default for client mode, SoftAp, and Wi-Fi Direct. Devices must provide an
option to enable or disable MAC randomization for each SSID in the system UI.</p>

<h4 id="passpoint_r2">Passpoint R2</h4>

<p>Android 10 introduces support for
<a href="../../devices/tech/connect/wifi-passpoint.html#passpoint_r2">Passpoint R2 features</a>.
Passpoint R2 implements online sign up (OSU), a standard method to provision
new Passpoint profiles. Android 10 supports the
provisioning of EAP-TTLS profiles using SOAP-XML.</p>

<h3 id="nfc">NFC</h3>

<h4 id="secure_nfc">Secure NFC</h4>

<p><a href="../../devices/tech/connect/secure-nfc.html">Secure NFC</a> allows off-host NFC card
emulation to be enabled only when the device&#39;s screen is unlocked. Implementing
this feature gives users the option to enable Secure NFC for improved security.</p>

<h4 id="android_beam_deprecated">Android Beam deprecated</h4>

<p>In Android 10, Android Beam is no longer required and
the following interfaces and methods have been deprecated.</p>

<p>Interfaces:</p>

<ul>
<li><a href="https://developer.android.google.cn/reference/android/nfc/NfcAdapter.CreateBeamUrisCallback.html" class="external"><code translate="no" dir="ltr">NfcAdapter.CreateBeamUrisCallback</code></a> </li>
<li><a href="https://developer.android.google.cn/reference/android/nfc/NfcAdapter.CreateNdefMessageCallback.html" class="external"><code translate="no" dir="ltr">NfcAdapter.CreateNdefMessageCallback</code></a> </li>
<li><a href="https://developer.android.google.cn/reference/android/nfc/NfcAdapter.OnNdefPushCompleteCallback.html" class="external"><code translate="no" dir="ltr">NfcAdapter.OnNdefPushCompleteCallback</code></a> </li>
</ul>

<p>Methods:</p>

<ul>
<li class="external"><a href="https://developer.android.google.cn/reference/android/nfc/NfcAdapter.CreateBeamUrisCallback#createBeamUris(android.nfc.NfcEvent)"><code translate="no" dir="ltr">createBeamUris</code></a></li>
<li class="external"><a href="https://developer.android.google.cn/reference/android/nfc/NfcAdapter.html#invokeBeam(android.app.Activity)"><code translate="no" dir="ltr">invokeBeam</code></a></li>
<li class="external"><a href="https://developer.android.google.cn/reference/android/nfc/NfcAdapter.html#isNdefPushEnabled()"><code translate="no" dir="ltr">isNdefPushEnabled</code></a></li>
<li class="external"><a href="https://developer.android.google.cn/reference/android/nfc/NfcAdapter.html#setBeamPushUris(android.net.Uri%5B%5D,%2520android.app.Activity)"><code translate="no" dir="ltr">setBeamPushUris</code></a></li>
<li class="external"><a href="https://developer.android.google.cn/reference/android/nfc/NfcAdapter.html#setNdefPushMessage(android.nfc.NdefMessage,%2520android.app.Activity,%2520android.app.Activity...)"><code translate="no" dir="ltr">setNdefPushMessage</code></a></li>
<li class="external"><a href="https://developer.android.google.cn/reference/android/nfc/NfcAdapter.html#setNdefPushMessageCallback(android.nfc.NfcAdapter.CreateNdefMessageCallback,%2520android.app.Activity,%2520android.app.Activity...)"><code translate="no" dir="ltr">setNdefPushMessageCallback</code></a></li>
<li class="external"><a href="https://developer.android.google.cn/reference/android/nfc/NfcAdapter.html#setOnNdefPushCompleteCallback(android.nfc.NfcAdapter.OnNdefPushCompleteCallback,%2520android.app.Activity,%2520android.app.Activity...)"><code translate="no" dir="ltr">setOnNdefPushCompleteCallback</code></a></li>
</ul>

<p>To use Android Beam, report the
<a href="https://developer.android.google.cn/reference/android/content/pm/PackageManager#FEATURE_NFC_BEAM" class="external"><code translate="no" dir="ltr">android.sofware.nfc.beam</code></a> 
feature constant.</p>

<h2 id="graphics">Graphics</h2>

<h3 id="asurfacecontrol">ASurfaceControl</h3>

<p>Android 10 adds
<a href="../../devices/graphics/surfaceflinger-windowmanager.html#surfaceflinger"><code translate="no" dir="ltr">ASurfaceControl</code></a>, a new way for
<code translate="no" dir="ltr">SurfaceFlinger</code> to accept buffers.</p>

<h3 id="graphics_implementation">Graphics implementation</h3>

<h4 id="opengl_es_layers">OpenGL ES layers</h4>

<p>Android 10 introduces a
<a href="../../devices/graphics/implement-opengl-es.html#gles_layers">layering system</a> for GLES.</p>

<h4 id="egl_15">EGL 1.5</h4>

<p>Android 10 implements the
<a href="https://www.khronos.org/registry/EGL/specs/eglspec.1.5.pdf" class="external">EGL 1.5 interface</a>.
For information on new features in EGL 1.5, view the
<a href="https://www.khronos.org/news/press/khronos-releases-egl-1.5-specification" class="external">Khronos Releases EGL 1.5 Specification</a>.</p>

<h4 id="vulkan">Vulkan</h4>

<p>Android 10 includes support for Vulkan 1.1 graphics.
The platform also supports <code translate="no" dir="ltr">VK_KHR_swapchain</code> v70, so the Vulkan app is able
to create a <code translate="no" dir="ltr">VkImage</code> backed by swapchain memory.</p>

<h4 id="performance_refresh_rate">Performance refresh rate</h4>

<p>Android 10 adds support for a performance refresh rate.
This feature is turned off by default.</p>

<h2 id="interaction">Interaction</h2>

<h3 id="automotive">Automotive</h3>

<h4 id="automotive_audio">Automotive audio</h4>

<p>In Android 10, Audio HAL context maps to
<code translate="no" dir="ltr">AudioAttributes.usage</code> to identify sounds. Android supports one
<code translate="no" dir="ltr">AUDIO_DEVICE_OUT_BUS</code> instance per context. <code translate="no" dir="ltr">IAudioControl</code> HAL provides
<a href="../../devices/automotive/audio.html">vehicle-specific extensions to the Audio HAL</a>.</p>

<h3 id="gestural_navigation">Gestural navigation</h3>

<p>Android 10 introduces an option for a fully gestural
system navigation. For information about how to prepare apps to use this
feature, see the
<a href="https://developer.android.google.cn/preview/features/gesturalnav" class="external">Gestural navigation</a> 
page on the Android Developer site.</p>

<h3 id="neural_networks">Neural networks</h3>

<p>Android 10 introduces updates to the Neural Networks
API and the Neural Networks HAL. For a summary of the changes, see
<a href="../../devices/neural-networks/index.html#android-q">Neural networks</a>.</p>

<p>New and updated Neural Networks documentation for Android
10:</p>

<ul>
<li><a href="../../devices/neural-networks/index.html">Overview</a></li>
<li><a href="../../devices/neural-networks/ahardwarebuffer.html">AHardwareBuffer</a></li>
<li><a href="../../devices/neural-networks/burst-executions.html">Burst Executions and Fast Message Queues</a></li>
<li><a href="../../devices/neural-networks/compilation-caching.html">Compilation Caching</a></li>
<li><a href="../../devices/neural-networks/device-discovery.html">Device Discovery and Assignment</a></li>
<li><a href="../../devices/neural-networks/vendor-extensions.html">Vendor Extensions</a></li>
</ul>

<h3 id="sensors">Sensors</h3>

<h4 id="sensors_hal_20">Sensors HAL 2.0</h4>

<p><a href="../../devices/sensors/sensors-hal2.html">Sensors HAL 2.0</a> supports using
<a href="../../devices/architecture/hidl/fmq.html">fast message queues (FMQs)</a> to send sensor
events from the HAL into the Android Sensors Framework.</p>

<h4 id="sensors_off">Sensors Off</h4>

<p>Android 10 includes a developer setting to
<a href="../../devices/sensors/sensors-off.html">shut off all sensors</a> on a device. This feature
helps developers test their app’s functionality in situations where those
sensors become unavailable, and also gives users a way to control the sensors
in their device.</p>

<p>If your devices use the default implementation of <code translate="no" dir="ltr">SensorService</code>,
<code translate="no" dir="ltr">CameraService</code>, and <code translate="no" dir="ltr">AudioPolicyService</code>, then no additional customization is
needed to the reference design. If you have other sensors, see
<a href="../../devices/sensors/sensors-off.html#customization">Customization</a> for more details
about supporting this feature.</p>

<h2 id="media">Media</h2>

<h3 id="updatable_media_components">Updatable media components</h3>

<p>Android 10 provides
<a href="../../devices/media/updatable-media.html">updatable media components</a> that enable
updating media-related
<a href="../../devices/architecture/modular-system/index.html">modular system components</a> through the
Google Play Store infrastructure or through a partner-provided over-the-air
(OTA) mechanism.</p>

<h3 id="media_drm">Media DRM</h3>

<p>Android 10 improves the utility and usability of the
<code translate="no" dir="ltr">MediaDrm</code> Java and NDK APIs.</p>

<h3 id="decoding">Decoding</h3>

<p>Android 10 supports AV1 SW decoding.</p>

<h2 id="permissions">Permissions</h2>

<p>Android 10 provides additional permission
configurations for transparency and user privacy.</p>

<h3 id="contacts_provider_and_affinities_information">Contacts provider and affinities information</h3>

<p>Starting in Android 10, contacts-affinity-related
data, managed by the
<a href="../../devices/tech/config/contacts-affinities.html">Contacts Provider component</a>, is
accessed differently than in Android 9 and lower. These changes regarding data
accessibility improve user privacy in all Android
10 devices that use the Contacts Provider component.
The underlying database no longer contains contact affinities data. Therefore
apps can’t write to or read from it.</p>

<p>The changes in Android 10 are expected to have a large
impact on APIs. If your apps rely on the deprecated features mentioned in
Contacts Provider and Affinities Information, you may want to update your apps
to compensate for any changes. Additionally, if you use a forked version of the
Contacts Provider, you must update your Contacts Provider.</p>

<h3 id="tristate_location_permissions">Tristate location permissions</h3>

<p><a href="../../devices/tech/config/tristate-perms.html">Tristate location permissions</a> in Android
10 give users more control over how apps access their
device locations.</p>

<h3 id="background_location_access_reminder">Background location access reminder</h3>

<p>Android 10 features a
<a href="../../devices/tech/config/background-location-access.html">background access location reminder</a>,
which increases transparency into how much access apps have to a device&#39;s
location and helps users maintain control over such access.</p>

<h3 id="restrict_opportunistic_locations">Restrict opportunistic locations</h3>

<p>When an app requests a device’s location, the app can either wait for the request
response or, by using active location listeners, get an opportunistic location
update. Starting in Android 10, to get
<a href="../../devices/tech/config/restrict-opportunistic-locations.html">opportunistic location updates</a>,
developers must specify that they need passive location updates from the
<code translate="no" dir="ltr">FusedLocationProviderClient</code> class.</p>

<h3 id="background_apps_launching">Background apps launching</h3>

<p>In Android 10, nonprivileged apps without a visible
window can’t launch themselves automatically to the foreground. This change
suppresses ad popups and malicious takeovers. No action is required to enable
this.</p>

<h3 id="app_sandboxing">App sandboxing</h3>

<p>In Android 10, apps have a limited raw view of the
file system, with no direct access to paths like <code translate="no" dir="ltr">/sdcard/DCIM</code>. However, apps
retain full raw access to their package-specific paths, as returned by any
applicable methods such as
<a href="https://developer.android.google.cn/reference/android/content/Context.html#getExternalFilesDir(java.lang.String)" class="external"><code translate="no" dir="ltr">Context.getExternalFilesDir()</code></a>.
Apps still have full raw access to their package-specific paths.</p>

<p>Use the app sandbox
<a href="../../security/app-sandbox.html#guidelines-for-sharing-files">guidelines for sharing files</a>
to provide appropriate data-sharing granularity.</p>

<h3 id="restrict_app_clipboard_access">Restrict app clipboard access</h3>

<p>In Android 10, clipboard access has changed so that
clipboard content can’t be watched by calling
<a href="https://developer.android.google.cn/reference/android/content/ClipboardManager.html#getPrimaryClip()" class="external"><code translate="no" dir="ltr">ClipboardManager.getPrimaryClip</code></a>
or by adding an
<a href="https://developer.android.google.cn/reference/android/content/ClipboardManager.OnPrimaryClipChangedListener" class="external"><code translate="no" dir="ltr">onPrimaryClipChanged</code></a> 
listener for notification when the clipboard changes. This increases user
privacy and disables malvertizing apps from modifying the clipboard.</p>

<p>In Android 10, read access is only allowed to either
the current app with input focus, or to the current keyboard. The
<a href="https://developer.android.google.cn/reference/android/content/ClipboardManager.OnPrimaryClipChangedListener#public-methods_1" class="external"><code translate="no" dir="ltr">ClipboardManager.onPrimaryClipChanged()</code></a> 
listener call now only fires for apps that meet such restrictions.
<a href="https://developer.android.google.cn/reference/android/content/ClipboardManager.html#getPrimaryClip()" class="external"><code translate="no" dir="ltr">ClipboardManager.getPrimaryClip</code></a>
and <a href="https://developer.android.google.cn/reference/android/content/ClipboardManager.html#getPrimaryClipDescription()" class="external"><code translate="no" dir="ltr">ClipboardManager.getPrimaryClipDescription</code></a>
return <code translate="no" dir="ltr">null</code> if the requesting app either isn’t the default input method
editor (IME), or doesn’t have input focus.</p>

<h3 id="runtime_permissions_include_activity_recognition">Runtime permissions include activity recognition</h3>

<p>Users now see an activity recognition dialog when an app accesses device
location in the background. Hard-restricted runtime permissions must be
properly whitelisted in Android 10.</p>

<h3 id="manage_device_admins_permission">MANAGE_DEVICE_ADMINS permission</h3>

<p>Android 10 changes the
<a href="https://android.googlesource.com/platform/frameworks/base/+/master/core/res/AndroidManifest.xml" class="external"><code translate="no" dir="ltr">MANAGE_DEVICE_ADMINS</code></a> 
permission from signature or privileged to signature only. This means that only
platform-signed apps can set other apps as a device admin.</p>

<h3 id="sharing_api_improvements">Sharing API improvements</h3>

<p>Android 10 provides a number of
<a href="https://developer.android.google.cn/preview/features/sharing" class="external">new Android Platform API features related to sharing</a>.
If you&#39;ve modified the Share Sheet code in your implementation, ensure that
your implementation supports these new features. If you haven&#39;t modified the
Share Sheet code in your implementation, you don’t need to do anything to
support these new features.</p>

<h2 id="android_runtime_art">Android Runtime (ART)</h2>

<h3 id="signed_config">Signed Config</h3>

<p>The <a href="../../devices/tech/dalvik/signed-config.html">Signed Config</a> feature allows
embedding configuration of non-SDK interface restrictions in APKs. This enables
removing specific non-SDK interfaces from the blacklist, so that AndroidX can
safely use them. With this change, AndroidX can add support for new features
on older Android versions.</p>

<h2 id="performance">Performance</h2>

<h3 id="cgroup_abstraction_layer">Cgroup abstraction layer</h3>

<p>Android 10 includes a
<a href="../../devices/tech/perf/cgroups.html">cgroup abstraction layer</a> and task profiles, which
developers can use to describe a set of restrictions to apply to a thread or a
process.</p>

<h3 id="low_memory_killer_daemon_lmkd">Low Memory Killer Daemon (lmkd)</h3>

<p>Android 10 supports a new
<a href="../../devices/tech/perf/lmkd.html"><code translate="no" dir="ltr">lmkd</code> mode</a> that uses kernel pressure stall
information (PSI) monitors for memory pressure detection.</p>

<h2 id="power">Power</h2>

<h3 id="platform_power_management">Platform power management</h3>

<p>In Android 10,
<a href="../../devices/tech/power/platform_mgmt.html">Doze mode</a>
can be enabled on always-on devices as well as on battery-powered devices.</p>

<h3 id="routine_battery_saver">Routine battery saver</h3>

<p>Android 10 introduces a new battery saver schedule
option called <strong>based on routine</strong>.
<a href="../../devices/tech/power/routine-battery-saver.html">Routine battery saver</a> allows an
app chosen by the OEM to provide signals to the system for more intelligent
battery saver scheduling. This option requires configuration, and is optional
to implement.</p>

<h3 id="power_stats_hal">Power stats HAL</h3>

<p>In Android 10,
<a href="https://android.googlesource.com/platform/hardware/interfaces/+/master/power/stats/1.0/IPowerStats.hal" class="external"><code translate="no" dir="ltr">IPowerStats.hal</code></a> 
replaces the power stats collection APIs in
<a href="https://android.googlesource.com/platform/hardware/interfaces/+/master/power/1.3/IPower.hal" class="external"><code translate="no" dir="ltr">IPower.hal</code></a>.
While the power HAL still supports the APIs, they&#39;ll be migrated exclusively to
the power stats HAL in the future.</p>

<p>The power stats HAL includes new APIs to support the collection of data from
on-device power measurement, for supported devices. The existing power stats
collection APIs are also updated to improve flexibility. The power hinting
APIs remain in power HAL and aren&#39;t changing.</p>

<h3 id="thermal_mitigation">Thermal mitigation</h3>

<p>The thermal framework in Android 10 abstracts device
interfaces for the thermal subsystem temperature sensor, including CPU, GPU,
battery, skin, and cooling device. The framework introduces a polling interface
to query thermal status to initiate throttling, and a callback interface to
send a message to the user when a threshold is exceeded.</p>

<p>Android 10 provides the new data types through the
<code translate="no" dir="ltr">IThermalService</code> interface using these three new methods:</p>

<ul>
<li><a href="https://developer.android.google.cn/reference/android/os/PowerManager#getCurrentThermalStatus()" class="external"><code translate="no" dir="ltr">getCurrentThermalStatus()</code></a>
returns the current thermal status of the device as an integer, unless the
device is undergoing throttling.</li>
<li><a href="https://developer.android.google.cn/reference/android/os/PowerManager#addThermalStatusListener(android.os.PowerManager.OnThermalStatusChangedListener)" class="external"><code translate="no" dir="ltr">addThermalStatusListener()</code></a>
adds a listener.</li>
<li><a href="https://developer.android.google.cn/reference/android/os/PowerManager#removeThermalStatusListener(android.os.PowerManager.OnThermalStatusChangedListener)" class="external"><code translate="no" dir="ltr">removeThermalStatusListener()</code></a>
removes a previously added listener.</li>
</ul>

<p>Apps add and remove listeners and access temperature status in the
<a href="https://developer.android.google.cn/reference/android/os/PowerManager" class="external"><code translate="no" dir="ltr">PowerManager</code></a> 
class. Only a trusted system service such as an Android API or device
manufacturer API can access information about associated causal events. Device
manufacturers or SoC makers must implement <code translate="no" dir="ltr">thermal HAL 2.0</code> to enable the full
functionality of the new thermal framework.</p>

<p>For a thermal mitigation implementation example, see the
<a href="https://android.googlesource.com/platform/hardware/google/pixel/+/refs/heads/master/thermal/" class="external">Reference implementation</a>.</p>

<h2 id="updates">Updates</h2>

<h3 id="apex_file_format">APEX file format</h3>

<p><a href="../../devices/tech/ota/apex.html">Android Pony EXpress (APEX)</a> is a new container format
used in the install flow for modular system components.</p>

<h3 id="dynamic_partitions">Dynamic partitions</h3>

<p><a href="../../devices/tech/ota/dynamic_partitions.html">Dynamic partitions</a> introduce a
userspace partitioning system to Android, allowing partitions to be created,
resized, or destroyed during OTA updates. Device makers don&#39;t have to worry
about the individual sizes of partitions, such as <code translate="no" dir="ltr">system</code>, <code translate="no" dir="ltr">vendor</code>, and
<code translate="no" dir="ltr">product</code>. Instead, one big <code translate="no" dir="ltr">super</code> partition is allocated, and subpartitions
can be sized dynamically within it.</p>

<h3 id="dynamic_system_updates">Dynamic system updates</h3>

<p><a href="../../devices/tech/ota/dynamic-system-updates.html">Dynamic system updates (DSU)</a> allows
you to make an Android system image that users can download from the internet
and try out without the risk of corrupting the current system image.</p>

<h3 id="multiuser_backup_and_restore">Multiuser backup and restore</h3>

<p>Android 10 supports
<a href="https://developer.android.google.cn/reference/android/app/backup/package-summary" class="external">backup and restore</a> 
functionality for all users on a device. Previously, backup and restore was
only available for the system user. Backup and restore for nonsystem users is
turned off by default as it has only partial coverage for settings, wallpaper,
and system components.</p>

<h3 id="overlayfs">Overlayfs</h3>

<p>Users working with <code translate="no" dir="ltr">userdebug</code> or <code translate="no" dir="ltr">eng</code> builds expect to be able to efficiently
remount the system partition as read-write and then add or modify any number of
files without reflashing the system image. You can use <code translate="no" dir="ltr">Overlayfs</code>, which
automatically sets up backing storage for a writable file system as an upper
reference, and mounts over the lower. These actions happen in the
<code translate="no" dir="ltr">adb disable-verity</code> and <code translate="no" dir="ltr">adb remount</code> requests. For more details, see the
<a href="https://android.googlesource.com/platform/system/core/+/a9a3b73163fda5abf237cc0f0cee97ff33e6254d/fs_mgr/README.overlayfs.md" class="external">Overlayfs README</a> 
in AOSP.</p>

<h3 id="shared_library_support_in_recovery_mode">Shared library support in recovery mode</h3>

<p>In Android 10, shared libraries are available in the
recovery partition, which eliminates the need for all recovery mode executables
to be static. The shared libraries are located under the
<code translate="no" dir="ltr">/system/lib</code> (or <code translate="no" dir="ltr">/system/lib64</code> for 64-bit devices) directory in the
partition.</p>

<p>To add a new shared library to the recovery partition, add
<code translate="no" dir="ltr">recovery_available: true</code> or <code translate="no" dir="ltr">recovery: true</code> to <code translate="no" dir="ltr">Android.bp</code> of the shared
library. The former installs the library to both the system and recovery
partitions, while the latter installs it only to the recovery partition.</p>

<p>Shared library support can&#39;t be built with Android&#39;s make-based build system.
To convert an existing static executable for the recovery mode to a dynamic one,
remove <code translate="no" dir="ltr">LOCAL_FORCE_STATIC_EXECUTABLE := true</code> in <code translate="no" dir="ltr">Android.mk</code> or
<code translate="no" dir="ltr">static_executable: true</code> (in <code translate="no" dir="ltr">Android.bp</code>).</p>

<h3 id="user_data_checkpoint_udc">User Data Checkpoint (UDC)</h3>

<p>Android 10 introduces the
<a href="../../devices/tech/ota/user-data-checkpoint.html">User Data Checkpoint (UDC) feature</a>,
which allows Android to roll back to its previous state when an Android
over-the-air (OTA) update fails.</p>

          </div>

    
                   <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0">
         </devsite-page-rating>
                   
          </article>
</article>

<devsite-content-footer class="nocontent">
  <p>Content and code samples on this page are subject to the licenses described in the <a href="../../license.html">Content License</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
</devsite-content-footer>


                      </devsite-content>
        </div>
        <devsite-footer-promos class="devsite-footer">
                      
                  </devsite-footer-promos>
        <devsite-footer-linkboxes class="devsite-footer">
                      <nav class="devsite-footer-linkboxes nocontent">
  <ul class="devsite-footer-linkboxes-list">
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Build</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://android.googlesource.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            Android repository
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="../build/requirements.html"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            Requirements
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="../build/downloading.html"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Downloading
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/blobs-preview/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            Preview binaries
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/images/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Factory images
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/drivers/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Driver binaries
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://android.github.io/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            GitHub
          </a>
        </li>
              </ul>
    </li>
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Connect</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://twitter.com/Android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            @Android on Twitter
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://twitter.com/AndroidDev/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            @AndroidDev on Twitter
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://blog.google/products/android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Android Blog
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://security.googleblog.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            Google Security Blog
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-platform/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Platform on Google Groups
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-building/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Building on Google Groups
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-porting/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            Porting on Google Groups
          </a>
        </li>
              </ul>
    </li>
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Get help</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            Android Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/pixelphone/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            Pixel Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/nexus/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Nexus Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://www.android.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            www.android.com
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://www.android.com/gms/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Google Mobile Services
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://stackoverflow.com/questions/tagged/android-source/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Stack Overflow
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://issuetracker.google.com/issues?q=status:open%20componentid:190923"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            Issue Tracker
          </a>
        </li>
              </ul>
    </li>
      </ul>
</nav>
                  </devsite-footer-linkboxes>
        <devsite-footer-utility class="devsite-footer">
                      
<div class="devsite-footer-utility">
  
  <nav class="devsite-nav">
        <ul class="devsite-footer-utility-list">
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../source/index.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer About Android link">
          About Android
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../community.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer Community link">
          Community
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../legal.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer Legal link">
          Legal
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../license.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer License link">
          License
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="http://policies.google.cn/privacy"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link">
          Privacy
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="http://issuetracker.google.com/issues/new?component=191476"
           data-category="Site-Wide Custom Events"
           data-label="Footer Site feedback link">
          Site feedback
        </a>
              </li>
          </ul>
    
    <devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    <select class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
                <option>Language</option>
              <option value="en"
              track-metadata-original-language="en"
              track-metadata-selected-language="en"
              track-name="changed"
              track-type="languageSelector"
            >
        English
      </option>
          <option value="zh_cn"
              track-metadata-original-language="en"
              track-metadata-selected-language="zh_cn"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 简体
      </option>
        </select>
  </devsite-select>
</devsite-language-selector>

  </nav>
</div>
                  </devsite-footer-utility>
      </div></div>
    <devsite-sitemask></devsite-sitemask>
    <devsite-snackbar                   ></devsite-snackbar>    <devsite-tooltip blocked-link></devsite-tooltip>
    <devsite-analytics>
              <script type="application/json" analytics>[{"metrics": {"ratings_value": "metric1", "ratings_count": "metric2"}, "dimensions": {}, "gaid": "UA-45455297-4"}]</script>
<script type="application/json" gtm>[]</script>
          </devsite-analytics>
        <script>
    (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;
    t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];
    E.parentNode.insertBefore(t,E);})(window, document, 'script',
    'https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/js/app_loader.js', '[7,"en",null,"../../js/devsite_app.html","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource","https://androidsource-dot-google-developers.gonglchuangl.net/",null,null,["/_pwa/androidsource/manifest.json","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/images/video-placeholder.svg","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/favicon.png","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/lockup.svg","https://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons"]]')
  </script>  </body>

<!-- Mirrored from source.android.google.cn/setup/start/android-10-release by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 09 Sep 2019 14:16:11 GMT -->
</html>