<!doctype html>
<html       lang="en"      dir="ltr">
  
<!-- Mirrored from source.android.google.cn/devices/graphics/implement-vulkan by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 09 Sep 2019 15:01:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta property="og:site_name" content="Android Open Source Project">
    <meta property="og:type" content="website">
    
          <meta name="theme-color" content="#78c257">
    
    <meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="../../_pwa/androidsource/manifest.json"
          crossorigin="use-credentials">
    <link rel="preconnect" href="http://www.gstatic.com/" crossorigin>
    <link rel="preconnect" href="http://fonts.gstatic.com/" crossorigin>
    <link rel="preconnect" href="http://fonts.googleapis.com/" crossorigin>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons">
        <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/css/rebrand-app.css">
    <noscript>
      <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/css/ce_bundle.css">
    </noscript>
    <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/favicon.png">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/touchicon-180.png"><link rel="canonical" href="implement-vulkan.html">      
<title>Implementing Vulkan &nbsp;|&nbsp; Android Open Source Project</title>

<meta property="og:title" content="Implementing Vulkan &nbsp;|&nbsp; Android Open Source Project">


  <meta property="og:url" content="implement-vulkan.html">

  <meta property="og:locale" content="en">




    
    
    
  
    </head>
  <body type="article"
        theme="androidsource-theme"
        class=""
        
        layout="docs"
        block-apix        pending>
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
    <div class="devsite-wrapper"><devsite-header keep-tabs-visible>
      









<div class="devsite-header--inner">
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="Close menu">
        </button>
        <div class="devsite-product-name-wrapper">
  <a href="../../index.html" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo">
  <img src="https://www.gstatic.cn/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/lockup.svg" class="devsite-site-logo" alt="Android Open Source Project">
</a>
            <span class="devsite-product-name">
            <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                              </li>
  </ul>
          </span>
        
</div>        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
                          <devsite-tabs class="upper-tabs">
  <div class="devsite-tabs-wrapper">
                  <tab >
          <a href="../../setup.html"
   class="gc-analytics-event"
   title="Set up"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Set up"
   >
  Set up
</a>

        </tab>
                        <tab >
          <a href="../../compatibility.html"
   class="gc-analytics-event"
   title="Design"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Design"
   >
  Design
</a>

        </tab>
                        <tab >
          <a href="../../security.html"
   class="gc-analytics-event"
   title="Secure"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Secure"
   >
  Secure
</a>

        </tab>
                        <tab active>
          <a href="../../devices.html"
   class="gc-analytics-event"
   title="Develop"
   aria-label="Develop, selected"         data-category="Site-Wide Custom Events"
        data-label="Tab: Develop"
   >
  Develop
</a>

        </tab>
                        <tab >
          <a href="../tech.html"
   class="gc-analytics-event"
   title="Configure"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Configure"
   >
  Configure
</a>

        </tab>
                        <tab >
          <a href="../../reference.html"
   class="gc-analytics-event"
   title="Reference"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Reference"
   >
  Reference
</a>

        </tab>
            </div>
</devsite-tabs>

                       </div>
          <devsite-search
            enable-suggestions
              family-name="Android Open Source Project"    tenant-name="Android Open Source Project"            >
  <form class="devsite-search-form" action="https://source.android.google.cn/s/results" method="GET">
    <div class="devsite-search-container">
      <div class="devsite-searchbox">
                <input placeholder="Search"
          type="text"
          class="devsite-search-field devsite-search-query"
          name="q"
          value=""
          autocomplete="off"
                    aria-label="Search box">
        <div class="devsite-search-image material-icons" aria-hidden="true"></div>
      </div>
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              aria-label="Open search box"></button>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          aria-label="Close search box"></button>
</devsite-search>

        </div>

        <devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    <select class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
                <option>Language</option>
              <option value="en"
              track-metadata-original-language="en"
              track-metadata-selected-language="en"
              track-name="changed"
              track-type="languageSelector"
            >
        English
      </option>
          <option value="zh_cn"
              track-metadata-original-language="en"
              track-metadata-selected-language="zh_cn"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 简体
      </option>
        </select>
  </devsite-select>
</devsite-language-selector>


                  <a class="devsite-header-link devsite-top-button button gc-analytics-event"
   href="http://android-review.googlesource.com/"
   data-category="Site-Wide Custom Events"
   data-label="Site header link">
  Go to code
</a>
        
              </div>    </div>  </div>
  <div class="devsite-collapsible-section
    ">
    <div class="devsite-header-background">
                        <div class="devsite-product-id-row">
            <div class="devsite-product-description-row">
                              <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                    <a href="../../devices.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Lower Header"
              data-value="1"
          >
            Develop
      
  </a>
        </li>
  </ul>
                                        </div>
                                                                                    </div>
                                      <div class="devsite-doc-set-nav-row">
                              <devsite-tabs class="lower-tabs">
  <div class="devsite-tabs-wrapper">
                  <tab >
          <a href="../../devices.html"
   class="gc-analytics-event"
   title="Overview"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Overview"
   >
  Overview
</a>

        </tab>
                        <tab >
          <a href="../audio.html"
   class="gc-analytics-event"
   title="Audio"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Audio"
   >
  Audio
</a>

        </tab>
                        <tab >
          <a href="../camera.html"
   class="gc-analytics-event"
   title="Camera"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Camera"
   >
  Camera
</a>

        </tab>
                        <tab >
          <a href="../tech/connect.html"
   class="gc-analytics-event"
   title="Connectivity"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Connectivity"
   >
  Connectivity
</a>

        </tab>
                        <tab active>
          <a href="../graphics.html"
   class="gc-analytics-event"
   title="Graphics"
   aria-label="Graphics, selected"         data-category="Site-Wide Custom Events"
        data-label="Tab: Graphics"
   >
  Graphics
</a>

        </tab>
                        <tab >
          <a href="../interaction.html"
   class="gc-analytics-event"
   title="Interaction"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Interaction"
   >
  Interaction
</a>

        </tab>
                        <tab >
          <a href="../media.html"
   class="gc-analytics-event"
   title="Media"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Media"
   >
  Media
</a>

        </tab>
                        <tab >
          <a href="../storage.html"
   class="gc-analytics-event"
   title="Storage"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Storage"
   >
  Storage
</a>

        </tab>
            </div>
</devsite-tabs>

        </div>
          </div>  </div></div>
  

  </devsite-header>      <devsite-book-nav scrollbars >
                  




<nav class="devsite-book-nav devsite-nav nocontent">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="Close navigation">
    </button>
    <div class="devsite-product-name-wrapper">
  <a href="../../index.html" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo">
  <img src="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/lockup.svg" class="devsite-site-logo" alt="Android Open Source Project">
</a>
        <span class="devsite-product-name">
        <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                              </li>
  </ul>
      </span>
    
</div>  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
              <ul class="devsite-nav-list">
                      <li class="devsite-nav-item">
                                <a href="../../setup.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Set up">
      <span class="devsite-nav-text" >Set up</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../compatibility.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Design">
      <span class="devsite-nav-text" >Design</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../security.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Secure">
      <span class="devsite-nav-text" >Secure</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../devices.html"
          class="devsite-nav-title gc-analytics-event
            devsite-nav-active"
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Develop">
      <span class="devsite-nav-text" >Develop</span>
        </a>
  
                                            <ul class="devsite-nav-responsive-tabs">
                                                                                                                      <li class="devsite-nav-item">
    <a href="../../devices.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Overview">
      <span class="devsite-nav-text" >Overview</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../audio.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Audio">
      <span class="devsite-nav-text" >Audio</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../camera.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Camera">
      <span class="devsite-nav-text" >Camera</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../tech/connect.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Connectivity">
      <span class="devsite-nav-text" >Connectivity</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../graphics.html"
     id="devsite-nav-forward"     class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Graphics">
      <span class="devsite-nav-text" menu="_book">Graphics</span>
        <span class="devsite-nav-icon material-icons" data-icon="forward" aria-hidden="true"
          menu="_book">
    </span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../interaction.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Interaction">
      <span class="devsite-nav-text" >Interaction</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../media.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Media">
      <span class="devsite-nav-text" >Media</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../storage.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Storage">
      <span class="devsite-nav-text" >Storage</span>
        </a>
  </li>

                                  </ul>
                          </li>
                      <li class="devsite-nav-item">
                                <a href="../tech.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Configure">
      <span class="devsite-nav-text" >Configure</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../reference.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Reference">
      <span class="devsite-nav-text" >Reference</span>
        </a>
  
                                        </li>
                                <li class="devsite-nav-item">
    <a href="http://android-review.googlesource.com/"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Go to code">
      <span class="devsite-nav-text" >Go to code</span>
        </a>
  </li>

                  </ul>
          </div>
          <div class="devsite-mobile-nav-bottom">
                            <ul class="devsite-nav-list" menu="_book">
            <li class="devsite-nav-item"><a href="../graphics.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li>
  <li class="devsite-nav-item"><a href="arch-bq-gralloc.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="BufferQueue and Gralloc">BufferQueue and Gralloc</span></a></li>
  <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="Surface and SurfaceHolder">Surface and SurfaceHolder</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="arch-sh.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li><li class="devsite-nav-item"><a href="arch-sv-glsv.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="SurfaceView">SurfaceView</span></a></li><li class="devsite-nav-item"><a href="arch-st.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="SurfaceTexture">SurfaceTexture</span></a></li><li class="devsite-nav-item"><a href="arch-tv.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="TextureView">TextureView</span></a></li></ul></devsite-expandable-nav></li>
  <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="SurfaceFlinger and WindowManager">SurfaceFlinger and WindowManager</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="surfaceflinger-windowmanager.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li><li class="devsite-nav-item"><a href="tracing-win-transitions.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Tracing Window Transitions">Tracing Window Transitions</span></a></li></ul></devsite-expandable-nav></li>
  <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="Hardware Composer HAL">Hardware Composer HAL</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="hwc.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li><li class="devsite-nav-item"><a href="implement-hwc.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Implementing the HWC">Implementing the HWC</span></a></li></ul></devsite-expandable-nav></li>
  <li class="devsite-nav-item"><a href="layers-displays.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Layers and Displays">Layers and Displays</span></a></li>
  <li class="devsite-nav-item"><a href="implement-vsync.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="VSYNC">VSYNC</span></a></li>
  <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="OpenGL ES">OpenGL ES</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="arch-egl-opengl.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li><li class="devsite-nav-item"><a href="implement-opengl-es.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Implementing OpenGL ES">Implementing OpenGL ES</span></a></li><li class="devsite-nav-item"><a href="renderer.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="OpenGLRenderer Configuration">OpenGLRenderer Configuration</span></a></li></ul></devsite-expandable-nav></li>
  <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="Vulkan">Vulkan</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="arch-vulkan.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li><li class="devsite-nav-item"><a href="implement-vulkan.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Implementing Vulkan">Implementing Vulkan</span></a></li></ul></devsite-expandable-nav></li>
  <li class="devsite-nav-item"><a href="sync.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Synchronization Framework">Synchronization Framework</span></a></li>
  <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="Testing">Testing</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="implement.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Implementation Tests">Implementation Tests</span></a></li><li class="devsite-nav-item"><a href="cts-integration.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Integrating with Android CTS">Integrating with Android CTS</span></a></li><li class="devsite-nav-item"><a href="deqp-testing.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="deqp Testing">deqp Testing</span></a></li></ul></devsite-expandable-nav></li>
          </ul>
                                                                                                                                                                            </div>
      </div>
</nav>
              </devsite-book-nav>
      <div id="gc-wrapper">
        <div class="devsite-main-content"
            has-book-nav            has-toc>
          <devsite-toc class="devsite-nav"
            ></devsite-toc>
          <devsite-content>
                          

<article class="devsite-article">
  <article class="devsite-article-inner">        
    <div class="devsite-article-meta">
      <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                    <a href="../../index.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="1"
          >
            AOSP
      
  </a>
        </li>
    <li class="devsite-breadcrumb-item
             ">
                <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
                    <a href="../../devices.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="2"
          >
            Develop
      
  </a>
        </li>
    <li class="devsite-breadcrumb-item
             ">
                <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
                    <a href="../graphics.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="3"
          >
            Graphics
      
  </a>
        </li>
  </ul>
               <devsite-page-rating position="header" selected-rating="0" hover-rating-star="0">
         </devsite-page-rating>
          </div>

              <h1 class="devsite-page-title">Implementing Vulkan</h1>
    
    <devsite-toc class="devsite-nav" devsite-toc-embedded >
    </devsite-toc>

    <div class="devsite-article-body clearfix
      ">

              
    



























  <!--
      Copyright 2017 The Android Open Source Project

      Licensed under the Apache License, Version 2.0 (the "License");
      you may not use this file except in compliance with the License.
      You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

      Unless required by applicable law or agreed to in writing, software
      distributed under the License is distributed on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      See the License for the specific language governing permissions and
      limitations under the License.
  -->


<p>Vulkan is a low-overhead, cross-platform API for high-performance 3D
graphics. Like OpenGL ES (GLES), Vulkan provides tools for creating high-quality,
real-time graphics in apps. Advantages of using Vulkan include reductions in CPU
overhead and support for the <a href="https://www.khronos.org/spir"
class="external">SPIR-V Binary Intermediate</a> language.</p>

<aside class="note"><strong>Note:</strong> This section describes Vulkan
implementation; for details on Vulkan architecture, advantages, API, and other
resources, see <a href="arch-vulkan-2.html">Vulkan
Architecture</a>.</aside>

<p>To implement Vulkan successfully, a device must include:</p>
<ul>
<li>The Vulkan loader, provided by Android.</li>
<li>A Vulkan driver, provided by SoCs such as GPU IHVs, that
implements the
<a href="https://www.khronos.org/registry/vulkan/specs/1.0-wsi_extensions/xhtml/vkspec.html"
class="external">Vulkan API</a>. To support Vulkan functionality, the Android
device needs Vulkan-capable GPU hardware and the associated driver. The GPU
must also support GLES 3.1 and higher. Consult your SoC vendor to
request driver support.</li>
</ul>

<p>If a device includes a Vulkan driver, the device needs to declare
<code translate="no" dir="ltr">FEATURE_VULKAN_HARDWARE_LEVEL</code> and
<code translate="no" dir="ltr">FEATURE_VULKAN_HARDWARE_VERSION</code> system features, with versions that
accurately reflect the capabilities of the device. This helps ensure that the
  device is in compliance with
the <a href="../../compatibility/cdd.html">Compatibility Definition Document</a> (CDD).
</p>

<h2 id="vulkan_loader">Vulkan loader</h2>

<p>The Vulkan loader <code translate="no" dir="ltr">platform/frameworks/native/vulkan</code> is the
primary interface between Vulkan apps and a device's Vulkan driver. The Vulkan
loader is installed at <code translate="no" dir="ltr">/system/lib[64]/libvulkan.so</code>. The loader
provides the core Vulkan API entry points, as well as the entry points of
extensions required by the Android CDD. Window System Integration (WSI)
extensions are exported by the loader and primarily implemented in the loader
rather than in the driver. The loader also supports enumerating and loading
layers that can expose additional extensions and intercept core API calls on
their way to the driver.</p>

<p>The NDK includes a stub <code translate="no" dir="ltr">libvulkan.so</code> library for
linking. The library exports the same symbols as the loader. Apps call the functions
exported from the real <code translate="no" dir="ltr">libvulkan.so</code> library to
enter trampoline functions in the loader, which dispatch to the appropriate
layer or driver based on their first argument. The <code translate="no" dir="ltr">vkGet*ProcAddr()</code>
call returns the function pointers to which the trampolines dispatch (that is,
it calls directly into the core API code). Calling through the function
pointers, rather than the exported symbols, is more efficient as it
skips the trampoline and dispatch.</p>

<h3 id="driver_emun">Driver enumeration and loading</h3>

<p>When the system image is built, Android expects the system to know which GPUs
are available. The loader uses the existing HAL mechanism in
<code translate="no" dir="ltr"><a href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/hardware.h" class="external">hardware.h</code></a>
to discover and load the driver. Preferred paths for 32-bit and 64-bit Vulkan drivers are:</p>

<pre class="devsite-click-to-copy" translate="no" dir="ltr">
/vendor/lib/hw/vulkan.&lt;ro.hardware.vulkan&gt;.so
/vendor/lib/hw/vulkan.&lt;ro.product.platform&gt;.so
/vendor/lib64/hw/vulkan.&lt;ro.hardware.vulkan&gt;.so
/vendor/lib64/hw/vulkan.&lt;ro.product.platform&gt;.so
</pre>

<aside class="note"><strong>Note:</strong>
<code translate="no" dir="ltr">&lt;ro.hardware.vulkan&gt;</code> and
<code translate="no" dir="ltr">&lt;ro.product.platform&gt;</code> are replaced by the value of the system
property of that name. For details and supported alternative locations, refer to
<a href="https://android.googlesource.com/platform/hardware/libhardware/+/master/hardware.c"
class="external"><code translate="no" dir="ltr">libhardware/hardware.c</code></a>.</aside>

<p>In Android 7.0 and higher, the Vulkan <code translate="no" dir="ltr">hw_module_t</code> derivative
wraps a single <code translate="no" dir="ltr">hw_module_t</code> struct; only one driver is supported and the constant string
<code translate="no" dir="ltr">HWVULKAN_DEVICE_0</code> is passed to <code translate="no" dir="ltr">open()</code>.</p>

<p>The Vulkan <code translate="no" dir="ltr">hw_device_t</code> derivative corresponds to a single
driver that can support multiple physical devices. The
<code translate="no" dir="ltr">hw_device_t</code> structure can extend to export
<code translate="no" dir="ltr">vkGetGlobalExtensionProperties()</code>, <code translate="no" dir="ltr">vkCreateInstance()</code>, and
<code translate="no" dir="ltr">vkGetInstanceProcAddr()</code> functions. The loader can find all other
<code translate="no" dir="ltr">VkInstance()</code>, <code translate="no" dir="ltr">VkPhysicalDevice()</code>, and
<code translate="no" dir="ltr">vkGetDeviceProcAddr()</code> functions by calling
the <code translate="no" dir="ltr">hw_device_t</code> structure's <code translate="no" dir="ltr">vkGetInstanceProcAddr()</code>.</p>

<h3 id="layer_discover">Layer discovery and loading</h3>

<p>The Vulkan loader supports enumerating and loading layers that can expose
additional extensions and intercept core API calls on their way to the
driver. Android doesn't include layers on the system image; however,
apps may include layers in their APK.</p>

<p>When using layers, keep in mind that Android's security model and policies
differ significantly from other platforms. In particular, Android doesn't allow
loading external code into a nondebuggable process on production (nonrooted)
devices, nor does it allow external code to inspect or control the process's
memory, state, and so on. This includes a prohibition on saving core dumps, API
traces, and so on to disk for later inspection. Only layers delivered as part of
nondebuggable apps are enabled on production devices, and drivers must not provide
functionality that violates these policies.</p>

<p>Use cases for layers include:</p>
<ul>
<li><strong>Development-time layers</strong> &mdash; Validation
layers and shims for tracing/profiling/debugging tools shouldn't be installed on
the system image of production devices. Validation layers and shims for
tracing/profiling/debugging tools should be updatable without a system
image. Developers who want to use one
of these layers during development can modify the app package, for example,
by adding a file to their native libraries directory. IHV and OEM engineers who
want to diagnose failures in shipping unmodifiable apps are assumed to have
access to nonproduction (rooted) builds of the system image, unless those apps
are debuggable. For more information see <a
href="https://developer.android.google.cn/ndk/guides/graphics/validation-layer#vl-adb"
class="external">Vulkan validation layers on Android</a>.</li>
<li><strong>Utility layers</strong> &mdash; These layers expose
extensions, such as a layer that implements a memory manager for device memory.
Developers choose layers, and versions of those layers, to use in their
app; different apps using the same layer may still use
different versions. Developers choose which of these layers to ship in their
app package.</li>
<li><strong>Injected (implicit) layers</strong> &mdash; Includes layers such as
frame rate, social network, and game launcher overlays provided by the user or
some other app without the app's knowledge or consent. These
violate Android's security policies and aren't supported.</li>
</ul>

<p>For nondebuggable apps, the loader searches for layers only in the
app's native library directory and attempts to load any library with a name
matching a particular pattern (for example, <code translate="no" dir="ltr">libVKLayer_foo.so</code>).</p>

<p>For debuggable apps, the loader searches for layers in
<code translate="no" dir="ltr">/data/local/debug/vulkan</code> and attempts to load any library matching
a particular pattern.</p>

<p>Android enables layers to be ported with build-environment changes between
Android and other platforms. For details on the interface between layers and the
loader, see
<a href="https://github.com/KhronosGroup/Vulkan-Loader/blob/master/loader/LoaderAndLayerInterface.md" class="external">
Architecture of the Vulkan Loader Interfaces</a>. The Khronos-maintained
validation layers are hosted in
<a href="https://github.com/KhronosGroup/Vulkan-ValidationLayers"
class="external">Vulkan Validation Layers</a>.</p>


<h2 id="versions">Vulkan API versions and capabilities</h2>

<p>Android 9 and higher support the Vulkan API version
1.1. Android 7 to Android 9 support the Vulkan API version 1.0.
For more information about the Vulkan 1.1 API, see the
<a href="https://www.khronos.org/registry/vulkan/specs/1.1-extensions/html/vkspec.html"
class="external">Vulkan 1.1 API spec</a>.</p>

<h4>Vulkan 1.1 support overview</h4>

<p>Vulkan 1.1 includes support for memory/synchronization interop, which
enables OEMs to support Vulkan 1.1 on devices. Additionally,
memory/synchronization interop enables developers
to determine whether Vulkan 1.1 is supported on a device, and use it effectively
when it is. Vulkan 1.1 has the same hardware requirements as Vulkan 1.0, but most of the
implementation is in the SOC-specific graphics driver, not in the framework.</p>

<p>The most important Vulkan 1.1 features for Android are:</p>

<ul>
<li>Support for importing and exporting memory buffers and synchronization
objects from outside Vulkan (for interop with camera, codecs, and GLES)</li>
<li>Support for YCbCr formats</li>
</ul>

<p>Vulkan 1.1 also includes several smaller features and API usability
enhancements.</p>

<h4>Implementing Vulkan 1.1</h4>

<p>Android devices should support Vulkan 1.1 if they:</p>

<ul>
  <li>Launch with Android 10.</li>
  <li>Support a 64-bit ABI.</li>
  <li>Aren't low memory.</li>
</ul>

<p>Other devices can optionally support Vulkan 1.1.</p>

<p>To implement Vulkan 1.1:</p>

<ol>
<li>Add a Vulkan driver that supports Vulkan 1.1 plus the additional Android 1.1
<a href="../../compatibility/cdd.html">CDD requirements</a>, or update the existing Vulkan
1.0 driver.</li>
<li>Ensure that
<code translate="no" dir="ltr">PackageManager#hasSystemFeature(PackageManager.FEATURE_VULKAN_HARDWARE_VERSION, 0x401000)</code>
returns
<code translate="no" dir="ltr">true</code> by adding a rule such as the following to an appropriate
<code translate="no" dir="ltr">device.mk</code> file:
<pre class="prettyprint" translate="no" dir="ltr">PRODUCT_COPY_FILES += frameworks/native/data/etc/android.hardware.vulkan.version-1_1.xml:
$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.version.xml
</pre></li>
</ol>

<aside class="note"><strong>Note:</strong> Apps that depend on Vulkan 1.1 can
run only on devices that support Vulkan 1.1. Some apps might not require
Vulkan 1.1 but provide additional features or performance when it's
present.</aside>

<h2 id="wsi">Window System Integration (WSI)</h2>

<p>In <code translate="no" dir="ltr">libvulkan.so</code>, the driver implements the following
Window System Integration (WSI) extensions:</p>

<ul>
  <li><code translate="no" dir="ltr">VK_KHR_surface</code></li>
  <li><code translate="no" dir="ltr">VK_KHR_android_surface</code></li>
  <li><code translate="no" dir="ltr">VK_KHR_swapchain</code></li>
  <li><code translate="no" dir="ltr">VK_KHR_driver_properties</code>, implemented for Vulkan 1.1 in
    Android 10 only</li>
  <li><code translate="no" dir="ltr">VK_GOOGLE_display_timing</code>, implemented for any Vulkan version
    in Android 10</li>
</ul>

<p>The <code translate="no" dir="ltr">VkSurfaceKHR</code> and <code translate="no" dir="ltr">VkSwapchainKHR</code> objects and all
interactions with <code translate="no" dir="ltr">ANativeWindow</code> are handled by the platform and aren't
exposed to drivers. The WSI implementation relies on the
<code translate="no" dir="ltr">VK_ANDROID_native_buffer</code> extension, which must be
supported by the driver; this extension is used only by the WSI implementation
and isn't exposed to apps.</p>

<h3 id="gralloc_usage_flags">Gralloc usage flags</h3>

<p>Vulkan implementations may need swapchain buffers to be allocated with
implementation-defined private Gralloc usage flags. When creating a swapchain,
Android asks the driver to translate the requested format and image usage
flags into Gralloc usage flags by calling:</p>

<pre class="devsite-click-to-copy" translate="no" dir="ltr">
typedef enum VkSwapchainImageUsageFlagBitsANDROID {
    VK_SWAPCHAIN_IMAGE_USAGE_SHARED_BIT_ANDROID = 0x00000001,
    VK_SWAPCHAIN_IMAGE_USAGE_FLAG_BITS_MAX_ENUM = 0x7FFFFFFF
} VkSwapchainImageUsageFlagBitsANDROID;
typedef VkFlags VkSwapchainImageUsageFlagsANDROID;

VkResult VKAPI vkGetSwapchainGrallocUsage2ANDROID(
    VkDevice                          device,
    VkFormat                          format,
    VkImageUsageFlags                 imageUsage,
    VkSwapchainImageUsageFlagsANDROID swapchainUsage,
    uint64_t*                         grallocConsumerUsage,
    uint64_t*                         grallocProducerUsage
);
</pre>

<p>The <code translate="no" dir="ltr">format</code> and <code translate="no" dir="ltr">imageUsage</code> parameters are taken from
the <code translate="no" dir="ltr">VkSwapchainCreateInfoKHR</code> structure. The driver should fill
<code translate="no" dir="ltr">*grallocConsumerUsage</code> and <code translate="no" dir="ltr">*grallocProducerUsage</code> with
the Gralloc usage flags required for the format
and usage. The usage flags returned by the driver are combined with the usage
flags requested by the swapchain consumer when allocating buffers.</p>

<p>Android 7.x calls an earlier version of <code translate="no" dir="ltr">VkSwapchainImageUsageFlagsANDROID()</code>,
named <code translate="no" dir="ltr">vkGetSwapchainGrallocUsageANDROID()</code>. Android 8.0 and higher deprecates
<code translate="no" dir="ltr">vkGetSwapchainGrallocUsageANDROID()</code> but still calls
<code translate="no" dir="ltr">vkGetSwapchainGrallocUsageANDROID()</code> if
<code translate="no" dir="ltr">vkGetSwapchainGrallocUsage2ANDROID()</code> isn't provided by the driver:</p>

<pre class="devsite-click-to-copy" translate="no" dir="ltr">
VkResult VKAPI vkGetSwapchainGrallocUsageANDROID(
    VkDevice            device,
    VkFormat            format,
    VkImageUsageFlags   imageUsage,
    int*                grallocUsage
);
</pre>

<p><code translate="no" dir="ltr">vkGetSwapchainGrallocUsageANDROID()</code> doesn't support swapchain usage
flags or extended Gralloc usage flags.</p>

<h3 id="gralloc_usage_flags">Gralloc-backed images</h3>

<p><code translate="no" dir="ltr">VkNativeBufferANDROID</code> is a <code translate="no" dir="ltr">vkCreateImage</code> extension
structure for creating an image backed by a Gralloc buffer. <code translate="no" dir="ltr">VkNativeBufferANDROID</code> is
provided to <code translate="no" dir="ltr">vkCreateImage()</code> in the <code translate="no" dir="ltr">VkImageCreateInfo</code>
structure chain. Calls to <code translate="no" dir="ltr">vkCreateImage()</code> with <code translate="no" dir="ltr">VkNativeBufferANDROID</code> happen
during the first call to <code translate="no" dir="ltr">vkGetSwapChainInfoWSI(..
VK_SWAP_CHAIN_INFO_TYPE_IMAGES_WSI ..)</code>. The WSI implementation allocates
the number of native buffers requested for the swapchain, then creates a
<code translate="no" dir="ltr">VkImage</code> for each one:</p>

<pre class="devsite-click-to-copy" translate="no" dir="ltr">
typedef struct {
    VkStructureType             sType; // must be VK_STRUCTURE_TYPE_NATIVE_BUFFER_ANDROID
    const void*                 pNext;

    // Buffer handle and stride returned from gralloc alloc()
    buffer_handle_t             handle;
    int                         stride;

    // Gralloc format and usage requested when the buffer was allocated.
    int                         format;
    int                         usage;
    // Beginning in Android 8.0, the usage field above is deprecated and the
    // usage2 struct below was added. The usage field is still filled in for
    // compatibility with Android 7.0 drivers. Drivers for Android 8.0
    // should prefer the usage2 struct, especially if the
    // android.hardware.graphics.allocator HAL uses the extended usage bits.
    struct {
        uint64_t                consumer;
        uint64_t                producer;
    } usage2;
} VkNativeBufferANDROID;
</pre>

<p>When creating a Gralloc-backed image, <code translate="no" dir="ltr">VkImageCreateInfo</code> has
the following data:</p>

<pre class="devsite-click-to-copy" translate="no" dir="ltr">
  .sType               = VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO
  .pNext               = the above VkNativeBufferANDROID structure
  .imageType           = VK_IMAGE_TYPE_2D
  .format              = a VkFormat matching the format requested for the gralloc buffer
  .extent              = the 2D dimensions requested for the gralloc buffer
  .mipLevels           = 1
  .arraySize           = 1
  .samples             = 1
  .tiling              = VK_IMAGE_TILING_OPTIMAL
  .usage               = VkSwapChainCreateInfoWSI::imageUsageFlags
  .flags               = 0
  .sharingMode         = VkSwapChainCreateInfoWSI::sharingMode
  .queueFamilyCount    = VkSwapChainCreateInfoWSI::queueFamilyCount
  .pQueueFamilyIndices = VkSwapChainCreateInfoWSI::pQueueFamilyIndices
</pre>

<p>In Android 8.0 and higher, the platform provides a
<code translate="no" dir="ltr">VkSwapchainImageCreateInfo</code> extension structure in the
<code translate="no" dir="ltr">VkImageCreateInfo</code> chain provided to <code translate="no" dir="ltr">vkCreateImage</code>
when any swapchain image usage flags are required for the swapchain.
The extension structure contains the swapchain image usage flags:</p>

<pre class="devsite-click-to-copy" translate="no" dir="ltr">
typedef struct {
    VkStructureType                        sType; // must be VK_STRUCTURE_TYPE_SWAPCHAIN_IMAGE_CREATE_INFO_ANDROID
    const void*                            pNext;

    VkSwapchainImageUsageFlagsANDROID      usage;
} VkSwapchainImageCreateInfoANDROID;
</pre>

<p>In Android 10 and higher, the platform supports
<code translate="no" dir="ltr">VK_KHR_swapchain</code> v70, so the Vulkan app is able to create a
<code translate="no" dir="ltr">VkImage</code> backed by swapchain memory. The app first calls
<code translate="no" dir="ltr">vkCreateImage</code> with a <code translate="no" dir="ltr">VkImageSwapchainCreateInfoKHR</code>
structure chained to the <code translate="no" dir="ltr">VkImageCreateInfo</code> structure. Then the
app calls <code translate="no" dir="ltr">vkBindImageMemory2(KHR)</code> with a
<code translate="no" dir="ltr">VkBindImageMemorySwapchainInfoKHR</code> structure chained to the
<code translate="no" dir="ltr">VkBindImageMemoryInfo</code> structure. The <code translate="no" dir="ltr">imageIndex</code>
specified in the <code translate="no" dir="ltr">VkBindImageMemorySwapchainInfoKHR</code> structure must
be a valid swapchain image index. Meanwhile, the platform provides a
<code translate="no" dir="ltr">VkNativeBufferANDROID</code> extension structure with the corresponding
Gralloc buffer information to the <code translate="no" dir="ltr">VkBindImageMemoryInfo</code> chain, so
the driver knows which Gralloc buffer to bind the <code translate="no" dir="ltr">VkImage</code> with.</p>

<h3 id="acquire_image">Acquiring images</h3>

<p><code translate="no" dir="ltr">vkAcquireImageANDROID</code> acquires ownership of a swapchain image
and imports an externally signaled native fence into both an existing
<code translate="no" dir="ltr">VkSemaphore</code> object and an existing <code translate="no" dir="ltr">VkFence</code> object:</p>

<pre class="devsite-click-to-copy" translate="no" dir="ltr">
VkResult VKAPI vkAcquireImageANDROID(
    VkDevice            device,
    VkImage             image,
    int                 nativeFenceFd,
    VkSemaphore         semaphore,
    VkFence             fence
);
</pre>

<p><code translate="no" dir="ltr">vkAcquireImageANDROID()</code> is called during
<code translate="no" dir="ltr">vkAcquireNextImageKHR</code> to import a
native fence into the <code translate="no" dir="ltr">VkSemaphore</code> and <code translate="no" dir="ltr">VkFence</code> objects
provided by the app (however, both semaphore and fence objects are
optional in this call). The driver may also use this opportunity to recognize
and handle any external changes to the Gralloc buffer state; many drivers won't
need to do anything here. This call puts <code translate="no" dir="ltr">VkSemaphore</code> and
<code translate="no" dir="ltr">VkFence</code> into the same pending state as
<code translate="no" dir="ltr">vkQueueSignalSemaphore</code> and <code translate="no" dir="ltr">vkQueueSubmit</code> respectively,
so queues can wait on the semaphore and the app can wait on the fence.</p>

<p>Both objects become signaled when the underlying native fence signals; if
the native fence has already signaled, then the semaphore is in the signaled
state when this function returns. The driver takes ownership of the fence file
descriptor and closes the fence file descriptor when no longer needed. The driver
must do so even if neither a semaphore or fence object is provided, or even if
<code translate="no" dir="ltr">vkAcquireImageANDROID</code> fails and returns an error. If
<code translate="no" dir="ltr">fenceFd</code> is -1, it's as if the native fence was already
signaled.</p>

<h3 id="acquire_image">Releasing images</h3>
<p><code translate="no" dir="ltr">vkQueueSignalReleaseImageANDROID</code> prepares a swapchain image for
external use, creates a native fence, and schedules the native fence to be signaled after
the input semaphores have signaled:</p>

<pre class="devsite-click-to-copy" translate="no" dir="ltr">
VkResult VKAPI vkQueueSignalReleaseImageANDROID(
    VkQueue             queue,
    uint32_t            waitSemaphoreCount,
    const VkSemaphore*  pWaitSemaphores,
    VkImage             image,
    int*                pNativeFenceFd
);
</pre>


<p><code translate="no" dir="ltr">vkQueuePresentKHR()</code> calls <code translate="no" dir="ltr">vkQueueSignalReleaseImageANDROID()</code>
on the provided queue. The driver must produce a native fence that doesn't signal
until all <code translate="no" dir="ltr">waitSemaphoreCount</code> semaphores in
<code translate="no" dir="ltr">pWaitSemaphores</code> signal, and any additional work required to
prepare <code translate="no" dir="ltr">image</code> for presentation completes.</p>

<p>If the wait semaphores (if any) already signaled, and <code translate="no" dir="ltr">queue</code> is
already idle, the driver can set <code translate="no" dir="ltr">*pNativeFenceFd</code>
 to <code translate="no" dir="ltr">-1</code> instead of an actual native fence file descriptor, indicating that
there's nothing to wait for. The caller owns and closes the file descriptor
returned in <code translate="no" dir="ltr">*pNativeFenceFd</code>.</p>

<p>Many drivers can ignore the image parameter, but some may need to prepare
CPU-side data structures associated with a Gralloc buffer for use by external
image consumers. Preparing buffer contents for use by external consumers should
be done asynchronously as part of transitioning the image to
<code translate="no" dir="ltr">VK_IMAGE_LAYOUT_PRESENT_SRC_KHR</code>.</p>

<p>If the image was created with
<code translate="no" dir="ltr">VK_SWAPCHAIN_IMAGE_USAGE_SHARED_BIT_ANDROID</code>, then the driver must
allow <code translate="no" dir="ltr">vkQueueSignalReleaseImageANDROID()</code> to be called repeatedly
without intervening calls to <code translate="no" dir="ltr">vkAcquireImageANDROID()</code>.</p>

<h3 id="shared_presentable_image">Shared presentable image support</h3>

<p>Some devices can share ownership of a single image between
the display pipeline and the Vulkan implementation to minimize latency.
In Android 9 and higher, the loader conditionally advertises the
<code translate="no" dir="ltr">VK_KHR_shared_presentable_image</code> extension based on the driver's
response to a call to <code translate="no" dir="ltr">vkGetPhysicalDeviceProperties2</code>.</p>

<p>If the driver doesn't support either Vulkan 1.1 or the
<code translate="no" dir="ltr">VK_KHR_physical_device_properties2</code> extension, the loader doesn't
advertise support for shared presentable images. Otherwise, the loader queries
the driver capabilities by calling <code translate="no" dir="ltr">vkGetPhysicalDeviceProperties2()</code>
and including the following structure in the
<code translate="no" dir="ltr">VkPhysicalDeviceProperties2::pNext</code> chain:</p>

<pre class="devsite-click-to-copy" translate="no" dir="ltr">
typedef struct {
    VkStructureType sType; // must be VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_PRESENTATION_PROPERTIES_ANDROID
    const void*     pNext;
    VkBool32        sharedImage;
} VkPhysicalDevicePresentationPropertiesANDROID;
</pre>

<p>If the driver can share ownership of an image with the display
system, it sets the <code translate="no" dir="ltr">sharedImage</code> member to <code translate="no" dir="ltr">VK_TRUE</code>.</p>

<h2 id="validation">Validation</h2>

<p>OEMs can test their Vulkan implementation using CTS, which includes:</p>

<ul>
<li><a href="cts-integration.html">Khronos Vulkan Conformance tests</a>
in the <code translate="no" dir="ltr">CtsDeqpTestCases</code> module,
which include functional API tests for Vulkan 1.0 and 1.1.</li>
<li>The <code translate="no" dir="ltr">CtsGraphicsTestCases</code> module, which tests that the device is
configured correctly for Vulkan capabilities it supports.</li>
</ul>


          </div>

    
                   <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0">
         </devsite-page-rating>
                   
          </article>
</article>

<devsite-content-footer class="nocontent">
  <p>Content and code samples on this page are subject to the licenses described in the <a href="../../license.html">Content License</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
</devsite-content-footer>


                      </devsite-content>
        </div>
        <devsite-footer-promos class="devsite-footer">
                      
                  </devsite-footer-promos>
        <devsite-footer-linkboxes class="devsite-footer">
                      <nav class="devsite-footer-linkboxes nocontent">
  <ul class="devsite-footer-linkboxes-list">
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Build</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://android.googlesource.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            Android repository
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="../../setup/build/requirements.html"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            Requirements
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="../../setup/build/downloading.html"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Downloading
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/blobs-preview/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            Preview binaries
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/images/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Factory images
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/drivers/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Driver binaries
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://android.github.io/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            GitHub
          </a>
        </li>
              </ul>
    </li>
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Connect</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://twitter.com/Android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            @Android on Twitter
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://twitter.com/AndroidDev/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            @AndroidDev on Twitter
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://blog.google/products/android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Android Blog
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://security.googleblog.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            Google Security Blog
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-platform/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Platform on Google Groups
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-building/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Building on Google Groups
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-porting/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            Porting on Google Groups
          </a>
        </li>
              </ul>
    </li>
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Get help</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            Android Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/pixelphone/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            Pixel Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/nexus/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Nexus Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://www.android.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            www.android.com
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://www.android.com/gms/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Google Mobile Services
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://stackoverflow.com/questions/tagged/android-source/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Stack Overflow
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://issuetracker.google.com/issues?q=status:open%20componentid:190923"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            Issue Tracker
          </a>
        </li>
              </ul>
    </li>
      </ul>
</nav>
                  </devsite-footer-linkboxes>
        <devsite-footer-utility class="devsite-footer">
                      
<div class="devsite-footer-utility">
  
  <nav class="devsite-nav">
        <ul class="devsite-footer-utility-list">
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../source/index.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer About Android link">
          About Android
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../setup/community.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer Community link">
          Community
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../legal.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer Legal link">
          Legal
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../license.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer License link">
          License
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="http://policies.google.cn/privacy"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link">
          Privacy
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="http://issuetracker.google.com/issues/new?component=191476"
           data-category="Site-Wide Custom Events"
           data-label="Footer Site feedback link">
          Site feedback
        </a>
              </li>
          </ul>
    
    <devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    <select class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
                <option>Language</option>
              <option value="en"
              track-metadata-original-language="en"
              track-metadata-selected-language="en"
              track-name="changed"
              track-type="languageSelector"
            >
        English
      </option>
          <option value="zh_cn"
              track-metadata-original-language="en"
              track-metadata-selected-language="zh_cn"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 简体
      </option>
        </select>
  </devsite-select>
</devsite-language-selector>

  </nav>
</div>
                  </devsite-footer-utility>
      </div></div>
    <devsite-sitemask></devsite-sitemask>
    <devsite-snackbar                   ></devsite-snackbar>    <devsite-tooltip blocked-link></devsite-tooltip>
    <devsite-analytics>
              <script type="application/json" analytics>[{"metrics": {"ratings_value": "metric1", "ratings_count": "metric2"}, "dimensions": {}, "gaid": "UA-45455297-4"}]</script>
<script type="application/json" gtm>[]</script>
          </devsite-analytics>
        <script>
    (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;
    t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];
    E.parentNode.insertBefore(t,E);})(window, document, 'script',
    'https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/js/app_loader.js', '[7,"en",null,"../../js/devsite_app.html","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource","https://androidsource-dot-google-developers.gonglchuangl.net/",null,null,["/_pwa/androidsource/manifest.json","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/images/video-placeholder.svg","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/favicon.png","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/lockup.svg","https://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons"]]')
  </script>  </body>

<!-- Mirrored from source.android.google.cn/devices/graphics/implement-vulkan by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 09 Sep 2019 15:01:35 GMT -->
</html>