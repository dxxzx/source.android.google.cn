<!doctype html>
<html       lang="en"      dir="ltr">
  
<!-- Mirrored from source.android.google.cn/devices/tech/config/filesystem by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 09 Sep 2019 14:58:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta property="og:site_name" content="Android Open Source Project">
    <meta property="og:type" content="website">
    
          <meta name="theme-color" content="#78c257">
    
    <meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="../../../_pwa/androidsource/manifest.json"
          crossorigin="use-credentials">
    <link rel="preconnect" href="http://www.gstatic.com/" crossorigin>
    <link rel="preconnect" href="http://fonts.gstatic.com/" crossorigin>
    <link rel="preconnect" href="http://fonts.googleapis.com/" crossorigin>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons">
        <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/css/rebrand-app.css">
    <noscript>
      <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/css/ce_bundle.css">
    </noscript>
    <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/favicon.png">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/touchicon-180.png"><link rel="canonical" href="filesystem.html">      
<title>Discretionary Access Control (DAC) &nbsp;|&nbsp; Android Open Source Project</title>

<meta property="og:title" content="Discretionary Access Control (DAC) &nbsp;|&nbsp; Android Open Source Project">


  <meta property="og:url" content="filesystem.html">

  <meta property="og:locale" content="en">




    
    
    
  
    </head>
  <body type="article"
        theme="androidsource-theme"
        class=""
        
        layout="docs"
        block-apix        pending>
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
    <div class="devsite-wrapper"><devsite-header keep-tabs-visible>
      









<div class="devsite-header--inner">
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="Close menu">
        </button>
        <div class="devsite-product-name-wrapper">
  <a href="../../../index.html" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo">
  <img src="https://www.gstatic.cn/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/lockup.svg" class="devsite-site-logo" alt="Android Open Source Project">
</a>
            <span class="devsite-product-name">
            <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                              </li>
  </ul>
          </span>
        
</div>        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
                          <devsite-tabs class="upper-tabs">
  <div class="devsite-tabs-wrapper">
                  <tab >
          <a href="../../../setup.html"
   class="gc-analytics-event"
   title="Set up"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Set up"
   >
  Set up
</a>

        </tab>
                        <tab >
          <a href="../../../compatibility.html"
   class="gc-analytics-event"
   title="Design"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Design"
   >
  Design
</a>

        </tab>
                        <tab >
          <a href="../../../security.html"
   class="gc-analytics-event"
   title="Secure"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Secure"
   >
  Secure
</a>

        </tab>
                        <tab >
          <a href="../../../devices.html"
   class="gc-analytics-event"
   title="Develop"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Develop"
   >
  Develop
</a>

        </tab>
                        <tab active>
          <a href="../../tech.html"
   class="gc-analytics-event"
   title="Configure"
   aria-label="Configure, selected"         data-category="Site-Wide Custom Events"
        data-label="Tab: Configure"
   >
  Configure
</a>

        </tab>
                        <tab >
          <a href="../../../reference.html"
   class="gc-analytics-event"
   title="Reference"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Reference"
   >
  Reference
</a>

        </tab>
            </div>
</devsite-tabs>

                       </div>
          <devsite-search
            enable-suggestions
              family-name="Android Open Source Project"    tenant-name="Android Open Source Project"            >
  <form class="devsite-search-form" action="https://source.android.google.cn/s/results" method="GET">
    <div class="devsite-search-container">
      <div class="devsite-searchbox">
                <input placeholder="Search"
          type="text"
          class="devsite-search-field devsite-search-query"
          name="q"
          value=""
          autocomplete="off"
                    aria-label="Search box">
        <div class="devsite-search-image material-icons" aria-hidden="true"></div>
      </div>
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              aria-label="Open search box"></button>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          aria-label="Close search box"></button>
</devsite-search>

        </div>

        <devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    <select class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
                <option>Language</option>
              <option value="en"
              track-metadata-original-language="en"
              track-metadata-selected-language="en"
              track-name="changed"
              track-type="languageSelector"
            >
        English
      </option>
          <option value="zh_cn"
              track-metadata-original-language="en"
              track-metadata-selected-language="zh_cn"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 简体
      </option>
        </select>
  </devsite-select>
</devsite-language-selector>


                  <a class="devsite-header-link devsite-top-button button gc-analytics-event"
   href="http://android-review.googlesource.com/"
   data-category="Site-Wide Custom Events"
   data-label="Site header link">
  Go to code
</a>
        
              </div>    </div>  </div>
  <div class="devsite-collapsible-section
    ">
    <div class="devsite-header-background">
                        <div class="devsite-product-id-row">
            <div class="devsite-product-description-row">
                              <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                    <a href="../../tech.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Lower Header"
              data-value="1"
          >
            Configure
      
  </a>
        </li>
  </ul>
                                        </div>
                                                                                    </div>
                                      <div class="devsite-doc-set-nav-row">
                              <devsite-tabs class="lower-tabs">
  <div class="devsite-tabs-wrapper">
                  <tab >
          <a href="../../tech.html"
   class="gc-analytics-event"
   title="Overview"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Overview"
   >
  Overview
</a>

        </tab>
                        <tab >
          <a href="../datausage.html"
   class="gc-analytics-event"
   title="Data"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Data"
   >
  Data
</a>

        </tab>
                        <tab >
          <a href="../admin.html"
   class="gc-analytics-event"
   title="Enterprise"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Enterprise"
   >
  Enterprise
</a>

        </tab>
                        <tab >
          <a href="../perf.html"
   class="gc-analytics-event"
   title="Performance"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Performance"
   >
  Performance
</a>

        </tab>
                        <tab active>
          <a href="../config.html"
   class="gc-analytics-event"
   title="Permissions"
   aria-label="Permissions, selected"         data-category="Site-Wide Custom Events"
        data-label="Tab: Permissions"
   >
  Permissions
</a>

        </tab>
                        <tab >
          <a href="../power.html"
   class="gc-analytics-event"
   title="Power"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Power"
   >
  Power
</a>

        </tab>
                        <tab >
          <a href="../dalvik.html"
   class="gc-analytics-event"
   title="Runtime"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Runtime"
   >
  Runtime
</a>

        </tab>
                        <tab >
          <a href="../ota.html"
   class="gc-analytics-event"
   title="Updates"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Updates"
   >
  Updates
</a>

        </tab>
            </div>
</devsite-tabs>

        </div>
          </div>  </div></div>
  

  </devsite-header>      <devsite-book-nav scrollbars >
                  




<nav class="devsite-book-nav devsite-nav nocontent">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="Close navigation">
    </button>
    <div class="devsite-product-name-wrapper">
  <a href="../../../index.html" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo">
  <img src="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/lockup.svg" class="devsite-site-logo" alt="Android Open Source Project">
</a>
        <span class="devsite-product-name">
        <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                              </li>
  </ul>
      </span>
    
</div>  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
              <ul class="devsite-nav-list">
                      <li class="devsite-nav-item">
                                <a href="../../../setup.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Set up">
      <span class="devsite-nav-text" >Set up</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../../compatibility.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Design">
      <span class="devsite-nav-text" >Design</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../../security.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Secure">
      <span class="devsite-nav-text" >Secure</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../../devices.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Develop">
      <span class="devsite-nav-text" >Develop</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../tech.html"
          class="devsite-nav-title gc-analytics-event
            devsite-nav-active"
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Configure">
      <span class="devsite-nav-text" >Configure</span>
        </a>
  
                                            <ul class="devsite-nav-responsive-tabs">
                                                                                                                      <li class="devsite-nav-item">
    <a href="../../tech.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Overview">
      <span class="devsite-nav-text" >Overview</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../datausage.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Data">
      <span class="devsite-nav-text" >Data</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../admin.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Enterprise">
      <span class="devsite-nav-text" >Enterprise</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../perf.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Performance">
      <span class="devsite-nav-text" >Performance</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../config.html"
     id="devsite-nav-forward"     class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Permissions">
      <span class="devsite-nav-text" menu="_book">Permissions</span>
        <span class="devsite-nav-icon material-icons" data-icon="forward" aria-hidden="true"
          menu="_book">
    </span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../power.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Power">
      <span class="devsite-nav-text" >Power</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../dalvik.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Runtime">
      <span class="devsite-nav-text" >Runtime</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../ota.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Updates">
      <span class="devsite-nav-text" >Updates</span>
        </a>
  </li>

                                  </ul>
                          </li>
                      <li class="devsite-nav-item">
                                <a href="../../../reference.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Reference">
      <span class="devsite-nav-text" >Reference</span>
        </a>
  
                                        </li>
                                <li class="devsite-nav-item">
    <a href="http://android-review.googlesource.com/"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Go to code">
      <span class="devsite-nav-text" >Go to code</span>
        </a>
  </li>

                  </ul>
          </div>
          <div class="devsite-mobile-nav-bottom">
                            <ul class="devsite-nav-list" menu="_book">
            <li class="devsite-nav-item"><a href="../config.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li>
  <li class="devsite-nav-item"><a href="ambient.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Ambient Capabilities">Ambient Capabilities</span></a></li>
  <li class="devsite-nav-item"><a href="background-location-access.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Background Location Access Reminder">Background Location Access Reminder</span></a></li>
  <li class="devsite-nav-item"><a href="contacts-affinities.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Contacts Affinities Access">Contacts Affinities Access</span></a></li>
  <li class="devsite-nav-item"><a href="filesystem.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Discretionary Access Control">Discretionary Access Control</span></a></li>
  <li class="devsite-nav-item"><a href="immutable-device-ids.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Immutable Device IDs">Immutable Device IDs</span></a></li>
  <li class="devsite-nav-item"><a href="namespaces_libraries.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Library Namespaces">Library Namespaces</span></a></li>
  <li class="devsite-nav-item"><a href="perms-whitelist.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Privileged Permission Whitelist">Privileged Permission Whitelist</span></a></li>
  <li class="devsite-nav-item"><a href="restrict-opportunistic-locations.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Restrict Opportunistic Locations">Restrict Opportunistic Locations</span></a></li>
  <li class="devsite-nav-item"><a href="restricted-screen-reading.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Restricted Screen Reading">Restricted Screen Reading</span></a></li>
  <li class="devsite-nav-item"><a href="runtime_perms.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Runtime Permissions">Runtime Permissions</span></a></li>
  <li class="devsite-nav-item"><a href="tristate-perms.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Tristate Location Permissions">Tristate Location Permissions</span></a></li>
  <li class="devsite-nav-item"><a href="usb-hal.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="USB HAL">USB HAL</span></a></li>
          </ul>
                                                                                                                                                                            </div>
      </div>
</nav>
              </devsite-book-nav>
      <div id="gc-wrapper">
        <div class="devsite-main-content"
            has-book-nav            has-toc>
          <devsite-toc class="devsite-nav"
            ></devsite-toc>
          <devsite-content>
                          

<article class="devsite-article">
  <article class="devsite-article-inner">        
    <div class="devsite-article-meta">
      <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                    <a href="../../../index.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="1"
          >
            AOSP
      
  </a>
        </li>
    <li class="devsite-breadcrumb-item
             ">
                <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
                    <a href="../../tech.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="2"
          >
            Configure
      
  </a>
        </li>
    <li class="devsite-breadcrumb-item
             ">
                <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
                    <a href="../config.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="3"
          >
            Permissions
      
  </a>
        </li>
  </ul>
               <devsite-page-rating position="header" selected-rating="0" hover-rating-star="0">
         </devsite-page-rating>
          </div>

              <h1 class="devsite-page-title">Discretionary Access Control (DAC)</h1>
    
    <devsite-toc class="devsite-nav" devsite-toc-embedded >
    </devsite-toc>

    <div class="devsite-article-body clearfix
      ">

              
    



























  <!--
      Copyright 2017 The Android Open Source Project

      Licensed under the Apache License, Version 2.0 (the "License");
      you may not use this file except in compliance with the License.
      You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

      Unless required by applicable law or agreed to in writing, software
      distributed under the License is distributed on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      See the License for the specific language governing permissions and
      limitations under the License.
  -->

<p>
  Filesystem objects and services added to the build frequently need separate,
  unique IDs, known as Android IDs (AIDs). Currently, many resources such as
  files and services use core (Android-defined) AIDs unnecessarily; in many
  cases you can use OEM (OEM-defined) AIDs instead.
</p>

<p>
  Earlier versions of Android (Android 7.x and lower) extended the AIDs
  mechanism using a device-specific <code translate="no" dir="ltr">android_filesystem_config.h</code>
  file to specify filesystem capabilities and/or custom OEM AIDs. However, this
  system was unintuitive as it did not support using nice names for OEM AIDs,
  requiring you to specify the raw numeric for user and group fields without a
  way to associate a friendly name with the numeric AID.
</p>

<p>
  Newer versions of Android (Android 8.0 and higher) support a new method for
  extending filesystem capabilities. This new method has support for the
  following:
</p>

<ul>
  <li>Multiple source locations for configuration files (enables extensible
  build configurations).</li>
  <li>Build-time sanity checking of OEM AID values.</li>
  <li>Generation of a custom OEM AID header that can be used in source files as
  needed.</li>
  <li>Association of a friendly name with the actual OEM AID value. Supports
  non-numeric string arguments for user and group, i.e. "foo" instead of
  "2901".</li>
</ul>

<p>
  Additional improvements include the removal of the <code translate="no" dir="ltr">android_ids[]</code>
  array from
  <code translate="no" dir="ltr">system/core/include/private/android_filesystem_config.h</code>. This
  array now exists in Bionic as a fully private generated array, with
  accessors via <code translate="no" dir="ltr">getpwnam()</code> and <code translate="no" dir="ltr">getgrnam()</code>. (This has
  the side effect of producing stable binaries as core AIDs are modified.) For
  tooling and a README file with more details, refer to
  <code translate="no" dir="ltr">build/make/tools/fs_config</code>.
</p>

<aside class="note">
  <strong>Note:</strong> While you can still use the <a href="#older">filesystem
  override method from previous Android releases</a>, you cannot use it
  simultaneously with the new AIDs mechanism. Using the new mechanism whenever
  possible is recommended.
</aside>

<h2 id="adding-android-aids">Adding Android IDs (AIDs)</h2>

<p>
  Android 8.0 removed the <code translate="no" dir="ltr">android_ids[]</code> array from the Android
  Open Source Project (AOSP). All AID-friendly names are instead generated from
  the <code translate="no" dir="ltr">system/core/include/private/android_filesystem_config.h</code>
  header file when generating the Bionic <code translate="no" dir="ltr">android_ids[]</code> array. Any
  <code translate="no" dir="ltr">define</code> matching <code translate="no" dir="ltr">AID_*</code> is picked up by the tooling
  and <strong>*</strong> becomes the lowercase name.
</p>

<p>
  For example, in <code translate="no" dir="ltr">private/android_filesystem_config.h</code>:
</p>

<pre class="prettyprint" translate="no" dir="ltr">#define AID_SYSTEM 1000</pre>

<p>
  Becomes:
</p>

<ul>
  <li>Friendly name: system</li>
  <li>uid: 1000</li>
  <li>gid: 1000</li>
</ul>

<p>
  To add a new AOSP core AID, simply add the <code translate="no" dir="ltr">#define</code> to the
  <code translate="no" dir="ltr">android_filesystem_config.h</code> header file. The AID will be
  generated at build and made available to interfaces that use user and group
  arguments. The tooling validates the new AID is not within the APP or OEM
  ranges; it also respects changes to those ranges and should automatically
  reconfigure on changes or new OEM-reserved ranges.
</p>

<h2 id="configuring-aids">Configuring AIDs</h2>

<p>
  To enable the new AIDs mechanism, set <code translate="no" dir="ltr">TARGET_FS_CONFIG_GEN</code> in the
  <code translate="no" dir="ltr">BoardConfig.mk</code> file. This variable holds a list of configuration
  files, enabling you to append files as needed.
</p>

<aside class="caution">
  <strong>Caution:</strong> Don't use <code translate="no" dir="ltr">TARGET_FS_CONFIG_GEN</code> with the
  older <code translate="no" dir="ltr">TARGET_ANDROID_FILESYSTEM_CONFIG_H</code> method from older
  Android releases! You will get an error.
</aside>

<p>
  By convention, configuration files use the name <code translate="no" dir="ltr">config.fs</code>, but in
  practice you can use any name. <code translate="no" dir="ltr">config.fs</code> files are in the
  <a href="https://docs.python.org/2/library/configparser.html" class="external">Python
  ConfigParser ini format</a> and include a caps section (for configuring file
  system capabilities) and an AIDs section (for configuring OEM AIDs).
</p>

<h3 id="configuring-the-caps-section">Configuring the caps section</h3>

<aside class="note">
  <strong>Note:</strong> <a href="ambient.html">Ambient
  capabilities</a> are the preferred mechanism for setting capabilities for
  services launched by <code translate="no" dir="ltr">init</code> (this method keeps all aspects for the
  service configuration in a single <code translate="no" dir="ltr">.rc</code> file). We recommend using
  ambient capabilities for these services instead of configuring file system
  capabilities using the caps section in <code translate="no" dir="ltr">config.fs</code> files. When
  setting capabilities for services <strong>not launched by
  <code translate="no" dir="ltr">init</code></strong>, continue to configure file system capabilities
  using <code translate="no" dir="ltr">fs_config.c</code>.
</aside>

<p>
  The caps section supports setting
  <a href="http://man7.org/linux/man-pages/man7/capabilities.7.html" class="external">file
  system capabilities</a> on filesystem objects within the build (the filesystem
  itself must also support this functionality).
</p>

<p>
  Because running a stable service as root in Android causes a
  <a href="../../../compatibility/cts/index-2.html">Compatibility Test Suite (CTS)</a>
  failure, previous requirements for retaining a capability while running a
  process or service involved setting up capabilities then using
  <code translate="no" dir="ltr">setuid</code>/<code translate="no" dir="ltr">setgid</code> to a proper AID to run. With caps, you
  can skip these requirements and have the kernel do it for you. When control is
  handed to <code translate="no" dir="ltr">main()</code>, your process already has the capabilities it
  needs so your service can use a non-root user and group (this is the preferred
  way for starting privileged services).
</p>

<p>
  The caps section uses the following syntax:
</p>

<table>
  <tr>
   <th>Section</th>
   <th>Value</th>
   <th>Definition</th>
  </tr>
  <tr>
   <td><code translate="no" dir="ltr">[path]</code></td>
   <td></td>
   <td>The filesystem path to configure. A path ending in / is considered a dir,
   else it's a file.
   <br><br>It is an error to specify multiple sections with the same
   <code translate="no" dir="ltr">[path]</code> in different files. In Python versions &lt;= 3.2, the
   same file may contain sections that override the previous section; in Python
   3.2, it's set to strict mode.</td>
  </tr>
  <tr>
   <td><code translate="no" dir="ltr">mode</code></td>
   <td>Octal file mode</td>
   <td>A valid octal file mode of at least 3 digits. If 3 is specified, it is
   prefixed with a 0, else mode is used as is.</td>
  </tr>
  <tr>
  <td><code translate="no" dir="ltr">user</code></td>
   <td>AID_&lt;user&gt;</td>
   <td>Either the C <code translate="no" dir="ltr">define</code> for a valid AID or the friendly name
   (e.g. both <code translate="no" dir="ltr">AID_RADIO</code> and <code translate="no" dir="ltr">radio</code> are acceptable). To
   define a custom AID, see <a href="#configuring-the-aid-section">Configuring
   the AID section</a>.</td>
  </tr>
  <tr>
   <td><code translate="no" dir="ltr">group</code></td>
   <td>AID_&lt;group&gt;</td>
   <td>Same as user.</td>
  </tr>
  <tr>
  <td><code translate="no" dir="ltr">caps</code></td>
   <td>cap*</td>
   <td>The name as declared in
   <code translate="no" dir="ltr">system/core/include/private/android_filesystem_capability.h</code>
   without the leading <code translate="no" dir="ltr">CAP_</code>. Mixed case allowed. Caps can also be
   the raw:
   <ul>
   <li>binary (0b0101)</li>
   <li>octal (0455)</li>
   <li>int (42)</li>
   <li>hex (0xFF)</li>
  </ul>
  Separate multiple caps using whitespaces.</td>
  </tr>
</table>

<p>
  For a usage example, see <a href="#using-file-system-capabilities">Using file
  system capabilities</a>.
</p>

<h3 id="configuring-the-aid-section">Configuring the AID section</h3>

<p>
  The AID section contains OEM AIDs and uses the following syntax:
</p>

<table>
  <tr>
   <th>Section</th>
   <th>Value</th>
   <th>Definition</th>
  </tr>
  <tr>
  <td><code translate="no" dir="ltr">[AID_&lt;name&gt;]</code></td>
   <td></td>
   <td>The <code translate="no" dir="ltr">&lt;name&gt;</code> can contain characters in the set
   uppercase, numbers, and underscores. The lowercase version is used as the
   friendly name. The generated header file for code inclusion uses the exact
   <code translate="no" dir="ltr">AID_&lt;name&gt;</code>.
   <br><br>It is an error to specify multiple sections with the same
   <code translate="no" dir="ltr">AID_&lt;name&gt;</code> (case insensitive with the same constraints as
   <code translate="no" dir="ltr">[path]</code>).
   <br><br><code translate="no" dir="ltr">&lt;name&gt;</code> must begin with a partition name to ensure
   that it does not conflict with different sources.</td>
  </tr>
  <tr>
  <td><code translate="no" dir="ltr">value</code></td>
  <td>&lt;number&gt;</td>
  <td>A valid C style number string (hex, octal, binary and decimal).
  <br><br>It is an error to specify multiple sections with the same value option.
  <br><br>Value options must be specified in the range corresponding to the partition
  used in <code translate="no" dir="ltr">&lt;name&gt;</code>. The list of valid partitions and their corresponding
  ranges is defined in <code translate="no" dir="ltr">system/core/include/private/android_filesystem_config.h</code>.
  The options are:
  <ul>
   <li>Vendor Partition
    <ul>
     <li>AID_OEM_RESERVED_START(2900) - AID_OEM_RESERVED_END(2999)</li>
     <li>AID_OEM_RESERVED_2_START(5000) - AID_OEM_RESERVED_2_END(5999)</li>
    </ul>
   </li>
   <li>System Partition
    <ul>
     <li>AID_SYSTEM_RESERVED_START(6000) - AID_SYSTEM_RESERVED_END(6499)</li>
    </ul>
   </li>
   <li>ODM Partition
    <ul>
     <li>AID_ODM_RESERVED_START(6500) - AID_ODM_RESERVED_END(6999)</li>
    </ul>
   </li>
   <li>Product Partition
    <ul>
     <li>AID_PRODUCT_RESERVED_START(7000) - AID_PRODUCT_RESERVED_END(7499)</li>
    </ul>
   </li>
   <li>System_ext Partition
    <ul>
     <li>AID_SYSTEM_EXT_RESERVED_START(7500) - AID_SYSTEM_EXT_RESERVED_END(7999)</li>
    </ul>
   </li>
  </ul>
  </td>
  </tr>
</table>

<p>
  For usage examples, see <a href="#defining-oem-aid-name">Defining OEM
  AID names</a> and <a href="#using-oem-aids">Using OEM AIDs</a>.
</p>

<h2 id="usage-examples">Usage examples</h2>

<p>
  The following examples detail how to define and use an OEM AID and how to
  enable filesystem capabilities. OEM AID names
  (<strong>[AID_</strong><em>name<strong></em>]</strong>) must begin with a
  partition name such as "<strong>vendor_</strong>" to ensure they do not conflict with future
  AOSP names or other partitions.
</p>

<h3 id="defining-oem-aid-name">Defining OEM AID names</h2>

<p>
  To define an OEM AID, create a <code translate="no" dir="ltr">config.fs</code> file and set
  the AID value. For example, in <code translate="no" dir="ltr">device/x/y/config.fs</code>, set the
  following:
</p>

<pre translate="no" dir="ltr">
[AID_VENDOR_FOO]
value: 2900
</pre>

<p>
  After creating the file, set the <code translate="no" dir="ltr">TARGET_FS_CONFIG_GEN</code> variable
  and point to it in <code translate="no" dir="ltr">BoardConfig.mk</code>. For example, in
  <code translate="no" dir="ltr">device/x/y/BoardConfig.mk</code>, set the following:
</p>

<pre class="prettyprint" translate="no" dir="ltr">TARGET_FS_CONFIG_GEN += device/x/y/config.fs</pre>

<p>
  Your custom AID can now be consumed by the system at large on a new build.
</p>

<h2 id="using-oem-aids">Using OEM AIDs</h2>

<p>
  To use an OEM AID, in your C code, add <code translate="no" dir="ltr">#include
  "generated_oem_aid.h"</code> and start using the declared identifiers. For
  example, in <code translate="no" dir="ltr">my_file.c</code>, add the following:
</p>

<pre translate="no" dir="ltr">
#include "generated_oem_aid.h"
…

If (ipc-&gt;uid == AID_VENDOR_FOO) {
  // Do something
...
</pre>

<h3 id="using-friendly-names">Using friendly names</h3>

<p>
  In Android 9, you can use the friendly name for any
  interface that supports AID names. For example:
</p>

<ul>
  <li>In a <code translate="no" dir="ltr">chown</code> command in <code translate="no" dir="ltr">some/init.rc</code>:
<pre translate="no" dir="ltr">
chown vendor_foo /vendor/some/vendor_foo/file
</pre>
  </li>
  <li>In a <code translate="no" dir="ltr">service</code> in <code translate="no" dir="ltr">some/init.rc</code>:

<pre translate="no" dir="ltr">
service vendor_foo /vendor/bin/foo_service
    user vendor_foo
    group vendor_foo
</pre>
  </li>
</ul>

<p>
  Because the internal mapping from friendly name to uid is performed by
  <code translate="no" dir="ltr">/vendor/etc/passwd</code> and <code translate="no" dir="ltr">/vendor/etc/group</code>, the vendor
  partition must be mounted.
</p>

<h2 id="associating-friendly-names">Associating friendly names</h2>

<p>
  Android 9 includes support for associating a
  friendly name with the actual OEM AID value. You can use non-numeric string
  arguments for user and group, i.e. "<strong>vendor_</strong>foo" instead of
  "2901".
</p>

<h2 id="converting-aid-to-friendly">Converting from AID to friendly names</h2>

<p>
  For
  <a href="#using-oem-aids">OEM AIDs</a>, Android 8.x required the use of
  <code translate="no" dir="ltr">oem_####</code> with <code translate="no" dir="ltr">getpwnam</code> and similar functions, as
  well in places that handle lookups via <code translate="no" dir="ltr">getpwnam</code> (such as
  <code translate="no" dir="ltr">init</code> scripts). In Android 9, you can
  use the <code translate="no" dir="ltr">getpwnam</code> and <code translate="no" dir="ltr">getgrnam</code> friends in Bionic for
  converting from Android IDs (AIDs) to friendly names and vice versa.
</p>

<h3 id="using-file-system-capabilities">Using file system capabilities</h3>

<p>
  To enable filesystem capabilities, create a caps section in the
  <code translate="no" dir="ltr">config.fs</code> file. For example, in
  <code translate="no" dir="ltr">device/x/y/config.fs</code>, add the following section:
</p>

<pre translate="no" dir="ltr">
[system/bin/foo_service]
mode: 0555
user: AID_VENDOR_FOO
group: AID_SYSTEM
caps: SYS_ADMIN | SYS_NICE
</pre>

<aside class="note">
  <strong>Note:</strong> The nice names <code translate="no" dir="ltr"><strong>vendor_</strong>foo</code>
  and <code translate="no" dir="ltr">system</code> could be used here as well.
</aside>

<p>
  After creating the file, set the <code translate="no" dir="ltr">TARGET_FS_CONFIG_GEN</code> to point to
  that file in <code translate="no" dir="ltr">BoardConfig.mk</code>. For example, in
  <code translate="no" dir="ltr">device/x/y/BoardConfig.mk</code>, set the following:
</p>

<pre translate="no" dir="ltr">
TARGET_FS_CONFIG_GEN += device/x/y/config.fs
</pre>

<p>
  When service <code translate="no" dir="ltr"><strong>vendor_</strong>foo</code> is executed, it starts
  with capabilities <code translate="no" dir="ltr">CAP_SYS_ADMIN</code> and <code translate="no" dir="ltr">CAP_SYS_NICE</code>
  without <code translate="no" dir="ltr">setuid</code> and <code translate="no" dir="ltr">setgid</code> calls. In addition, the
  <code translate="no" dir="ltr"><strong>vendor_</strong>foo</code> service's SELinux policy no longer
  needs capability <code translate="no" dir="ltr">setuid</code> and <code translate="no" dir="ltr">setgid</code> and can be
  deleted.
</p>

<h2 id="older">Configuring overrides (Android 6.x-7.x)</h2>

<p>
  Android 6.0 relocated <code translate="no" dir="ltr">fs_config</code> and associated structure
  definitions
  (<code translate="no" dir="ltr">system/core/include/private/android_filesystem_config.h</code>) to
  <code translate="no" dir="ltr">system/core/libcutils/fs_config.c</code> where they could be updated or
  overridden by binary files installed in
  <code translate="no" dir="ltr">/system/etc/fs_config_dirs</code> and
  <code translate="no" dir="ltr">/system/etc/fs_config_files</code>. Using separate matching and parsing
  rules for directories and files (which could use additional glob expressions)
  enabled Android to handle directories and files in two different tables.
  Structure definitions in <code translate="no" dir="ltr">system/core/libcutils/fs_config.c</code> not
  only allowed runtime reading of directories and files, but the host could use
  the same files during build time to construct filesystem images as
  <code translate="no" dir="ltr">${OUT}/system/etc/fs_config_dirs</code> and
  <code translate="no" dir="ltr">${OUT}/system/etc/fs_config_files</code>.
</p>

<p>
  While the override method of extending the filesystem has been superseded by
  the modular config system introduced in Android 8.0, you can still use the old
  method if desired. The following sections detail how to generate and include
  override files and configure the filesystem.
</p>

<h3 id=older-generate>Generating override files</h3>

<p>You can generate the aligned binary files
<code translate="no" dir="ltr">/system/etc/fs_config_dirs</code> and
<code translate="no" dir="ltr">/system/etc/fs_config_files</code> using the
<code translate="no" dir="ltr">fs_config_generate</code> tool in <code translate="no" dir="ltr">build/tools/fs_config</code>. The
tool uses a <code translate="no" dir="ltr">libcutils</code> library function
(<code translate="no" dir="ltr">fs_config_generate()</code>) to manage DAC requirements into a buffer
and defines rules for an include file to institutionalize the DAC rules.</p>

<p>To use, create an include file in
<code translate="no" dir="ltr">device/<em>vendor</em>/<em>device</em>/android_filesystem_config.h</code>
that acts as the override. The file must use the
<code translate="no" dir="ltr">structure fs_path_config</code> format defined in
<code translate="no" dir="ltr">system/core/include/private/android_filesystem_config.h</code> with the
following structure initializations for directory and file symbols:</p>
<ul>
<li>For directories, use <code translate="no" dir="ltr">android<strong>_device</strong>_dirs[]</code>.</li>
<li>For files, use <code translate="no" dir="ltr">android<strong>_device</strong>_files[]</code>.</li>
</ul>

<p>
  When not using <code translate="no" dir="ltr">android_device_dirs[]</code> and
  <code translate="no" dir="ltr">android_device_files[]</code>, you can define
  <code translate="no" dir="ltr">NO_ANDROID_FILESYSTEM_CONFIG_DEVICE_DIRS</code> and
  <code translate="no" dir="ltr">NO_ANDROID_FILESYSTEM_CONFIG_DEVICE_FILES</code> (see the
  <a href="#older-example">example</a> below). You can also specify the override
  file using <code translate="no" dir="ltr">TARGET_ANDROID_FILESYSTEM_CONFIG_H</code> in the board
  configuration, with an enforced basename of
  <code translate="no" dir="ltr">android_filesystem_config.h</code>.
</p>

<h3 id=older-include>Including override files</h3>

<p>
  To include files, ensure that <code translate="no" dir="ltr">PRODUCT_PACKAGES</code> includes
  <code translate="no" dir="ltr">fs_config_dirs</code> and/or <code translate="no" dir="ltr">fs_config_files</code> so it can
  install them to <code translate="no" dir="ltr">/system/etc/fs_config_dirs</code> and
  <code translate="no" dir="ltr">/system/etc/fs_config_files</code>, respectively. The build system
  searches for custom <code translate="no" dir="ltr">android_filesystem_config.h</code> in
  <code translate="no" dir="ltr">$(TARGET_DEVICE_DIR)</code>, where <code translate="no" dir="ltr">BoardConfig.mk</code> exists.
  If this file exists elsewhere, set board config variable
  <code translate="no" dir="ltr">TARGET_ANDROID_FILESYSTEM_CONFIG_H</code> to point to that location.
</p>

<h3 id=older-configure>Configuring the filesystem</h3>

<p>
  To configure the filesystem in Android 6.0 and higher:
</p>

<ol>
  <li>Create the <code translate="no" dir="ltr">$(TARGET_DEVICE_DIR)/android_filesystem_config.h</code>
  file.</li>
  <li>Add the <code translate="no" dir="ltr">fs_config_dirs</code> and/or <code translate="no" dir="ltr">fs_config_files</code> to
  <code translate="no" dir="ltr">PRODUCT_PACKAGES </code>in the board configuration file (e.g.,
  <code translate="no" dir="ltr">$(TARGET_DEVICE_DIR)/device.mk</code>).</li>
</ol>

<h3 id=older-example>Override example</h3>

<p>
  This example shows a patch for overriding the <code translate="no" dir="ltr">system/bin/glgps</code>
  daemon to add wake lock support in the
  <code translate="no" dir="ltr">device/<em>vendor</em>/<em>device</em></code> directory. Keep the
  following in mind:
</p>

<ul>
  <li>Each structure entry is the mode, uid, gid, capabilities, and the name.
  <code translate="no" dir="ltr">system/core/include/private/android_filesystem_config.h</code> is
  included automatically to provide the manifest #defines
  (<code translate="no" dir="ltr">AID_ROOT</code>, <code translate="no" dir="ltr">AID_SHELL</code>,
  <code translate="no" dir="ltr">CAP_BLOCK_SUSPEND</code>).</li>
  <li>The <code translate="no" dir="ltr">android_device_files[]</code> section includes an action to
  suppress access to <code translate="no" dir="ltr">system/etc/fs_config_dirs</code> when unspecified,
  which serves as an additional DAC protection for lack of content for directory
  overrides. However, this is weak protection; if someone has control over
  <code translate="no" dir="ltr">/system</code>, they can typically do anything they want.</li>
</ul>

<pre class="devsite-click-to-copy" translate="no" dir="ltr">
diff --git a/android_filesystem_config.h b/android_filesystem_config.h
new file mode 100644
index 0000000..874195f
--- /dev/null
+++ b/android_filesystem_config.h
&#64;&#64; -0,0 +1,36 &#64;&#64;
+/*
+ * Copyright (C) 2015 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
+ * implied. See the License for the specific language governing
+ * permissions and limitations under the License.
+ */
+
+/* This file is used to define the properties of the filesystem
+** images generated by build tools (eg: mkbootfs) and
+** by the device side of adb.
+*/
+
+#define NO_ANDROID_FILESYSTEM_CONFIG_DEVICE_DIRS
+/* static const struct fs_path_config android_device_dirs[] = { }; */
+
+/* Rules for files.
+** These rules are applied based on "first match", so they
+** should start with the most specific path and work their
+** way up to the root. Prefixes ending in * denotes wildcard
+** and will allow partial matches.
+*/
+static const struct fs_path_config android_device_files[] = {
+  { 00755, AID_ROOT, AID_SHELL, (1ULL &lt;&lt; CAP_BLOCK_SUSPEND),
"system/bin/glgps" },
+#ifdef NO_ANDROID_FILESYSTEM_CONFIG_DEVICE_DIRS
+  { 00000, AID_ROOT, AID_ROOT, 0, "system/etc/fs_config_dirs" },
+#endif
+};


diff --git a/device.mk b/device.mk
index 0c71d21..235c1a7 100644
--- a/device.mk
+++ b/device.mk
&#64;&#64; -18,7 +18,8 &#64;&#64; PRODUCT_PACKAGES := \
     libwpa_client \
     hostapd \
     wpa_supplicant \
-    wpa_supplicant.conf
+    wpa_supplicant.conf \
+    fs_config_files

 ifeq ($(TARGET_PREBUILT_KERNEL),)
 ifeq ($(USE_SVELTE_KERNEL), true)
</pre>

<h3 id=older-migration>Migrating filesystems from earlier releases</h3>

<p>
  When migrating filesystems from Android 5.x and earlier, keep in mind that
  Android 6.x
</p>

<ul>
  <li>Removes some includes, structures, and inline definitions.</li>
  <li>Requires a reference to <code translate="no" dir="ltr">libcutils</code> instead of running directly
  from <code translate="no" dir="ltr">system/core/include/private/android_filesystem_config.h</code>.
  Device manufacturer private executables that depend on
  <code translate="no" dir="ltr">system/code/include/private_filesystem_config.h</code> for the file or
  directory structures or <code translate="no" dir="ltr">fs_config</code> must add <code translate="no" dir="ltr">libcutils</code>
  library dependencies.</li>
  <li>Requires device manufacturer private branch copies of the
  <code translate="no" dir="ltr">system/core/include/private/android_filesystem_config.h</code> with
  extra content on existing targets to move to
  <code translate="no" dir="ltr">device/<em>vendor</em>/<em>device</em>/android_filesystem_config.h</code>.
  </li>
  <li>Reserves the right to apply SELinux Mandatory Access Controls (MAC) to
  configuration files on the target system, implementations that include custom
  target executables using <code translate="no" dir="ltr">fs_config()</code> must ensure access.</li>
</ul>


          </div>

    
                   <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0">
         </devsite-page-rating>
                   
          </article>
</article>

<devsite-content-footer class="nocontent">
  <p>Content and code samples on this page are subject to the licenses described in the <a href="../../../license.html">Content License</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
</devsite-content-footer>


                      </devsite-content>
        </div>
        <devsite-footer-promos class="devsite-footer">
                      
                  </devsite-footer-promos>
        <devsite-footer-linkboxes class="devsite-footer">
                      <nav class="devsite-footer-linkboxes nocontent">
  <ul class="devsite-footer-linkboxes-list">
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Build</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://android.googlesource.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            Android repository
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="../../../setup/build/requirements.html"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            Requirements
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="../../../setup/build/downloading.html"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Downloading
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/blobs-preview/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            Preview binaries
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/images/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Factory images
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/drivers/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Driver binaries
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://android.github.io/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            GitHub
          </a>
        </li>
              </ul>
    </li>
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Connect</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://twitter.com/Android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            @Android on Twitter
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://twitter.com/AndroidDev/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            @AndroidDev on Twitter
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://blog.google/products/android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Android Blog
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://security.googleblog.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            Google Security Blog
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-platform/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Platform on Google Groups
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-building/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Building on Google Groups
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-porting/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            Porting on Google Groups
          </a>
        </li>
              </ul>
    </li>
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Get help</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            Android Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/pixelphone/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            Pixel Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/nexus/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Nexus Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://www.android.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            www.android.com
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://www.android.com/gms/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Google Mobile Services
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://stackoverflow.com/questions/tagged/android-source/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Stack Overflow
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://issuetracker.google.com/issues?q=status:open%20componentid:190923"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            Issue Tracker
          </a>
        </li>
              </ul>
    </li>
      </ul>
</nav>
                  </devsite-footer-linkboxes>
        <devsite-footer-utility class="devsite-footer">
                      
<div class="devsite-footer-utility">
  
  <nav class="devsite-nav">
        <ul class="devsite-footer-utility-list">
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../../source/index.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer About Android link">
          About Android
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../../setup/community.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer Community link">
          Community
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../../legal.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer Legal link">
          Legal
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../../license.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer License link">
          License
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="http://policies.google.cn/privacy"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link">
          Privacy
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="http://issuetracker.google.com/issues/new?component=191476"
           data-category="Site-Wide Custom Events"
           data-label="Footer Site feedback link">
          Site feedback
        </a>
              </li>
          </ul>
    
    <devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    <select class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
                <option>Language</option>
              <option value="en"
              track-metadata-original-language="en"
              track-metadata-selected-language="en"
              track-name="changed"
              track-type="languageSelector"
            >
        English
      </option>
          <option value="zh_cn"
              track-metadata-original-language="en"
              track-metadata-selected-language="zh_cn"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 简体
      </option>
        </select>
  </devsite-select>
</devsite-language-selector>

  </nav>
</div>
                  </devsite-footer-utility>
      </div></div>
    <devsite-sitemask></devsite-sitemask>
    <devsite-snackbar                   ></devsite-snackbar>    <devsite-tooltip blocked-link></devsite-tooltip>
    <devsite-analytics>
              <script type="application/json" analytics>[{"metrics": {"ratings_value": "metric1", "ratings_count": "metric2"}, "dimensions": {}, "gaid": "UA-45455297-4"}]</script>
<script type="application/json" gtm>[]</script>
          </devsite-analytics>
        <script>
    (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;
    t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];
    E.parentNode.insertBefore(t,E);})(window, document, 'script',
    'https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/js/app_loader.js', '[7,"en",null,"../../../js/devsite_app.html","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource","https://androidsource-dot-google-developers.gonglchuangl.net/",null,null,["/_pwa/androidsource/manifest.json","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/images/video-placeholder.svg","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/favicon.png","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/lockup.svg","https://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons"]]')
  </script>  </body>

<!-- Mirrored from source.android.google.cn/devices/tech/config/filesystem by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 09 Sep 2019 14:58:19 GMT -->
</html>