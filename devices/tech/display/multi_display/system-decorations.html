<!doctype html>
<html       lang="en"      dir="ltr">
  
<!-- Mirrored from source.android.google.cn/devices/tech/display/multi_display/system-decorations by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 09 Sep 2019 15:02:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta property="og:site_name" content="Android Open Source Project">
    <meta property="og:type" content="website">
    
          <meta name="theme-color" content="#78c257">
    
    <meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="../../../../_pwa/androidsource/manifest.json"
          crossorigin="use-credentials">
    <link rel="preconnect" href="http://www.gstatic.com/" crossorigin>
    <link rel="preconnect" href="http://fonts.gstatic.com/" crossorigin>
    <link rel="preconnect" href="http://fonts.googleapis.com/" crossorigin>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons">
        <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/css/rebrand-app.css">
    <noscript>
      <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/css/ce_bundle.css">
    </noscript>
    <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/favicon.png">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/touchicon-180.png"><link rel="canonical" href="system-decorations.html">      
<title>System Decorations Support &nbsp;|&nbsp; Android Open Source Project</title>

<meta property="og:title" content="System Decorations Support &nbsp;|&nbsp; Android Open Source Project">


  <meta property="og:url" content="system-decorations.html">

  <meta property="og:locale" content="en">




    
    
    
  
    </head>
  <body type="article"
        theme="androidsource-theme"
        class=""
        
        layout="docs"
        block-apix        pending>
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
    <div class="devsite-wrapper"><devsite-header keep-tabs-visible>
      









<div class="devsite-header--inner">
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="Close menu">
        </button>
        <div class="devsite-product-name-wrapper">
  <a href="../../../../index.html" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo">
  <img src="https://www.gstatic.cn/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/lockup.svg" class="devsite-site-logo" alt="Android Open Source Project">
</a>
            <span class="devsite-product-name">
            <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                              </li>
  </ul>
          </span>
        
</div>        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
                          <devsite-tabs class="upper-tabs">
  <div class="devsite-tabs-wrapper">
                  <tab >
          <a href="../../../../setup.html"
   class="gc-analytics-event"
   title="Set up"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Set up"
   >
  Set up
</a>

        </tab>
                        <tab active>
          <a href="../../../../compatibility.html"
   class="gc-analytics-event"
   title="Design"
   aria-label="Design, selected"         data-category="Site-Wide Custom Events"
        data-label="Tab: Design"
   >
  Design
</a>

        </tab>
                        <tab >
          <a href="../../../../security.html"
   class="gc-analytics-event"
   title="Secure"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Secure"
   >
  Secure
</a>

        </tab>
                        <tab >
          <a href="../../../../devices.html"
   class="gc-analytics-event"
   title="Develop"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Develop"
   >
  Develop
</a>

        </tab>
                        <tab >
          <a href="../../../tech.html"
   class="gc-analytics-event"
   title="Configure"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Configure"
   >
  Configure
</a>

        </tab>
                        <tab >
          <a href="../../../../reference.html"
   class="gc-analytics-event"
   title="Reference"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Reference"
   >
  Reference
</a>

        </tab>
            </div>
</devsite-tabs>

                       </div>
          <devsite-search
            enable-suggestions
              family-name="Android Open Source Project"    tenant-name="Android Open Source Project"            >
  <form class="devsite-search-form" action="https://source.android.google.cn/s/results" method="GET">
    <div class="devsite-search-container">
      <div class="devsite-searchbox">
                <input placeholder="Search"
          type="text"
          class="devsite-search-field devsite-search-query"
          name="q"
          value=""
          autocomplete="off"
                    aria-label="Search box">
        <div class="devsite-search-image material-icons" aria-hidden="true"></div>
      </div>
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              aria-label="Open search box"></button>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          aria-label="Close search box"></button>
</devsite-search>

        </div>

        <devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    <select class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
                <option>Language</option>
              <option value="en"
              track-metadata-original-language="en"
              track-metadata-selected-language="en"
              track-name="changed"
              track-type="languageSelector"
            >
        English
      </option>
          <option value="zh_cn"
              track-metadata-original-language="en"
              track-metadata-selected-language="zh_cn"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 简体
      </option>
        </select>
  </devsite-select>
</devsite-language-selector>


                  <a class="devsite-header-link devsite-top-button button gc-analytics-event"
   href="http://android-review.googlesource.com/"
   data-category="Site-Wide Custom Events"
   data-label="Site header link">
  Go to code
</a>
        
              </div>    </div>  </div>
  <div class="devsite-collapsible-section
    ">
    <div class="devsite-header-background">
                        <div class="devsite-product-id-row">
            <div class="devsite-product-description-row">
                              <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                    <a href="../../../../compatibility.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Lower Header"
              data-value="1"
          >
            Design
      
  </a>
        </li>
  </ul>
                                        </div>
                                                                                    </div>
                                      <div class="devsite-doc-set-nav-row">
                              <devsite-tabs class="lower-tabs">
  <div class="devsite-tabs-wrapper">
                  <tab >
          <a href="../../../../compatibility.html"
   class="gc-analytics-event"
   title="Overview"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Overview"
   >
  Overview
</a>

        </tab>
                        <tab >
          <a href="../../../architecture.html"
   class="gc-analytics-event"
   title="Architecture"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Architecture"
   >
  Architecture
</a>

        </tab>
                        <tab >
          <a href="../../../../compatibility/overview-2.html"
   class="gc-analytics-event"
   title="Compatibility"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Compatibility"
   >
  Compatibility
</a>

        </tab>
                        <tab active>
          <a href="../../display.html"
   class="gc-analytics-event"
   title="Display"
   aria-label="Display, selected"         data-category="Site-Wide Custom Events"
        data-label="Tab: Display"
   >
  Display
</a>

        </tab>
                        <tab >
          <a href="../../settings.html"
   class="gc-analytics-event"
   title="Settings"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Settings"
   >
  Settings
</a>

        </tab>
                        <tab >
          <a href="../../../../compatibility/tests.html"
   class="gc-analytics-event"
   title="Tests"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Tests"
   >
  Tests
</a>

        </tab>
            </div>
</devsite-tabs>

        </div>
          </div>  </div></div>
  

  </devsite-header>      <devsite-book-nav scrollbars >
                  




<nav class="devsite-book-nav devsite-nav nocontent">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="Close navigation">
    </button>
    <div class="devsite-product-name-wrapper">
  <a href="../../../../index.html" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo">
  <img src="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/lockup.svg" class="devsite-site-logo" alt="Android Open Source Project">
</a>
        <span class="devsite-product-name">
        <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                              </li>
  </ul>
      </span>
    
</div>  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
              <ul class="devsite-nav-list">
                      <li class="devsite-nav-item">
                                <a href="../../../../setup.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Set up">
      <span class="devsite-nav-text" >Set up</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../../../compatibility.html"
          class="devsite-nav-title gc-analytics-event
            devsite-nav-active"
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Design">
      <span class="devsite-nav-text" >Design</span>
        </a>
  
                                            <ul class="devsite-nav-responsive-tabs">
                                                                                                                      <li class="devsite-nav-item">
    <a href="../../../../compatibility.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Overview">
      <span class="devsite-nav-text" >Overview</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../../../architecture.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Architecture">
      <span class="devsite-nav-text" >Architecture</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../../../../compatibility/overview-2.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Compatibility">
      <span class="devsite-nav-text" >Compatibility</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../../display.html"
     id="devsite-nav-forward"     class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Display">
      <span class="devsite-nav-text" menu="_book">Display</span>
        <span class="devsite-nav-icon material-icons" data-icon="forward" aria-hidden="true"
          menu="_book">
    </span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../../settings.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Settings">
      <span class="devsite-nav-text" >Settings</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../../../../compatibility/tests.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Tests">
      <span class="devsite-nav-text" >Tests</span>
        </a>
  </li>

                                  </ul>
                          </li>
                      <li class="devsite-nav-item">
                                <a href="../../../../security.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Secure">
      <span class="devsite-nav-text" >Secure</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../../../devices.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Develop">
      <span class="devsite-nav-text" >Develop</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../../tech.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Configure">
      <span class="devsite-nav-text" >Configure</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../../../reference.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Reference">
      <span class="devsite-nav-text" >Reference</span>
        </a>
  
                                        </li>
                                <li class="devsite-nav-item">
    <a href="http://android-review.googlesource.com/"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Go to code">
      <span class="devsite-nav-text" >Go to code</span>
        </a>
  </li>

                  </ul>
          </div>
          <div class="devsite-mobile-nav-bottom">
                            <ul class="devsite-nav-list" menu="_book">
            <li class="devsite-nav-item"><a href="../../display.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li>
  <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="Apps">Apps</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../adaptive-icons.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Adaptive Icons">Adaptive Icons</span></a></li><li class="devsite-nav-item"><a href="../app-shortcuts.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="App Shortcuts">App Shortcuts</span></a></li><li class="devsite-nav-item"><a href="../circular-icons.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Circular Icons">Circular Icons</span></a></li><li class="devsite-nav-item"><a href="../widgets-shortcuts.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Widgets &amp; Shortcuts">Widgets &amp; Shortcuts</span></a></li><li class="devsite-nav-item"><a href="../synched-app-transitions.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Synchronized App Transitions">Synchronized App Transitions</span></a></li></ul></devsite-expandable-nav></li>
  <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="Color">Color</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../color-mgmt.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Color Management">Color Management</span></a></li><li class="devsite-nav-item"><a href="../display-cutouts.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Display Cutouts">Display Cutouts</span></a></li><li class="devsite-nav-item"><a href="../dnd.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Do Not Disturb">Do Not Disturb</span></a></li><li class="devsite-nav-item"><a href="../hdr.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="HDR Video">HDR Video</span></a></li><li class="devsite-nav-item"><a href="../night-light.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Night Light">Night Light</span></a></li></ul></devsite-expandable-nav></li>
  <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="Multi-Window">Multi-Window</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../multi-window.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li><li class="devsite-nav-item"><a href="../split-screen.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Split-Screen Interactions">Split-Screen Interactions</span></a></li><li class="devsite-nav-item"><a href="../pip.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Picture-in-Picture">Picture-in-Picture</span></a></li></ul></devsite-expandable-nav></li>
  <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="Multi-Display">Multi-Display</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../multi_display.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li><li class="devsite-nav-item"><a href="recommended-practices.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Recommended Practices">Recommended Practices</span></a></li><li class="devsite-nav-item"><a href="testing-dev-environment.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Testing and Development Environment">Testing and Development Environment</span></a></li><li class="devsite-nav-item"><a href="faq.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Frequently Asked Questions">Frequently Asked Questions</span></a></li><li class="devsite-nav-item"><a href="multi-resume.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Multi-Resume">Multi-Resume</span></a></li><li class="devsite-nav-item"><a href="activity-launch.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Activity Launch Policy">Activity Launch Policy</span></a></li><li class="devsite-nav-item"><a href="displays.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Display Support">Display Support</span></a></li><li class="devsite-nav-item"><a href="system-decorations.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="System Decorations Support">System Decorations Support</span></a></li><li class="devsite-nav-item"><a href="lock-screen.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Lock Screen">Lock Screen</span></a></li><li class="devsite-nav-item"><a href="ime-support.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Input Method Editor Support">Input Method Editor Support</span></a></li><li class="devsite-nav-item"><a href="input-routing.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Input Routing">Input Routing</span></a></li><li class="devsite-nav-item"><a href="multi-zone-audio.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Multi-Zone Audio">Multi-Zone Audio</span></a></li></ul></devsite-expandable-nav></li>
  <li class="devsite-nav-item"><a href="../retail-mode.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Retail Demo Mode">Retail Demo Mode</span></a></li>
  <li class="devsite-nav-item"><a href="../rotate-suggestions.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Rotate Suggestions">Rotate Suggestions</span></a></li>
  <li class="devsite-nav-item"><a href="../textclassifier.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Text Classification">Text Classification</span></a></li>
          </ul>
                                                                                                                                                                            </div>
      </div>
</nav>
              </devsite-book-nav>
      <div id="gc-wrapper">
        <div class="devsite-main-content"
            has-book-nav            has-toc>
          <devsite-toc class="devsite-nav"
            ></devsite-toc>
          <devsite-content>
                          

<article class="devsite-article">
  <article class="devsite-article-inner">        
    <div class="devsite-article-meta">
      <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                    <a href="../../../../index.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="1"
          >
            AOSP
      
  </a>
        </li>
    <li class="devsite-breadcrumb-item
             ">
                <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
                    <a href="../../../../compatibility.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="2"
          >
            Design
      
  </a>
        </li>
    <li class="devsite-breadcrumb-item
             ">
                <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
                    <a href="../../display.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="3"
          >
            Display
      
  </a>
        </li>
  </ul>
               <devsite-page-rating position="header" selected-rating="0" hover-rating-star="0">
         </devsite-page-rating>
          </div>

              <h1 class="devsite-page-title">System Decorations Support</h1>
    
    <devsite-toc class="devsite-nav" devsite-toc-embedded >
    </devsite-toc>

    <div class="devsite-article-body clearfix
      ">

              





























  <!--
      Copyright 2019 The Android Open Source Project

      Licensed under the Apache License, Version 2.0 (the "License");
      you may not use this file except in compliance with the License.
      You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

      Unless required by applicable law or agreed to in writing, software
      distributed under the License is distributed on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      See the License for the specific language governing permissions and
      limitations under the License.
  -->

<p>Updates made to these display-specific areas are provided below:</p>

<ul>
  <li><a href="system-decorations.html#decorations">System decorations</a></li>
  <li><a href="system-decorations.html#ui-decor">System UI decor windows</a></li>
  <li><a href="system-decorations.html#launcher">Launcher</a></li>
  <li><a href="system-decorations.html#wallpaper">Wallpapers</a></li>
</ul>

<h2 id="decorations">System decorations</h2>

<p>Android 10 adds support for configuring secondary
displays to show certain system decorations, such as wallpaper, navigation bar,
and launcher. By default, the primary display shows all system decorations, and
secondary displays show those optionally enabled. Support for an Input Method Editor
(IME) can be set separately from other system decorations.</p>

<p>Use <code translate="no" dir="ltr">DisplayWindowSettings#setShouldShowSystemDecorsLocked()</code>
to add support for system decorations on a specific display or provide
a default value in <code translate="no" dir="ltr">/data/system/display_settings.xml</code>. For examples,
see <a
href="displays.html#windows">Display window settings</a>.</p>

<h3 id="implementation-decor">Implementation</h3>

<p><code translate="no" dir="ltr">DisplayWindowSettings#setShouldShowSystemDecorsLocked()</code> is also exposed in
<code translate="no" dir="ltr">WindowManager#setShouldShowSystemDecors()</code> for testing. Triggering of this method
with intent to enable system decors doesn't add decor windows that were
previously missing, or remove them if they were previously present. In most
cases, the change of system decorations support takes full effect only after a
device reboot.</p>

<p>Checks for support of system decorations in the WindowManager code base
usually go through <code translate="no" dir="ltr">DisplayContent#supportsSystemDecorations()</code> while
checks for external services (such as System UI to check if the navigation bar
should be shown) use <code translate="no" dir="ltr">WindowManager#shouldShowSystemDecors()</code>.
To understand what is controlled by this setting, explore the call points of
these methods.</p>

<h2 id="ui-decor">System UI decor windows</h2>

<p>Android 10 adds system decor window support
for the navigation bar <em>only</em>, because the navigation bar is essential
for navigating between activities and apps. By default, the navigation bar shows
Back and Home affordances. This is included only if the target display supports
system decorations (see <code translate="no" dir="ltr">DisplayWindowSettings</code>).</p>

<p>The <em>status bar </em>is a more complicated system window, because it
also contains Notification Shade, Quick Settings, and Lock Screen. In Android
10, the status bar is not supported on secondary displays.
Therefore, notifications, settings, and a full keyguard are available only on the
primary display.</p>

<p>The <em>Overview/Recents</em> system window isn't supported on secondary
screens. In Android 10, AOSP only display Recents on the
default display and contains activities from all displays. When launched from
Recents, an activity that was on a secondary display is brought to the front on
that display, by default. This approach has some known issues, such as not
updating immediately when apps appear on other screens.</p>

<h3 id="implementation-decor">Implementation</h3>

<p>To implement additional System UI features, device manufacturers should use a
single System UI component that listens for the addition/removal of displays and
presents appropriate content.</p>

<p>A System UI component that supports Multi-Display (MD) should handle the
following cases:</p>

<ul>
<li>Multiple display initialization at startup</li>
<li>Display added at runtime</li>
<li>Display removed at runtime</li>
</ul>

<p>When System UI detects the addition of a display before WindowManager, it creates
a race condition. This can be avoided by implementing a custom callback from
WindowManager to System UI when a display is added instead of subscribing to
DisplayManager<code translate="no" dir="ltr">.DisplayListener</code> events. For a reference implementation,
see <code translate="no" dir="ltr">CommandQueue.Callbacks#onDisplayReady</code> for navigation bar support
and <code translate="no" dir="ltr">WallpaperManagerInternal#onDisplayReady</code> for wallpapers.</p>

<p>In addition, Android 10 provides these updates:</p>

<ul>
<li>The <code translate="no" dir="ltr">NavigationBarController</code> class controls all functionality
specific to navigation bars.</li>
<li>To view a customized navigation bar, see <code translate="no" dir="ltr">CarStatusBar</code>.</li>
<li><code translate="no" dir="ltr">TYPE_NAVIGATION_BAR</code> is no longer restricted to a single
instance and can be used per display.</li>
<li><code translate="no" dir="ltr">IWindowManager#hasNavigationBar()</code> is updated to include the
<code translate="no" dir="ltr">displayId</code> parameter for System UI only.</li>
</ul>

<h2 id="launcher">Launcher</h2>

<p>In Android 10, each display configured to support
system decorations has a dedicated home stack for launcher activities with type
<code translate="no" dir="ltr">WindowConfiguration#ACTIVITY_TYPE_HOME</code>, by default. Each display
uses a separate instance of launcher activity.</p>

<p><img src="../images/multi_display_05a.png"></p>

<p><img src="../images/multi_display_05b.png"></p>

<p><strong>Figure 1.</strong> Multi-display launcher example for
<code translate="no" dir="ltr">platform/development/samples/MultiDisplay</code></p>

<p>Most existing launchers don't support multiple instances and aren't optimized
for large screen sizes. Also, a different kind of experience is often expected
on secondary/external displays. To provide a dedicated activity for secondary
screens, Android 10 introduces the <code translate="no" dir="ltr">SECONDARY_HOME</code> category in intent
filters. Instances of this activity are used on all displays that support system
decorations, one per display. </p>

<pre class="prettyprint" translate="no" dir="ltr">
&lt;activity&gt;
    ...
    &lt;intent-filter&gt;
        &lt;category android:name="android.intent.category.SECONDARY_HOME" /&gt;
        ...
    &lt;/intent-filter&gt;
&lt;/activity&gt;
</pre>

<p>The activity must have a launch mode that doesn't prevent multiple
instances and is expected to adapt to different screen sizes. The launch mode
can't be <code translate="no" dir="ltr">singleInstance</code> or <code translate="no" dir="ltr">singleTask</code>.</p>

<h3 id="implementation-launcher">Implementation</h3>

<p>In Android 10, <code translate="no" dir="ltr">RootActivityContainer#startHomeOnDisplay()</code>
automatically selects the desired component and intent depending on the display
where the home screen is launched. <code translate="no" dir="ltr">RootActivityContainer#resolveSecondaryHomeActivity()</code>
contains the logic to look up the launcher activity component depending on the currently
selected launcher and can use the system default, if needed (see
<code translate="no" dir="ltr">ActivityTaskManagerService#getSecondaryHomeIntent()</code>). </p>

<aside class="note"><strong>Note:</strong> Launching an activity with
<code translate="no" dir="ltr">WindowConfiguration#ACTIVITY_TYPE_HOME</code> automatically creates a
stack with the corresponding type on a display. There can be at most one such stack
per display.</aside>

<h3 id="launcher-security">Security restrictions</h3>

<p>In addition to restrictions that apply to activities on secondary displays,
to avoid the possibility of a malicious app creating a virtual display with enabled
<a
href="system-decorations.html#decorations">System decorations</a>
and reading user-sensitive information from the surface, the launcher appears only
on virtual displays owned by the system. The launcher doesn't display content on
non-system virtual displays.</p>

<h2 id="wallpaper">Wallpapers</h2>

<p>In Android 10 (and higher), wallpapers are supported
on secondary displays:</p>

<p><img src="../images/multi_display_06a.png"></p>
<p><img src="../images/multi_display_06b.png"></p>

<p><strong>Figure 2.</strong> Live wallpaper on internal (above) and external
displays (below)</p>

<p>Developers can declare support for the wallpaper feature by providing
<code translate="no" dir="ltr">android:supportsMultipleDisplays="true"</code> in the
<code translate="no" dir="ltr">WallpaperInfo</code> XML definition. Wallpaper developers are also
expected to load assets using the display context in
<code translate="no" dir="ltr">WallpaperService.Engine#getDisplayContext()</code>.</p>

<p>The framework creates one <code translate="no" dir="ltr">WallpaperService.Engine</code> instance
per display, so each engine has its own surface and display context. The
developer needs to make sure that each engine can draw independently, at
different frame rates, respecting VSYNC.</p>

<h3 id="individual-wallpaper">Selecting wallpapers for individual screens</h3>

<p>Android 10 doesn't provide direct platform support for selecting wallpapers
for individual screens. To accomplish this, a stable display identifier is
needed to persist wallpaper settings per display.
<code translate="no" dir="ltr">Display#getDisplayId()</code> is dynamic, so there's no guarantee that a
physical display will have the same ID after reboot.</p>

<p>However, Android 10 added <code translate="no" dir="ltr">DisplayInfo.mAddress</code>,
which contains stable identifiers for physical displays and can be used for a full
implementation in future. Unfortunately, it is too late to implement the logic
for Android 10. The suggested solution:</p>

<ol>
<li>Use the <code translate="no" dir="ltr">WallpaperManager</code> API to set the wallpapers.</li>
<li><code translate="no" dir="ltr">WallpaperManager</code> is obtained from a <code translate="no" dir="ltr">Context</code>
object, and each <code translate="no" dir="ltr">Context</code> object has information about corresponding
display (<code translate="no" dir="ltr">Context#getDisplay()/getDisplayId()</code>). Therefore, you can
obtain <code translate="no" dir="ltr">displayId</code> from a <code translate="no" dir="ltr">WallpaperManager</code> instance
without adding new methods.</li>
<li>On the framework side, use <code translate="no" dir="ltr">displayId</code> obtained from a
<code translate="no" dir="ltr">Context</code> object and map it to a static identifier (such as a port of
a physical display). Use the static identifier to persist the chosen wallpaper.</li>
</ol>

<p>This workaround uses existing implementations for wallpaper pickers. If it
was opened on a specific display and uses the right context, then when it
calls to set a wallpaper, the system can automatically identify the display.</p>

<p>If there's a need to set wallpaper for a display other than the current
display, then create a new <code translate="no" dir="ltr">Context</code> object for the target display
(<code translate="no" dir="ltr">Context#createDisplayContext</code>) and obtain the
<code translate="no" dir="ltr">WallpaperManager</code> instance from that display.</p>

<h3 id="security-launcher">Security restrictions</h3>

<p>The system won't show wallpapers on virtual displays that it doesn't own.
This is due to a security concern that a malicious app could create a virtual
display with enabled system decorations support and read a user-sensitive
information from the surface (such as a personal photo).</p>

<h3 id="implementation-launcher">Implementation</h3>

<p>In Android 10, the <code translate="no" dir="ltr">IWallpaperConnection#attachEngine()</code>
and <code translate="no" dir="ltr">IWallpaperService#attach()</code> interfaces accept the
<code translate="no" dir="ltr">displayId</code> parameter to create per-display connections.
<code translate="no" dir="ltr">WallpaperManagerService.DisplayConnector</code> encapsulates a per-display
wallpaper engine and connection. In WindowManager, wallpaper controllers are
created for each <code translate="no" dir="ltr">DisplayContent</code> object at construction instead of a
single <code translate="no" dir="ltr">WallpaperController</code> for all displays.</p>

<p>Some of the public <code translate="no" dir="ltr">WallpaperManager</code> method implementations (such as
<code translate="no" dir="ltr">WallpaperManager#getDesiredMinimumWidth()</code>) were updated to compute
and provide information for corresponding displays.
<code translate="no" dir="ltr">WallpaperInfo#supportsMultipleDisplays()</code> and a corresponding
resource attribute were added, so that app developers can report which
wallpapers are ready for multiple screens.</p>

<p>If the wallpaper service shown on the default display doesn't support
multiple displays, then the system shows the default wallpaper on the secondary
displays.</p>

<p><img src="../images/multi_display_07.png"></p>

<p><strong>Figure 3. </strong>Wallpaper fallback logic for secondary displays</p>

  
          </div>

    
                   <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0">
         </devsite-page-rating>
                   
          </article>
</article>

<devsite-content-footer class="nocontent">
  <p>Content and code samples on this page are subject to the licenses described in the <a href="../../../../license.html">Content License</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
</devsite-content-footer>


                      </devsite-content>
        </div>
        <devsite-footer-promos class="devsite-footer">
                      
                  </devsite-footer-promos>
        <devsite-footer-linkboxes class="devsite-footer">
                      <nav class="devsite-footer-linkboxes nocontent">
  <ul class="devsite-footer-linkboxes-list">
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Build</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://android.googlesource.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            Android repository
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="../../../../setup/build/requirements.html"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            Requirements
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="../../../../setup/build/downloading.html"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Downloading
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/blobs-preview/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            Preview binaries
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/images/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Factory images
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/drivers/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Driver binaries
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://android.github.io/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            GitHub
          </a>
        </li>
              </ul>
    </li>
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Connect</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://twitter.com/Android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            @Android on Twitter
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://twitter.com/AndroidDev/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            @AndroidDev on Twitter
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://blog.google/products/android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Android Blog
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://security.googleblog.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            Google Security Blog
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-platform/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Platform on Google Groups
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-building/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Building on Google Groups
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-porting/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            Porting on Google Groups
          </a>
        </li>
              </ul>
    </li>
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Get help</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            Android Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/pixelphone/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            Pixel Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/nexus/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Nexus Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://www.android.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            www.android.com
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://www.android.com/gms/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Google Mobile Services
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://stackoverflow.com/questions/tagged/android-source/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Stack Overflow
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://issuetracker.google.com/issues?q=status:open%20componentid:190923"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            Issue Tracker
          </a>
        </li>
              </ul>
    </li>
      </ul>
</nav>
                  </devsite-footer-linkboxes>
        <devsite-footer-utility class="devsite-footer">
                      
<div class="devsite-footer-utility">
  
  <nav class="devsite-nav">
        <ul class="devsite-footer-utility-list">
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../../../source/index.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer About Android link">
          About Android
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../../../setup/community.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer Community link">
          Community
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../../../legal.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer Legal link">
          Legal
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../../../license.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer License link">
          License
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="http://policies.google.cn/privacy"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link">
          Privacy
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="http://issuetracker.google.com/issues/new?component=191476"
           data-category="Site-Wide Custom Events"
           data-label="Footer Site feedback link">
          Site feedback
        </a>
              </li>
          </ul>
    
    <devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    <select class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
                <option>Language</option>
              <option value="en"
              track-metadata-original-language="en"
              track-metadata-selected-language="en"
              track-name="changed"
              track-type="languageSelector"
            >
        English
      </option>
          <option value="zh_cn"
              track-metadata-original-language="en"
              track-metadata-selected-language="zh_cn"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 简体
      </option>
        </select>
  </devsite-select>
</devsite-language-selector>

  </nav>
</div>
                  </devsite-footer-utility>
      </div></div>
    <devsite-sitemask></devsite-sitemask>
    <devsite-snackbar                   ></devsite-snackbar>    <devsite-tooltip blocked-link></devsite-tooltip>
    <devsite-analytics>
              <script type="application/json" analytics>[{"metrics": {"ratings_value": "metric1", "ratings_count": "metric2"}, "dimensions": {}, "gaid": "UA-45455297-4"}]</script>
<script type="application/json" gtm>[]</script>
          </devsite-analytics>
        <script>
    (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;
    t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];
    E.parentNode.insertBefore(t,E);})(window, document, 'script',
    'https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/js/app_loader.js', '[7,"en",null,"../../../../js/devsite_app.html","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource","https://androidsource-dot-google-developers.gonglchuangl.net/",null,null,["/_pwa/androidsource/manifest.json","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/images/video-placeholder.svg","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/favicon.png","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/lockup.svg","https://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons"]]')
  </script>  </body>

<!-- Mirrored from source.android.google.cn/devices/tech/display/multi_display/system-decorations by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 09 Sep 2019 15:02:29 GMT -->
</html>