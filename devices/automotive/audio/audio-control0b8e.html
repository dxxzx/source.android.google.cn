<!doctype html>
<html  lang="zh_cn">
  
<!-- Mirrored from source.android.google.cn/devices/automotive/audio/audio-control.html?hl=zh-cn by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 16 Mar 2019 21:05:44 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
          
<title>实现 AudioControl HAL &nbsp;|&nbsp; Android Open Source Project</title>

<meta property="og:title" content="实现 AudioControl HAL &nbsp;|&nbsp; Android Open Source Project">

  <meta property="og:url" content="audio-control.html">

  <meta property="og:locale" content="zh_cn">


    
    
    
  
        <meta property="og:site_name" content="Android Open Source Project">
    <meta property="og:type" content="website">
    
          <meta name="theme-color" content="#78c257">
    
    <meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="../../../_pwa/androidsource/manifest.json">
    <link rel="preconnect" href="http://www.gstatic.com/" crossorigin>
    <link rel="preconnect" href="http://fonts.gstatic.com/" crossorigin>
    <link rel="preconnect" href="http://fonts.googleapis.com/" crossorigin>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons">
    <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/css/app.css">
    <noscript>
      <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/css/ce_bundle.css">
    </noscript>
    <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/images/favicon.png">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/images/touchicon-180.png"><link rel="canonical" href="audio-control.html"></head>
  <body type="article"
        theme="androidsource-theme"
        class=""
        
        layout="docs"
        pending>
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
    <div class="devsite-wrapper"><devsite-header ds-is="header" keep-tabs-visible>
      








<div class="devsite-header--inner">
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="Close menu">
        </button>
        <div class="devsite-product-name-wrapper">
  <a href="../../../index0b8e.html?hl=zh-cn" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo">
  <img src="https://www.gstatic.cn/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/images/lockup.svg" class="devsite-site-logo" alt="Android Open Source Project">
</a>
            <span class="devsite-product-name">
            <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item">
                              </li>
  </ul>
          </span>
        
</div>        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
                          <devsite-tabs ds-is="tabs" class="upper-tabs">
  <div class="devsite-tabs-wrapper">
                  <tab >
          <a href="../../../setup0b8e.html?hl=zh-cn"
   class="gc-analytics-event"
   title="设置"
           data-category="Site-Wide Custom Events"
        data-label="Tab: 设置"
   >
  设置
</a>

        </tab>
                        <tab >
          <a href="../../../compatibility0b8e.html?hl=zh-cn"
   class="gc-analytics-event"
   title="设计"
           data-category="Site-Wide Custom Events"
        data-label="Tab: 设计"
   >
  设计
</a>

        </tab>
                        <tab >
          <a href="../../../security0b8e.html?hl=zh-cn"
   class="gc-analytics-event"
   title="安全性"
           data-category="Site-Wide Custom Events"
        data-label="Tab: 安全性"
   >
  安全性
</a>

        </tab>
                        <tab active>
          <a href="../../audio0b8e.html?hl=zh-cn"
   class="gc-analytics-event"
   title="开发"
   aria-label="开发, selected"         data-category="Site-Wide Custom Events"
        data-label="Tab: 开发"
   >
  开发
</a>

        </tab>
                        <tab >
          <a href="../../tech/dalvik0b8e.html?hl=zh-cn"
   class="gc-analytics-event"
   title="配置"
           data-category="Site-Wide Custom Events"
        data-label="Tab: 配置"
   >
  配置
</a>

        </tab>
                        <tab >
          <a href="../../../reference0b8e.html?hl=zh-cn"
   class="gc-analytics-event"
   title="参考"
           data-category="Site-Wide Custom Events"
        data-label="Tab: 参考"
   >
  参考
</a>

        </tab>
            </div>
</devsite-tabs>

                       </div>
          <devsite-search ds-is="search"
            enable-suggestions
                  project-path="">
  <form class="devsite-search-form" action="https://source.android.google.cn/s/results/?hl=zh-cn" method="GET">
    <div class="devsite-search-container">
      <div id="searchbox" class="devsite-searchbox">
                <input placeholder="搜索"
          type="text"
          class="devsite-search-field devsite-search-query"
          name="q"
          value=""
          autocomplete="off"
                    aria-label="搜索框">
        <div class="devsite-search-image material-icons"></div>
      </div>
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              aria-label="Open search box"></button>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          aria-label="Close search box"></button>
</devsite-search>

        </div>

                <a class="devsite-header-link devsite-top-button button gc-analytics-event"
           href="http://android-review.googlesource.com/"
           data-category="Site-Wide Custom Events"
           data-label="Site header link">
          转到源代码
        </a>
                      </div>    </div>  </div>
  <div class="devsite-collapsible-section
    ">
    <div class="devsite-header-background">
                        <div class="devsite-product-id-row">
            <div class="devsite-product-description-row">
                              <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item">
                    <a href="../../audio0b8e.html?hl=zh-cn"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Lower Header"
              data-value="1"
          >
            开发
      
  </a>
        </li>
  </ul>
                                        </div>
                                                                                    </div>
                                      <div class="devsite-doc-set-nav-row">
                              <devsite-tabs ds-is="tabs" class="lower-tabs">
  <div class="devsite-tabs-wrapper">
                  <tab >
          <a href="../../audio0b8e.html?hl=zh-cn"
   class="gc-analytics-event"
   title="音频"
           data-category="Site-Wide Custom Events"
        data-label="Tab: 音频"
   >
  音频
</a>

        </tab>
                        <tab >
          <a href="../../camera0b8e.html?hl=zh-cn"
   class="gc-analytics-event"
   title="相机"
           data-category="Site-Wide Custom Events"
        data-label="Tab: 相机"
   >
  相机
</a>

        </tab>
                        <tab >
          <a href="../../tech/connect0b8e.html?hl=zh-cn"
   class="gc-analytics-event"
   title="连接"
           data-category="Site-Wide Custom Events"
        data-label="Tab: 连接"
   >
  连接
</a>

        </tab>
                        <tab >
          <a href="../../graphics0b8e.html?hl=zh-cn"
   class="gc-analytics-event"
   title="图形"
           data-category="Site-Wide Custom Events"
        data-label="Tab: 图形"
   >
  图形
</a>

        </tab>
                        <tab active>
          <a href="../../input0b8e.html?hl=zh-cn"
   class="gc-analytics-event"
   title="互动"
   aria-label="互动, selected"         data-category="Site-Wide Custom Events"
        data-label="Tab: 互动"
   >
  互动
</a>

        </tab>
                        <tab >
          <a href="../../media0b8e.html?hl=zh-cn"
   class="gc-analytics-event"
   title="媒体"
           data-category="Site-Wide Custom Events"
        data-label="Tab: 媒体"
   >
  媒体
</a>

        </tab>
                        <tab >
          <a href="../../storage0b8e.html?hl=zh-cn"
   class="gc-analytics-event"
   title="存储"
           data-category="Site-Wide Custom Events"
        data-label="Tab: 存储"
   >
  存储
</a>

        </tab>
            </div>
</devsite-tabs>

        </div>
          </div>  </div></div>
  

  </devsite-header>      <devsite-book-nav ds-is="book-nav" scrollbars >
                  

<nav class="devsite-book-nav devsite-nav nocontent">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="Close navigation">
    </button>
  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
              <ul class="devsite-nav-list">
                      <li class="devsite-nav-item">
                                <a href="../../../setup.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 设置">
      <span class="devsite-nav-text" >设置</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../../compatibility.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 设计">
      <span class="devsite-nav-text" >设计</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../../security.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 安全性">
      <span class="devsite-nav-text" >安全性</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../audio.html"
          class="devsite-nav-title gc-analytics-event
            devsite-nav-active"
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 开发">
      <span class="devsite-nav-text" >开发</span>
        </a>
  
                                            <ul class="devsite-nav-responsive-tabs">
                                                                                                                      <li class="devsite-nav-item">
    <a href="../../audio.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 音频">
      <span class="devsite-nav-text" >音频</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../../camera.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 相机">
      <span class="devsite-nav-text" >相机</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../../tech/connect.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 连接">
      <span class="devsite-nav-text" >连接</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../../graphics.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 图形">
      <span class="devsite-nav-text" >图形</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../../input.html"
     id="devsite-nav-forward"     class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 互动">
      <span class="devsite-nav-text" menu="_book">互动</span>
        <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="_book">
    </span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../../media.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 媒体">
      <span class="devsite-nav-text" >媒体</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../../storage.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 存储">
      <span class="devsite-nav-text" >存储</span>
        </a>
  </li>

                                  </ul>
                          </li>
                      <li class="devsite-nav-item">
                                <a href="../../tech/dalvik.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 配置">
      <span class="devsite-nav-text" >配置</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../../reference.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 参考">
      <span class="devsite-nav-text" >参考</span>
        </a>
  
                                        </li>
                                <li class="devsite-nav-item">
    <a href="http://android-review.googlesource.com/"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 转到源代码">
      <span class="devsite-nav-text" >转到源代码</span>
        </a>
  </li>

                  </ul>
          </div>
          <div class="devsite-mobile-nav-bottom">
                                      <ul class="devsite-nav-list" menu="_book">
                                    <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav ds-is="expandable-nav" collapsed>
    <a class="devsite-nav-toggle"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="输入">输入</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../../input.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="概览">概览</span></a></li><li class="devsite-nav-item"><a href="../../input/key-layout-files.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="按键布局文件">按键布局文件</span></a></li><li class="devsite-nav-item"><a href="../../input/key-character-map-files.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="按键字符映射文件">按键字符映射文件</span></a></li><li class="devsite-nav-item"><a href="../../input/input-device-configuration-files.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="输入设备配置文件">输入设备配置文件</span></a></li><li class="devsite-nav-item"><a href="../../input/migration-guide.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="迁移指南">迁移指南</span></a></li><li class="devsite-nav-item"><a href="../../input/keyboard-devices.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="键盘设备">键盘设备</span></a></li><li class="devsite-nav-item"><a href="../../input/touch-devices.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="触摸设备">触摸设备</span></a></li><li class="devsite-nav-item"><a href="../../input/getevent.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Getevent">Getevent</span></a></li><li class="devsite-nav-item"><a href="../../input/validate-keymaps.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="验证按键映射">验证按键映射</span></a></li></ul></devsite-expandable-nav></li>
                          <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav ds-is="expandable-nav" collapsed>
    <a class="devsite-nav-toggle"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="汽车">汽车</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../../automotive.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="概览">概览</span></a></li><li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav ds-is="expandable-nav" collapsed>
    <a class="devsite-nav-toggle"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="音频">音频</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../audio.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="概览">概览</span></a></li><li class="devsite-nav-item"><a href="audio-hal.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="音频 HAL">音频 HAL</span></a></li><li class="devsite-nav-item"><a href="audio-control.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="AudioControl HAL">AudioControl HAL</span></a></li><li class="devsite-nav-item"><a href="interaction-sequences.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="互动序列">互动序列</span></a></li><li class="devsite-nav-item"><a href="multi-zone.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="多地区">多地区</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item"><a href="../camera-hal-2.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="相机 HAL">相机 HAL</span></a></li><li class="devsite-nav-item"><a href="../ivi_connectivity-2.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="IVI 连接">IVI 连接</span></a></li><li class="devsite-nav-item"><a href="../properties.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="车辆属性">车辆属性</span></a></li><li class="devsite-nav-item"><a href="../../tech/perf/flash-wear-2.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="闪存磨损管理">闪存磨损管理</span></a></li></ul></devsite-expandable-nav></li>
                          <li class="devsite-nav-item"><a href="../../interaction/neural-networks.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="神经网络">神经网络</span></a></li>
                          <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav ds-is="expandable-nav" collapsed>
    <a class="devsite-nav-toggle"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="外设">外设</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../../accessories.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="概览">概览</span></a></li><li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav ds-is="expandable-nav" collapsed>
    <a class="devsite-nav-toggle"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="音频配件">音频配件</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../../accessories/audio.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="概览">概览</span></a></li><li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav ds-is="expandable-nav" collapsed>
    <a class="devsite-nav-toggle"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="3.5 毫米耳机">3.5 毫米耳机</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../../accessories/headset/plug-headset-spec.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="耳机规格">耳机规格</span></a></li><li class="devsite-nav-item"><a href="../../accessories/headset/jack-headset-spec.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="设备规格">设备规格</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav ds-is="expandable-nav" collapsed>
    <a class="devsite-nav-toggle"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="USB 耳机">USB 耳机</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../../accessories/headset/usb-headset-spec.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="耳机规格">耳机规格</span></a></li><li class="devsite-nav-item"><a href="../../accessories/headset/usb-adapter.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="适配器规格">适配器规格</span></a></li><li class="devsite-nav-item"><a href="../../accessories/headset/usb-device.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="设备规格">设备规格</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item"><a href="../../accessories/headset/expected-behavior.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="预期行为">预期行为</span></a></li><li class="devsite-nav-item"><a href="../../accessories/headset/testing.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="测试">测试</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav ds-is="expandable-nav" collapsed>
    <a class="devsite-nav-toggle"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="自定义配件">自定义配件</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../../accessories/custom.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="概览">概览</span></a></li><li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav ds-is="expandable-nav" collapsed>
    <a class="devsite-nav-toggle"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="AOA">AOA</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../../accessories/protocol.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="概览">概览</span></a></li><li class="devsite-nav-item"><a href="../../accessories/aoa2.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="AOA 2.0">AOA 2.0</span></a></li><li class="devsite-nav-item"><a href="../../accessories/aoa.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="AOA 1.0">AOA 1.0</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item"><a href="../../accessories/stylus.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="触控笔">触控笔</span></a></li></ul></devsite-expandable-nav></li></ul></devsite-expandable-nav></li>
                          <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav ds-is="expandable-nav" collapsed>
    <a class="devsite-nav-toggle"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="传感器">传感器</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../../sensors.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="概览">概览</span></a></li><li class="devsite-nav-item"><a href="../../sensors/sensor-stack.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="传感器堆栈">传感器堆栈</span></a></li><li class="devsite-nav-item"><a href="../../sensors/report-modes.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="报告模式">报告模式</span></a></li><li class="devsite-nav-item"><a href="../../sensors/suspend-mode.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="挂起模式">挂起模式</span></a></li><li class="devsite-nav-item"><a href="../../sensors/power-use.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="耗电量">耗电量</span></a></li><li class="devsite-nav-item"><a href="../../sensors/interaction.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="互动">互动</span></a></li><li class="devsite-nav-item"><a href="../../sensors/hal-interface.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="HAL 接口">HAL 接口</span></a></li><li class="devsite-nav-item"><a href="../../sensors/batching.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="批处理">批处理</span></a></li><li class="devsite-nav-item"><a href="../../sensors/sensor-types.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="传感器类型">传感器类型</span></a></li><li class="devsite-nav-item"><a href="../../sensors/versioning.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="版本弃用">版本弃用</span></a></li></ul></devsite-expandable-nav></li>
                          <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav ds-is="expandable-nav" collapsed>
    <a class="devsite-nav-toggle"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="TV">TV</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../../tv.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="概览">概览</span></a></li><li class="devsite-nav-item"><a href="../../tv/hdmi-cec.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="HDMI-CEC 控制服务">HDMI-CEC 控制服务</span></a></li><li class="devsite-nav-item"><a href="../../tv/reference-tv-app.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="参考 TV 应用">参考 TV 应用</span></a></li><li class="devsite-nav-item"><a href="../../tv/customize-tv-app.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="自定义 TV 应用">自定义 TV 应用</span></a></li></ul></devsite-expandable-nav></li>
                      </ul>
                                                                                                                                                                            </div>
      </div>
</nav>
              </devsite-book-nav>
      <div id="gc-wrapper">
        <div class="devsite-main-content"
            has-book-nav            has-toc>
          <devsite-toc ds-is="toc" class="devsite-nav"
            ></devsite-toc>
          <devsite-content ds-is="content">
                          

<article class="devsite-article">
  <article class="devsite-article-inner">    
    <div class="devsite-article-meta">
      <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item">
                    <a href="../../../index0b8e.html?hl=zh-cn"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="1"
          >
            AOSP
      
  </a>
        </li>
    <li class="devsite-breadcrumb-item">
                <div class="devsite-breadcrumb-guillemet material-icons"></div>
                    <a href="../../audio0b8e.html?hl=zh-cn"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="2"
          >
            开发
      
  </a>
        </li>
    <li class="devsite-breadcrumb-item">
                <div class="devsite-breadcrumb-guillemet material-icons"></div>
                    <a href="../../input0b8e.html?hl=zh-cn"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="3"
          >
            互动
      
  </a>
        </li>
  </ul>
               <devsite-page-rating position="header" selected-rating="0" hover-rating-star="0">
         </devsite-page-rating>
          </div>

              <h1 class="devsite-page-title">实现 AudioControl HAL</h1>
    
    <devsite-toc ds-is="toc" class="devsite-nav" devsite-toc-embedded
                 ></devsite-toc>

    <div class="devsite-article-body clearfix
      ">

              
  <!--
      Copyright 2018 The Android Open Source Project

      Licensed under the Apache License, Version 2.0 (the "License");
      you may not use this file except in compliance with the License.
      You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

      Unless required by applicable law or agreed to in writing, software
      distributed under the License is distributed on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      See the License for the specific language governing permissions and
      limitations under the License.
  -->

<p>
Android 9 弃用了之前各版车载 HAL 中的 <code>AUDIO_*</code> 属性，并改为使用包含显式函数调用和已输入参数列表的专用音频控制 HAL。
</p>

<p>
这个新的 HAL 提供了 <code>IAudioControl</code> 作为主接口对象，该对象负责提供出于配置和音量控制目的与车辆的音频引擎进行交互所需的入口点。系统可以包含该对象的一个实例，即 <code>CarAudioService</code> 启动时创建的实例。该对象是传统 Android 音频 HAL 的汽车扩展；在大多数实现中，发布音频 HAL 接口的进程还应发布 <code>IAudioControl interfaces</code>。
</p>

<h2 id="supported-interfaces">支持的接口</h2>

<p>
<code>AudioControl</code> HAL 支持以下接口：
</p>

<ul>
  <li><code><strong>getBusforContext</strong></code>：在启动时针对每个上下文调用一次，以获取从 <code>ContextNumber</code> 到 <code>busAddress</code> 的映射。用法示例：

<pre class="prettyprint">
getBusForContext(ContextNumber contextNumber)
    generates (uint32_t busNumber);
</pre>

使车辆能够针对每个上下文告诉框架将物理输出音频流路由到哪里。对于每个上下文，必须返回有效的总线编号（0 - 总线数-1）。如果遇到无法识别的 <code>contextNumber</code>，则应返回 -1。对于任何上下文，如果返回无效的 <code>busNumber</code>，都会路由到总线 0。
<br /><br />
任何通过此机制与同一个 <code>busNumber</code> 相关联的并发声音都会先通过 Android <code>AudioFlinger</code> 进行混音，然后才会作为单个音频流提供给音频 HAL。这会取代车载 HAL 属性 <code>AUDIO_HW_VARIANT</code> 和 <code>AUDIO_ROUTING_POLICY</code>。
  </li>

  <li><code><strong>setBalanceTowardRight</strong></code>：用于控制车载音响设备的右/左平衡设置。用法示例：

<pre class="prettyprint">
setBalanceTowardRight(float value);
</pre>

将音响设备音量调向汽车右侧 (+) 或左侧 (-)。0.0 表示在中间，+1.0 表示完全调到右侧，-1.0 表示完全调到左侧，如果值未在 -1 到 1 之间，则是错误的。
  </li>

  <li><code><strong>setFadeTowardFront</strong></code>。用于控制车载音响设备的前/后淡化设置。用法示例：

<pre class="prettyprint">
setFadeTowardFront(float value);
</pre>

将音响设备音量调向汽车前面 (+) 或后面 (-)。0.0 表示在中间，+1.0 表示完全调到前面，-1.0 表示完全调到后面，如果值未在 -1 到 1 之间，则是错误的。
  </li>
</ul>

<h2 id="configure-volume">配置音量</h2>

<p>
Android Automotive 实现应使用硬件放大器（而非软件混音器）来控制音量。为避免产生副作用，请在 <code>device/generic/car/emulator/audio/overlay/frameworks/base/core/res/res/values/config.xml</code> 中将 <code>config_useFixedVolume</code> 标记设为 <code>true</code>（根据需要叠加）：
</p>

<pre class="prettyprint">
&lt;resources&gt;
    &lt;!-- Car uses hardware amplifier for volume. --&gt;
    &lt;bool name="config_useFixedVolume"&gt;true&lt;/bool&gt;
&lt;/resources&gt;
</pre>

<p>
<code>config_useFixedVolume</code> 标记未设置或设为 <code>false</code> 时，应用可以调用 <code>AudioManager.setStreamVolume()</code>，并在软件混音器中按音频流类型更改音量。用户可能不希望出现这种情况，因为这会对其他应用带来潜在影响，而且使用硬件放大器接收信号时，软件混音器中的音量衰减会导致信号中的可用有效位减少。
</p>

<h2 id="configure-volume-groups">配置音量组</h2>

<p>
  <code>CarAudioService</code> 使用 <code>packages/services/Car/service/res/xml/car_volume_group.xml</code> 中定义的音量组。您可以替换此文件，以便根据需要重新定义音量组。系统在运行时会按 XML 文件中的定义顺序来识别音量组。ID 介于 0 到 N-1 之间，其中 N 是音量组的数量。示例：
</p>

<pre class="prettyprint">
&lt;volumeGroups xmlns:car="http://schemas.android.com/apk/res-auto"&gt;
    &lt;group&gt;
        &lt;context car:context="music"/&gt;
        &lt;context car:context="call_ring"/&gt;
        &lt;context car:context="notification"/&gt;
        &lt;context car:context="system_sound"/&gt;
    &lt;/group&gt;
    &lt;group&gt;
        &lt;context car:context="navigation"/&gt;
        &lt;context car:context="voice_command"/&gt;
    &lt;/group&gt;
    &lt;group&gt;
        &lt;context car:context="call"/&gt;
    &lt;/group&gt;
    &lt;group&gt;
        &lt;context car:context="alarm"/&gt;
    &lt;/group&gt;
&lt;/volumeGroups&gt;
</pre>

<p>
此配置中使用的属性在 <code>packages/services/Car/service/res/values/attrs.xml</code> 中定义。
</p>

<h2 id="handle-volumn-key-events">处理音量键事件</h2>

<p>
Android 定义了一些用于控制音量的键码，包括 <code>KEYCODE_VOLUME_UP</code>、<code>KEYCODE_VOLUME_DOWN</code> 和 <code>KEYCODE_VOLUME_MUTE</code>。默认情况下，Android 会将音量键事件路由到应用。Automotive 实现应强制将这些键事件路由到 <code>CarAudioService</code>，以便该服务可以根据情况适当地调用 <code>setGroupVolume</code> 或 <code>setMasterMute</code>。
</p>

<p>
要强制实现此行为，请在 <code>device/generic/car/emulator/car/overlay/frameworks/base/core/res/res/values/config.xml</code> 中将 <code>config_handleVolumeKeysInWindowManager</code> 标记设为 <code>true</code>：
</p>

<pre class="prettyprint">
&lt;resources&gt;
    &lt;bool name="config_handleVolumeKeysInWindowManager"&gt;true&lt;/bool&gt;
&lt;/resources&gt;
</pre>

<h2 id="caraudiomanager-api">CarAudioManager API</h2>

<p>
<code>CarAudioManager</code> 使用 <code>CarAudioService</code> 来配置和控制车载音频系统。该管理器对于系统中的大多数应用来说都是不可见的，但车辆专用组件（如音量控制器）可以使用 <code>CarAudioManager</code> API 与系统交互。
</p>

<p>
下文介绍了 Android 9 对 <code>CarAudioManager API</code> 所做的更改。
</p>

<h3 id="deprecated-apis">弃用的 API</h3>

<p>
Android 9 通过现有的 <code>AudioManager</code> <code>getDeviceList</code> API 处理设备枚举，因此弃用并移除了以下车辆专用函数：
</p>

<ul>
  <li><code>String[] getSupportedExternalSourceTypes()</code></li>
  <li><code>String[] getSupportedRadioTypes()</code></li>
</ul>

<p>
Android 9 使用 <code>AudioAttributes.AttributeUsage</code> 或基于音量组的入口点处理音量，因此移除了以下依赖于 <code>streamType</code> 的 API：
</p>

<ul>
  <li><code>void setStreamVolume(int streamType, int index, int flags)</code>
  </li>
  <li><code>int getStreamMaxVolume(int streamType)</code></li>
  <li><code>int getStreamMinVolume(int streamType)</code></li>
  <li><code>void setVolumeController(IVolumeController controller)</code></li>
</ul>

<h3 id="new-apis">新增的 API</h3>

<p>
Android 9 添加了以下用于控制放大器硬件的新 API（明确基于音量组）：
</p>

<ul>
  <li><code>int getVolumeGroupIdForUsage(@AudioAttributes.AttributeUsage int
  usage)</code></li>
  <li><code>int getVolumeGroupCount()</code></li>
  <li><code>int getGroupVolume(int groupId)</code></li>
  <li><code>int getGroupMaxVolume(int groupId)</code></li>
  <li><code>int getGroupMinVolume(int groupId)</code></li>
</ul>

<p>
Android 9 还提供了以下全新的系统 API 供系统 GUI 使用：
</p>

<ul>
  <li><code>void setGroupVolume(int groupId, int index, int flags)</code></li>
  <li><code>void registerVolumeChangeObserver(@NonNull ContentObserver
  observer)</code></li>
  <li><code>void unregisterVolumeChangeObserver(@NonNull ContentObserver
  observer)</code></li>
  <li><code>void registerVolumeCallback(@NonNull IBinder binder)</code></li>
  <li><code>void unregisterVolumeCallback(@NonNull IBinder binder)</code></li>
  <li><code>void setFadeToFront(float value)</code></li>
  <li><code>Void setBalanceToRight(float value)</code></li>
</ul>

<p>
此外，Android 9 还添加了用于管理外部来源的新 API。这些 API 主要用于支持根据媒体类型将音频从外部来源路由到输出总线。借助这些 API，第三方应用还能够访问外部设备。
</p>

<ul>
  <li><code>String[] getExternalSources()</code>：返回一个地址数组，这些地址用于识别系统中 <code>AUX_LINE</code>、<code>FM_TUNER</code>、<code>TV_TUNER</code> 和 <code>BUS_INPUT</code> 类型的可用音频端口。</li>
  <li><code>CarPatchHandle createAudioPatch(String sourceAddress, int
  carUsage)</code>：将来源地址路由到与所提供的 <code>carUsage</code> 关联的输出 <code>BUS</code>。</li>
  <li><code>int releaseAudioPatch(CarPatchHandle patch)</code>：移除所提供的音频通路。如果 <code>CarPatchHandle</code> 的创建者意外终止，则由 <code>AudioPolicyService::removeNotificationClient()</code> 自动处理。</li>
</ul>

<h2 id="create-audio-patches">创建音频通路</h2>

<p>
您可以在两个音频端口（混音端口或设备端口）之间创建音频通路。通常，从混音端口到设备端口的音频通路用于播放音频，而从设备端口到混音端口的音频通路则用于捕获音频。</p>

<p>
例如，将音频样本直接从 <code>FM_TUNER</code> 来源路由到媒体接收器的音频通路会绕过软件混音器。因此，您必须使用硬件混音器为接收器将来自 Android 和 <code>FM_TUNER</code> 的音频样本进行混音。创建直接从 <code>FM_TUNER</code> 来源到媒体接收器的音频通路时：
</p>

<ul>
  <li>音量控制会应用于媒体接收器，并且应该会影响 Android 和 <code>FM_TUNER</code> 音频。</li>
  <li>用户应该能够通过简单的应用切换在 Android 和 <code>FM_TUNER</code> 音频之间进行切换（应该不需要必须选择显式媒体来源）。</li>
</ul>

<p>
Automotive 实现可能还需要在两个设备端口之间创建音频通路。为此，您必须先在 <code>audio_policy_configuration.xml</code> 中声明设备端口和可能的路由，并将混音端口与这些设备端口相关联。
</p>

<h3 id="example-config">配置示例</h3>

<p>
另请参阅 <code>device/generic/car/emulator/audio/audio_policy_configuration.xml</code>。
</p>

<pre class="prettyprint">
&lt;audioPolicyConfiguration&gt;
    &lt;modules&gt;
        &lt;module name="primary" halVersion="3.0"&gt;
            &lt;attachedDevices&gt;
                &lt;item&gt;bus0_media_out&lt;/item&gt;
                &lt;item&gt;bus1_audio_patch_test_in&lt;/item&gt;
            &lt;/attachedDevices&gt;
            &lt;mixPorts&gt;
                &lt;mixPort name="mixport_bus0_media_out" role="source"
                        flags="AUDIO_OUTPUT_FLAG_PRIMARY"&gt;
                    &lt;profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
                            samplingRates="48000"
                            channelMasks="AUDIO_CHANNEL_OUT_STEREO"/&gt;
                &lt;/mixPort&gt;
                &lt;mixPort name="mixport_audio_patch_in" role="sink"&gt;
                    &lt;profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
                           samplingRates="48000"
                           channelMasks="AUDIO_CHANNEL_IN_STEREO"/&gt;
                &lt;/mixPort&gt;
            &lt;/mixPorts&gt;
            &lt;devicePorts&gt;
                &lt;devicePort tagName="bus0_media_out" role="sink" type="AUDIO_DEVICE_OUT_BUS"
                        address="bus0_media_out"&gt;
                    &lt;profile balance="" format="AUDIO_FORMAT_PCM_16_BIT"
                            samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/&gt;
                    &lt;gains&gt;
                        &lt;gain name="" mode="AUDIO_GAIN_MODE_JOINT"
                                minValueMB="-8400" maxValueMB="4000" defaultValueMB="0" stepValueMB="100"/&gt;
                    &lt;/gains&gt;
                &lt;/devicePort&gt;
                &lt;devicePort tagName="bus1_audio_patch_test_in" type="AUDIO_DEVICE_IN_BUS" role="source"
                        address="bus1_audio_patch_test_in"&gt;
                    &lt;profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
                            samplingRates="48000" channelMasks="AUDIO_CHANNEL_IN_STEREO"/&gt;
                    &lt;gains&gt;
                        &lt;gain name="" mode="AUDIO_GAIN_MODE_JOINT"
                                minValueMB="-8400" maxValueMB="4000" defaultValueMB="0" stepValueMB="100"/&gt;
                    &lt;/gains&gt;
                &lt;/devicePort&gt;
            &lt;/devicePorts&gt;
            &lt;routes&gt;
                &lt;route type="mix" sink="bus0_media_out" sources="mixport_bus0_media_out,bus1_audio_patch_test_in"/&gt;
                &lt;route type="mix" sink="mixport_audio_patch_in" sources="bus1_audio_patch_test_in"/&gt;
            &lt;/routes&gt;
        &lt;/module&gt;
    &lt;/modules&gt;
&lt;/audioPolicyConfiguration&gt;
</pre>

<h3 id="audio-driver-api">音频驱动程序 API</h3>

<p>
您可以使用 <code>getExternalSources()</code> 获取可用来源列表（按地址进行标识），然后按音频用法在这些来源和接收器端口之间创建音频通路。音频 HAL 上相应的入口点显示在 <code>IDevice.hal</code> 中：
</p>

<pre class="prettyprint">
Interface IDevice {
...
/**
* Creates an audio patch between several source and sink ports.  The handle
* is allocated by the HAL and must be unique for this audio HAL module.
*
* @param sources patch sources.
* @param sinks patch sinks.
* @return retval operation completion status.
* @return patch created patch handle.
*/
createAudioPatch(vec&lt;AudioPortConfig&gt; sources, vec&lt;AudioPortConfig&gt; sinks)
       generates (Result retval, AudioPatchHandle patch);

/**
* Release an audio patch.
*
* @param patch patch handle.
* @return retval operation completion status.
*/
releaseAudioPatch(AudioPatchHandle patch) generates (Result retval);
...
}
</pre>

<aside class="note"><strong>注意</strong>：这些 API 钩子从 AUDIO_DEVICE_API_VERSION_3_0 便已开始提供。如需了解更多详情，请参阅 <code>device/generic/car/emulator/audio/driver/audio_hw.c</code>。</aside>

<h2 id="configure-volume-settings-ui">配置音量设置界面</h2>

<p>
Android 9 将音量设置界面从音量组配置（该配置可叠加，如“配置音量组”中所述）中分离出来。这种分离可确保将来音量组配置发生更改时，无需对音量设置界面进行任何更改。
</p>

<p>
在汽车设置界面中，<code>packages/apps/Car/Settings/res/xml/car_volume_items.xml</code> 文件包含与每个定义的 <code>AudioAttributes.USAGE</code> 相关联的界面元素（标题和图标资源）。此文件通过使用与每个 VolumeGroup 中包含的首个识别出的用法相关联的资源，合理呈现已定义的 VolumeGroups。
</p>

<p>
例如，以下示例将 VolumeGroup 定义为同时包含 <code>voice_communication</code> 和 <code>voice_communication_signalling</code>。汽车设置界面的默认实现使用与 <code>voice_communication</code> 相关联的资源呈现 VolumeGroup，因为它是文件中的首个匹配项。
</p>

<pre class="prettyprint">
&lt;carVolumeItems xmlns:car="http://schemas.android.com/apk/res-auto"&gt;
    &lt;item car:usage="voice_communication"
          car:title="@*android:string/volume_call"
          car:icon="@*android:drawable/ic_audio_ring_notif"/&gt;
    &lt;item car:usage="voice_communication_signalling"
          car:title="@*android:string/volume_call"
          car:icon="@*android:drawable/ic_audio_ring_notif"/&gt;
    &lt;item car:usage="media"
          car:title="@*android:string/volume_music"
          car:icon="@*android:drawable/ic_audio_media"/&gt;
    &lt;item car:usage="game"
          car:title="@*android:string/volume_music"
          car:icon="@*android:drawable/ic_audio_media"/&gt;
    &lt;item car:usage="alarm"
          car:title="@*android:string/volume_alarm"
          car:icon="@*android:drawable/ic_audio_alarm"/&gt;
    &lt;item car:usage="assistance_navigation_guidance"
          car:title="@string/navi_volume_title"
          car:icon="@drawable/ic_audio_navi"/&gt;
    &lt;item car:usage="notification_ringtone"
          car:title="@*android:string/volume_ringtone"
          car:icon="@*android:drawable/ic_audio_ring_notif"/&gt;
    &lt;item car:usage="assistant"
          car:title="@*android:string/volume_unknown"
          car:icon="@*android:drawable/ic_audio_vol"/&gt;
    &lt;item car:usage="notification"
          car:title="@*android:string/volume_notification"
          car:icon="@*android:drawable/ic_audio_ring_notif"/&gt;
    &lt;item car:usage="notification_communication_request"
          car:title="@*android:string/volume_notification"
          car:icon="@*android:drawable/ic_audio_ring_notif"/&gt;
    &lt;item car:usage="notification_communication_instant"
          car:title="@*android:string/volume_notification"
          car:icon="@*android:drawable/ic_audio_ring_notif"/&gt;
    &lt;item car:usage="notification_communication_delayed"
          car:title="@*android:string/volume_notification"
          car:icon="@*android:drawable/ic_audio_ring_notif"/&gt;
    &lt;item car:usage="notification_event"
          car:title="@*android:string/volume_notification"
          car:icon="@*android:drawable/ic_audio_ring_notif"/&gt;
    &lt;item car:usage="assistance_accessibility"
          car:title="@*android:string/volume_notification"
          car:icon="@*android:drawable/ic_audio_ring_notif"/&gt;
    &lt;item car:usage="assistance_sonification"
          car:title="@*android:string/volume_unknown"
          car:icon="@*android:drawable/ic_audio_vol"/&gt;
    &lt;item car:usage="unknown"
          car:title="@*android:string/volume_unknown"
          car:icon="@*android:drawable/ic_audio_vol"/&gt;
&lt;/carVolumeItems&gt;
</pre>

<p>
上述配置中使用的属性和值在 <code>packages/apps/Car/Settings/res/values/attrs.xml</code> 中声明。音量设置界面使用以下基于 <code>VolumeGroup</code> 的 <code>CarAudioManager</code> API：
</p>

<ul>
  <li><code>getVolumeGroupCount()</code>：用于了解应绘制多少个控件。</li>
  <li><code>getGroupMinVolume()</code> 和 <code>getGroupMaxVolume()</code>：用于获取音量上限和下限。</li>
  <li><code>getGroupVolume()</code>：用于获取当前音量。</li>
  <li><code>registerVolumeChangeObserver()</code>：用于获取音量更改通知。</li>
</ul>


          </div>

    
                   <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0">
         </devsite-page-rating>
                   
          </article>
</article>

<devsite-content-footer ds-is="content-footer" class="nocontent">
  <p>Content and code samples on this page are subject to the licenses described in the <a href="../../../license0b8e.html?hl=zh-cn">Content License</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
</devsite-content-footer>


                      </devsite-content>
        </div>
        <devsite-footer-promos ds-is="footer-promos" class="devsite-footer">
                      
                  </devsite-footer-promos>
        <devsite-footer-linkboxes ds-is="footer-linkboxes" class="devsite-footer">
                      <nav class="devsite-footer-linkboxes nocontent">
  <ul class="devsite-footer-linkboxes-list">
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">构建</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://android.googlesource.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            Android 代码库
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="../../../setup/build/requirements.html"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            要求
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="../../../setup/build/downloading.html"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            下载
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/blobs-preview/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            预览二进制文件
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/images/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            出厂映像
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/drivers/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            驱动程序二进制文件
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://android.github.io/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            GitHub
          </a>
        </li>
              </ul>
    </li>
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">关注</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://twitter.com/Android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            在 Twitter 上 @Android
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://twitter.com/AndroidDev/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            在 Twitter 上 @AndroidDev
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://blog.google/products/android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Android 博客
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://security.googleblog.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            Google 安全博客
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-platform/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Google 网上论坛上的 Android 平台论坛
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-building/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Google 网上论坛上的 Android 构建论坛
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-porting/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            Google 网上论坛上的 Android 移植论坛
          </a>
        </li>
              </ul>
    </li>
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">获取帮助</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            Android 帮助中心
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/pixelphone/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            Pixel 帮助中心
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/nexus/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Nexus 帮助中心
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://www.android.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            www.android.com
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://www.android.com/gms/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Google Mobile Services
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://stackoverflow.com/questions/tagged/android-source/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Stack Overflow
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://issuetracker.google.com/issues?q=status:open%20componentid:190923"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            问题跟踪器
          </a>
        </li>
              </ul>
    </li>
      </ul>
</nav>
                  </devsite-footer-linkboxes>
        <devsite-footer-utility ds-is="footer-utility" class="devsite-footer">
                      <div class="devsite-footer-utility">
  
  <nav class="devsite-nav">
        <ul class="devsite-footer-utility-list">
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../../source/index0b8e.html?hl=zh-cn"
           data-category="Site-Wide Custom Events"
           data-label="Footer About Android link">
          关于 Android
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../../source/community0b8e.html?hl=zh-cn"
           data-category="Site-Wide Custom Events"
           data-label="Footer Community link">
          社区
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../../legal0b8e.html?hl=zh-cn"
           data-category="Site-Wide Custom Events"
           data-label="Footer Legal link">
          法律条款
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../../license0b8e.html?hl=zh-cn"
           data-category="Site-Wide Custom Events"
           data-label="Footer License link">
          许可
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="http://policies.google.cn/privacy?hl=zh-cn"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link">
          隐私权政策
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="http://issuetracker.google.com/issues/new?component=191476&amp;hl=zh-cn"
           data-category="Site-Wide Custom Events"
           data-label="Footer Site feedback link">
          网站反馈
        </a>
              </li>
          </ul>
    
        <form class="devsite-footer-utility-language">
      <select class="devsite-footer-utility-language-select"
              name="language"
              track-name="click"
              track-type="languageSelector">
                  <option value="en"
                  track-metadata-original-language="zh_cn"
                  track-metadata-selected-language="en"
                  track-name="changed"
                  track-type="languageSelector"
                  >
            English
          </option>
                  <option value="zh_cn"
                  track-metadata-original-language="zh_cn"
                  track-metadata-selected-language="zh_cn"
                  track-name="changed"
                  track-type="languageSelector"
                  selected="selected">
            简体中文
          </option>
              </select>
    </form>
      </nav>
</div>
                  </devsite-footer-utility>
      </div></div>
    <devsite-sitemask ds-is="site-mask"></devsite-sitemask>
    <devsite-snackbar ds-is="snackbar"                       ></devsite-snackbar>    <devsite-tooltip ds-is="tooltip"
                     blocked-link></devsite-tooltip>
    <devsite-analytics ds-is="analytics">
              <script type="application/json" analytics>[{"metrics": {"ratings_value": "metric1", "ratings_count": "metric2"}, "dimensions": {}, "gaid": "UA-45455297-4"}]</script>
<script type="application/json" gtm>[]</script>
          </devsite-analytics>
    <script>
    (function(d,e,v,E,l,o,p,r,s,_,__){d['GoogleDevelopersObject']=[!0,l,o,p,r,s];
    _=e.createElement(v);_.async=1;_.src=E;__=e.getElementsByTagName(v)[0];
    __.parentNode.insertBefore(_,__);})(window, document, 'script',
      'https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/js/app_loader.js',
      'zh_cn',
      'https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/js/devsite_app.js',
      'https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource',
      !1,
      ['/_pwa/androidsource/manifest.json',
       'https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/images/video-placeholder.svg',
       'https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/images/favicon.png','https://www.gstatic.com/devrel-devsite/v804714fbf31610f6bd494c83c2b0ed270c7475db2947bab1f550f430dad1ed36/androidsource/images/lockup.svg','https://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons'],
       'https://androidsource-dot-google-developers.gonglchuangl.net/')
   </script>  </body>

<!-- Mirrored from source.android.google.cn/devices/automotive/audio/audio-control.html?hl=zh-cn by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 16 Mar 2019 21:05:44 GMT -->
</html>