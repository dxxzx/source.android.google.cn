<!doctype html>
<html       lang="en"      dir="ltr">
  
<!-- Mirrored from source.android.google.cn/devices/camera/versioning by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 09 Sep 2019 14:57:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta property="og:site_name" content="Android Open Source Project">
    <meta property="og:type" content="website">
    
          <meta name="theme-color" content="#78c257">
    
    <meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="../../_pwa/androidsource/manifest.json"
          crossorigin="use-credentials">
    <link rel="preconnect" href="http://www.gstatic.com/" crossorigin>
    <link rel="preconnect" href="http://fonts.gstatic.com/" crossorigin>
    <link rel="preconnect" href="http://fonts.googleapis.com/" crossorigin>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons">
        <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/css/rebrand-app.css">
    <noscript>
      <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/css/ce_bundle.css">
    </noscript>
    <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/favicon.png">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/touchicon-180.png"><link rel="canonical" href="versioning.html">      
<title>Camera Version Support &nbsp;|&nbsp; Android Open Source Project</title>

<meta property="og:title" content="Camera Version Support &nbsp;|&nbsp; Android Open Source Project">


  <meta property="og:url" content="versioning.html">

  <meta property="og:locale" content="en">




    
    
    
  
    </head>
  <body type="article"
        theme="androidsource-theme"
        class=""
        
        layout="docs"
        block-apix        pending>
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
    <div class="devsite-wrapper"><devsite-header keep-tabs-visible>
      









<div class="devsite-header--inner">
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="Close menu">
        </button>
        <div class="devsite-product-name-wrapper">
  <a href="../../index.html" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo">
  <img src="https://www.gstatic.cn/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/lockup.svg" class="devsite-site-logo" alt="Android Open Source Project">
</a>
            <span class="devsite-product-name">
            <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                              </li>
  </ul>
          </span>
        
</div>        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
                          <devsite-tabs class="upper-tabs">
  <div class="devsite-tabs-wrapper">
                  <tab >
          <a href="../../setup.html"
   class="gc-analytics-event"
   title="Set up"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Set up"
   >
  Set up
</a>

        </tab>
                        <tab >
          <a href="../../compatibility.html"
   class="gc-analytics-event"
   title="Design"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Design"
   >
  Design
</a>

        </tab>
                        <tab >
          <a href="../../security.html"
   class="gc-analytics-event"
   title="Secure"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Secure"
   >
  Secure
</a>

        </tab>
                        <tab active>
          <a href="../../devices.html"
   class="gc-analytics-event"
   title="Develop"
   aria-label="Develop, selected"         data-category="Site-Wide Custom Events"
        data-label="Tab: Develop"
   >
  Develop
</a>

        </tab>
                        <tab >
          <a href="../tech.html"
   class="gc-analytics-event"
   title="Configure"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Configure"
   >
  Configure
</a>

        </tab>
                        <tab >
          <a href="../../reference.html"
   class="gc-analytics-event"
   title="Reference"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Reference"
   >
  Reference
</a>

        </tab>
            </div>
</devsite-tabs>

                       </div>
          <devsite-search
            enable-suggestions
              family-name="Android Open Source Project"    tenant-name="Android Open Source Project"            >
  <form class="devsite-search-form" action="https://source.android.google.cn/s/results" method="GET">
    <div class="devsite-search-container">
      <div class="devsite-searchbox">
                <input placeholder="Search"
          type="text"
          class="devsite-search-field devsite-search-query"
          name="q"
          value=""
          autocomplete="off"
                    aria-label="Search box">
        <div class="devsite-search-image material-icons" aria-hidden="true"></div>
      </div>
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              aria-label="Open search box"></button>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          aria-label="Close search box"></button>
</devsite-search>

        </div>

        <devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    <select class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
                <option>Language</option>
              <option value="en"
              track-metadata-original-language="en"
              track-metadata-selected-language="en"
              track-name="changed"
              track-type="languageSelector"
            >
        English
      </option>
          <option value="zh_cn"
              track-metadata-original-language="en"
              track-metadata-selected-language="zh_cn"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 简体
      </option>
        </select>
  </devsite-select>
</devsite-language-selector>


                  <a class="devsite-header-link devsite-top-button button gc-analytics-event"
   href="http://android-review.googlesource.com/"
   data-category="Site-Wide Custom Events"
   data-label="Site header link">
  Go to code
</a>
        
              </div>    </div>  </div>
  <div class="devsite-collapsible-section
    ">
    <div class="devsite-header-background">
                        <div class="devsite-product-id-row">
            <div class="devsite-product-description-row">
                              <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                    <a href="../../devices.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Lower Header"
              data-value="1"
          >
            Develop
      
  </a>
        </li>
  </ul>
                                        </div>
                                                                                    </div>
                                      <div class="devsite-doc-set-nav-row">
                              <devsite-tabs class="lower-tabs">
  <div class="devsite-tabs-wrapper">
                  <tab >
          <a href="../../devices.html"
   class="gc-analytics-event"
   title="Overview"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Overview"
   >
  Overview
</a>

        </tab>
                        <tab >
          <a href="../audio.html"
   class="gc-analytics-event"
   title="Audio"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Audio"
   >
  Audio
</a>

        </tab>
                        <tab active>
          <a href="../camera.html"
   class="gc-analytics-event"
   title="Camera"
   aria-label="Camera, selected"         data-category="Site-Wide Custom Events"
        data-label="Tab: Camera"
   >
  Camera
</a>

        </tab>
                        <tab >
          <a href="../tech/connect.html"
   class="gc-analytics-event"
   title="Connectivity"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Connectivity"
   >
  Connectivity
</a>

        </tab>
                        <tab >
          <a href="../graphics.html"
   class="gc-analytics-event"
   title="Graphics"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Graphics"
   >
  Graphics
</a>

        </tab>
                        <tab >
          <a href="../interaction.html"
   class="gc-analytics-event"
   title="Interaction"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Interaction"
   >
  Interaction
</a>

        </tab>
                        <tab >
          <a href="../media.html"
   class="gc-analytics-event"
   title="Media"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Media"
   >
  Media
</a>

        </tab>
                        <tab >
          <a href="../storage.html"
   class="gc-analytics-event"
   title="Storage"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Storage"
   >
  Storage
</a>

        </tab>
            </div>
</devsite-tabs>

        </div>
          </div>  </div></div>
  

  </devsite-header>      <devsite-book-nav scrollbars >
                  




<nav class="devsite-book-nav devsite-nav nocontent">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="Close navigation">
    </button>
    <div class="devsite-product-name-wrapper">
  <a href="../../index.html" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo">
  <img src="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/lockup.svg" class="devsite-site-logo" alt="Android Open Source Project">
</a>
        <span class="devsite-product-name">
        <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                              </li>
  </ul>
      </span>
    
</div>  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
              <ul class="devsite-nav-list">
                      <li class="devsite-nav-item">
                                <a href="../../setup.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Set up">
      <span class="devsite-nav-text" >Set up</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../compatibility.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Design">
      <span class="devsite-nav-text" >Design</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../security.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Secure">
      <span class="devsite-nav-text" >Secure</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../devices.html"
          class="devsite-nav-title gc-analytics-event
            devsite-nav-active"
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Develop">
      <span class="devsite-nav-text" >Develop</span>
        </a>
  
                                            <ul class="devsite-nav-responsive-tabs">
                                                                                                                      <li class="devsite-nav-item">
    <a href="../../devices.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Overview">
      <span class="devsite-nav-text" >Overview</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../audio.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Audio">
      <span class="devsite-nav-text" >Audio</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../camera.html"
     id="devsite-nav-forward"     class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Camera">
      <span class="devsite-nav-text" menu="_book">Camera</span>
        <span class="devsite-nav-icon material-icons" data-icon="forward" aria-hidden="true"
          menu="_book">
    </span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../tech/connect.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Connectivity">
      <span class="devsite-nav-text" >Connectivity</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../graphics.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Graphics">
      <span class="devsite-nav-text" >Graphics</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../interaction.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Interaction">
      <span class="devsite-nav-text" >Interaction</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../media.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Media">
      <span class="devsite-nav-text" >Media</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../storage.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Storage">
      <span class="devsite-nav-text" >Storage</span>
        </a>
  </li>

                                  </ul>
                          </li>
                      <li class="devsite-nav-item">
                                <a href="../tech.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Configure">
      <span class="devsite-nav-text" >Configure</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../reference.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Reference">
      <span class="devsite-nav-text" >Reference</span>
        </a>
  
                                        </li>
                                <li class="devsite-nav-item">
    <a href="http://android-review.googlesource.com/"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Go to code">
      <span class="devsite-nav-text" >Go to code</span>
        </a>
  </li>

                  </ul>
          </div>
          <div class="devsite-mobile-nav-bottom">
                            <ul class="devsite-nav-list" menu="_book">
            <li class="devsite-nav-item"><a href="../camera.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li>
  <li class="devsite-nav-item"><a href="camera3.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Camera3">Camera3</span></a></li>
  <li class="devsite-nav-item"><a href="camera3_requests_hal.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="HAL Subsystem">HAL Subsystem</span></a></li>
  <li class="devsite-nav-item"><a href="camera3_metadata.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Metadata and Controls">Metadata and Controls</span></a></li>
  <li class="devsite-nav-item"><a href="camera3_3Amodes.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="3A Modes and State">3A Modes and State</span></a></li>
  <li class="devsite-nav-item"><a href="camera3_requests_methods.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Request Creation">Request Creation</span></a></li>
  <li class="devsite-nav-item"><a href="stream-config.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Stream Configurations">Stream Configurations</span></a></li>
  <li class="devsite-nav-item"><a href="camera3_error_stream.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Errors and Streams">Errors and Streams</span></a></li>
  <li class="devsite-nav-item"><a href="camera3_crop_reprocess.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Output and Cropping">Output and Cropping</span></a></li>
  <li class="devsite-nav-item"><a href="session-parameters.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Session Parameters">Session Parameters</span></a></li>
  <li class="devsite-nav-item"><a href="singleprod-multiconsum.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Single Producer, Multiple Consumer">Single Producer, Multiple Consumer</span></a></li>
  <li class="devsite-nav-item"><a href="buffer-management-api.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Camera HAL3 Buffer Management APIs">Camera HAL3 Buffer Management APIs</span></a></li>
  <li class="devsite-nav-item"><a href="heif.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="HEIF Imaging">HEIF Imaging</span></a></li>
  <li class="devsite-nav-item"><a href="motion-tracking.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Motion Tracking">Motion Tracking</span></a></li>
  <li class="devsite-nav-item"><a href="monochrome.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Monochrome Cameras">Monochrome Cameras</span></a></li>
  <li class="devsite-nav-item"><a href="multi-camera.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Multi-Camera Support">Multi-Camera Support</span></a></li>
  <li class="devsite-nav-item"><a href="external-usb-cameras.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="External USB Cameras">External USB Cameras</span></a></li>
  <li class="devsite-nav-item"><a href="versioning.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Version Support">Version Support</span></a></li>
          </ul>
                                                                                                                                                                            </div>
      </div>
</nav>
              </devsite-book-nav>
      <div id="gc-wrapper">
        <div class="devsite-main-content"
            has-book-nav            has-toc>
          <devsite-toc class="devsite-nav"
            ></devsite-toc>
          <devsite-content>
                          

<article class="devsite-article">
  <article class="devsite-article-inner">        
    <div class="devsite-article-meta">
      <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                    <a href="../../index.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="1"
          >
            AOSP
      
  </a>
        </li>
    <li class="devsite-breadcrumb-item
             ">
                <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
                    <a href="../../devices.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="2"
          >
            Develop
      
  </a>
        </li>
    <li class="devsite-breadcrumb-item
             ">
                <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
                    <a href="../camera.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="3"
          >
            Camera
      
  </a>
        </li>
  </ul>
               <devsite-page-rating position="header" selected-rating="0" hover-rating-star="0">
         </devsite-page-rating>
          </div>

              <h1 class="devsite-page-title">Camera Version Support</h1>
    
    <devsite-toc class="devsite-nav" devsite-toc-embedded >
    </devsite-toc>

    <div class="devsite-article-body clearfix
      ">

              
  <!--
      Copyright 2017 The Android Open Source Project

      Licensed under the Apache License, Version 2.0 (the "License");
      you may not use this file except in compliance with the License.
      You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

      Unless required by applicable law or agreed to in writing, software
      distributed under the License is distributed on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      See the License for the specific language governing permissions and
      limitations under the License.
  -->






























<p>This page details version differences in Camera HALs, APIs, and associated
<a href="../../compatibility/cts.html">Compatibility Test Suite (CTS)</a> tests.
It also covers several
architectural changes made to harden and secure the camera framework in Android
7.0, the switch to Treble in Android 8.0, and the updates vendors must make to
support these changes in their camera implementations.</p>

<h2 id="glossary">Terminology</h2>

<p>The following terms are used on this page:</p>

<dl>

<dt>Camera API1</dt>
<dd>The app-level camera framework on Android 4.4 and lower devices, exposed
through the <code translate="no" dir="ltr">android.hardware.Camera</code> class.</dd>

<dt>Camera API2</dt>
<dd>The app-level camera framework on Android 5.0 and higher devices, exposed
through the<code translate="no" dir="ltr"> android.hardware.camera2</code> package.</dd>

<dt>Camera HAL</dt>
<dd>The camera module layer implemented by SoC vendors. The app-level public
frameworks are built on top of the camera HAL.</dd>

<dt>Camera HAL3.1</dt>
<dd>Version of the camera device HAL released with Android 4.4.</dd>

<dt>Camera HAL3.2</dt>
<dd>Version of the camera device HAL released with Android 5.0.</dd>

<dt>Camera API1 CTS</dt>
<dd>Set of camera CTS tests that run on top of Camera
API1.</dd>

<dt>Camera API2 CTS</dt>
<dd>Additional set of camera CTS tests that run on top of Camera API2.</dd>

<dt>Treble</dt>
<dd>Separates the vendor implementation (device-specific, lower-level software
written by silicon manufacturers) from the Android OS framework through a new
vendor interface.</dd>

<dt>HIDL</dt>
<dd><a href="../architecture/hidl/index.html">HAL interface definition language</a>
introduced with Treble and used to specify the interface between a HAL and
its users.</dd>

<dt>VTS</dt>
<dd><a href="../../compatibility/vts/index.html">Vendor test suite</a> introduced alongside
Treble.</dd>

</dl>


<h2 id="camera_apis">Camera APIs</h2>
<p>Android includes the following camera APIs.</p>

<h3 id="camera_api1">Camera API1</h3>

<p>Android 5.0 deprecated Camera API1, which continues to be phased out as new
platform development focuses on Camera API2. However, the phase-out period will
be lengthy, and Android releases will continue to support Camera API1 apps for
some time. Specifically, support continues for:</p>

<ul>
<li><em>Camera API1 interfaces for apps.</em> Camera apps built on top of Camera
API1 should work as they do on devices running lower Android release versions.
</li>
<li><em>Camera HAL versions.</em> Includes support for Camera HAL1.0.</li>
</ul>

<h3 id="camera_api2">Camera API2</h3>

<p>The Camera API2 framework exposes lower-level camera control to the app,
including efficient zero-copy burst/streaming flows and per-frame controls of
exposure, gain, white balance gains, color conversion, denoising, sharpening,
and more. For details, watch the
<a href="https://www.youtube.com/watch?v=92fgcUNCHic&amp;feature=youtu.be&amp;t=29m50s" class="external">
  Google I/O video overview</a>.</p>

<p>Android 5.0 and higher includes Camera API2; however, devices running Android
5.0 and higher may not support all Camera API2 features. The
<code translate="no" dir="ltr">android.info.supportedHardwareLevel</code> property that apps can query
through the Camera API2 interfaces reports one of the following support
levels:</p>

<ul>
<li><code translate="no" dir="ltr">LEGACY</code>: These devices expose capabilities to apps through the
Camera API2 interfaces that are approximately the same capabilities as those
exposed to apps through the Camera API1 interfaces. The legacy frameworks code
conceptually translates Camera API2 calls into Camera API1 calls; legacy devices
don't support Camera API2 features such as per-frame controls.</li>
<li><code translate="no" dir="ltr">LIMITED</code>: These devices support some Camera API2 capabilities
(but not all) and must use Camera HAL 3.2 or higher.</li>
<li><code translate="no" dir="ltr">FULL</code>: These devices support all of the major capabilities of
Camera API2 and must use Camera HAL 3.2 or higher and Android 5.0 or higher.</li>
<li><code translate="no" dir="ltr">LEVEL_3</code>: These devices support YUV reprocessing and RAW image
capture, along with additional output stream configurations.</li>
<li><code translate="no" dir="ltr">EXTERNAL</code>: These devices are similar to <code translate="no" dir="ltr">LIMITED</code>
devices with some exceptions; for example, some sensor or lens information may
not be reported or have less stable frame rates. This level is used for external
cameras such as USB webcams.</li>
</ul>

<p>Individual capabilities are exposed through the
<code translate="no" dir="ltr">android.request.availableCapabilities</code> property in the Camera API2
interfaces. <code translate="no" dir="ltr">FULL</code> devices require the <code translate="no" dir="ltr">MANUAL_SENSOR</code> and
<code translate="no" dir="ltr">MANUAL_POST_PROCESSING</code> capabilities, among others. The
<code translate="no" dir="ltr">RAW</code> capability is optional even for <code translate="no" dir="ltr">FULL</code> devices.
<code translate="no" dir="ltr">LIMITED</code> devices can advertise any subset of these capabilities,
including none of them. However, the <code translate="no" dir="ltr">BACKWARD_COMPATIBLE</code> capability
must always be defined.</p>

<p>The supported hardware level of the device, as well as the specific Camera
API2 capabilities it supports, are available as the following feature flags to
allow Google Play filtering of Camera API2 camera apps.</p>

<ul>
  <li><code translate="no" dir="ltr">android.hardware.camera.hardware_level.full</code>
  <li><code translate="no" dir="ltr">android.hardware.camera.capability.raw</code>
  <li><code translate="no" dir="ltr">android.hardware.camera.capability.manual_sensor</code>
  <li><code translate="no" dir="ltr">android.hardware.camera.capability.manual_post_processing</code>
</ul>

<h2 id="cts_requirements">CTS requirements</h2>

<p>Devices running Android 5.0 and higher must pass the Camera API1 CTS, Camera
API2 CTS, and CTS Verifier camera tests.</p>

<p>Devices that don't feature a Camera HAL3.2 implementation and aren't
capable of supporting the full Camera API2 interfaces must still pass the Camera
API2 CTS tests. However, the device runs in Camera API2
<code translate="no" dir="ltr">LEGACY</code> mode (in which the Camera API2 calls are conceptually mapped
to Camera API1 calls) so any Camera API2 CTS tests related to features or
capabilities beyond Camera API1 are automatically skipped.</p>

<p>On legacy devices, Camera API2 CTS tests that are run use the
existing public Camera API1 interfaces and capabilities with no new
requirements. Bugs that are exposed (and that cause a Camera API2 CTS failure)
are bugs already present in the device’s existing Camera HAL, and thus would
be found by existing Camera API1 apps. We don't expect many bugs of this nature
(however, any such bugs must be fixed to pass the Camera API2 CTS tests).</p>

<h2 id="vts-requirements">VTS requirements</h2>
<p>Devices running Android 8.0 and higher with binderized HAL implementations must
pass the Camera
<a href="../../compatibility/vts/index.html">VTS tests</a>.</p>

<h2 id="hardening">Camera framework hardening</h2>

<p>To harden media and camera framework security, Android 7.0 moves camera
service out of mediaserver. Starting with Android 8.0, each binderized Camera
HAL runs in a process separate from camera service. Vendors may need to make
changes in the camera HAL depending on the API and HAL versions in use. The
following sections detail architectural changes in AP1 and AP2 for HAL1 and
HAL3, as well as general requirements.</p>

<h3 id="hardening_api1">Architectural changes for API1</h3>
<p>API1 video recording may assume camera and video encoder live in the same
process. When using API1 on:</p>

<ul>
<li>HAL3, where camera service uses BufferQueue to pass buffers between
processes, <strong>no vendor update</strong> is necessary.
<p><img src="images/ape_camera_n_api1_hal3.png" alt="Android 7.0 camera and media
stack in API1 on HAL3" id="figure1" /></p>
<p class="img-caption"><strong>Figure 1. </strong>Android 7.0 camera and media
stack in API1 on HAL3</p>
</li>
<li>HAL1, which supports passing metadata in video buffers, <strong>vendors must
update the HAL to use <code translate="no" dir="ltr">kMetadataBufferTypeNativeHandleSource</code>.</strong>
(<code translate="no" dir="ltr">kMetadataBufferTypeCameraSource</code> is no longer supported in Android
7.0.)
<p><img src="images/ape_camera_n_api1_hal1.png" alt="Android 7.0 camera and media
stack in API1 on HAL1" id="figure1" /></p>
<p class="img-caption"><strong>Figure 2. </strong>Android 7.0 camera and media
stack in API1 on HAL1</p>
</li>
</ul>

<h3 id="hardening_api2">Architectural changes for API2</h3>
<p>For API2 on HAL1 or HAL3, BufferQueue passes buffers so those paths continue
to work. The Android 7.0 architecture for API2 on:</p>

<ul>
<li>HAL1 isn't affected by the cameraservice move, and <strong>no vendor
update</strong> is necessary.</li>
<li>HAL3 <em>is</em> affected, but <strong>no vendor update</strong> is
necessary:
<p><img src="images/ape_camera_n_api2_hal3.png" alt="Android 7.0 camera and
media stack in API2 on HAL3" id="figure1" /></p>
<p class="img-caption"><strong>Figure 3. </strong>Android 7.0 camera and media
stack in API2 on HAL3</p>
</li>
</ul>

<h3 id="hardening_general">Additional requirements</h3>
<p>The architectural changes made for hardening media and camera framework
security include the following additional device requirements.</p>

<ul>
<li><strong>General.</strong> Devices require additional bandwidth due to IPC,
which may affect time-sensitive camera use cases such as high-speed video
recording. Vendors can measure actual impact by running
<code translate="no" dir="ltr">android.hardware.camera2.cts.PerformanceTest</code> and the Google Camera
app for 120/240&nbsp;FPS high-speed video recording. Devices also require a
small amount of additional RAM to create the new process.</li>
<li><strong>Pass metadata in video buffers</strong> (<em>HAL1 only</em>). If HAL1
stores metadata instead of real YUV frame data in video buffers, the HAL must
use <code translate="no" dir="ltr">kMetadataBufferTypeNativeHandleSource</code> as the metadata buffer
type and pass <code translate="no" dir="ltr">VideoNativeHandleMetadata</code> in video buffers.
(<code translate="no" dir="ltr">kMetadataBufferTypeCameraSource</code> is no longer supported on Android
7.0.) With <code translate="no" dir="ltr">VideoNativeHandleMetadata</code>, camera and media frameworks
are able to pass the video buffers between processes by serializing and
deserializing the native handles properly.</li>
<li><strong>Buffer handle address doesn't always store the same buffer</strong>
(<em>HAL3 only</em>). For each capture request, HAL3 gets addresses of buffer
handles. HAL can't use the addresses to identify buffers because the addresses
may store another buffer handle after HAL returns the buffer. You must update
the HAL to use buffer handles to identify the buffers. For example, HAL receives
a buffer handle address A, which stores buffer handle A. After HAL returns
buffer handle A, buffer handle address A may store buffer handle B next time the
HAL receives it.</li>
<li><strong>Update SELinux policies for cameraserver.</strong> If
device-specific SELinux policies give mediaserver permissions to run the camera,
you must update the SELinux policies to give cameraserver proper permissions. We
discourage replicating the mediaserver's SELinux policies for cameraserver
(as mediaserver and cameraserver generally require different resources in the
system). Cameraserver should have only the permissions needed to perform camera
functionalities and any unnecessary camera-related permissions in mediaserver
should be removed.</li>
<li><strong>Separation between Camera HAL and cameraserver.</strong> Android
8.0 and higher additionally separate the binderized Camera HAL in a process
different from cameraserver. IPC goes through
  <a href="../architecture/hidl/index.html">HIDL-defined</a> interfaces.</li>
</ul>

<h3 id="hardening_validation">Validation</h3>
<p>For all devices that include a camera and run Android 7.0, verify the
implementation by running Android 7.0 CTS. Although Android 7.0 doesn't include
new CTS tests that verify camera service changes, existing CTS tests fail
if you haven't made the updates indicated above.</p>

<p>For all devices that include a camera and run Android 8.0 and higher, verify
the vendor implementation by running VTS.</p>

<h2 id="version-history">Camera HAL version history</h2>
<p>For a list of tests available for evaluating the Android Camera HAL, see the
<a href="../../compatibility/cts/camera-hal-2.html">Camera HAL Testing
Checklist</a>.</p>

<h3 id="100">Android 10</h3>

<p>Android 10 introduces the following updates.</p>

<h4 id="100-api">Camera API</h4>

<ul>
  <li>Multi-camera improvements that allow physical cameras to
  be used individually or through corresponding logical cameras by hiding
  physical camera IDs. See
  <a href="multi-camera.html">Multi-Camera Support</a>.</li>
  <li>Ability to check whether a particular session configuration is
  supported without the performance overhead of creating a new session.
  See
  <a href="https://developer.android.google.cn/reference/android/hardware/camera2/CameraDevice.html#isSessionConfigurationSupported(android.hardware.camera2.params.SessionConfiguration)" class="external"><code translate="no" dir="ltr">CameraDevice</code></a>.</li>
  <li>Ability to retrieve recommended stream configurations for a given use
  case to make the client more power efficient and performant. See
  <a href="https://developer.android.google.cn/reference/android/hardware/camera2/CameraCharacteristics.html#getRecommendedStreamConfigurationMap(int)" class="external"><code translate="no" dir="ltr">getRecommendedStreamConfigurationMap</code></a>.</li>
  <li>Support for the
  <a href="https://developer.android.google.cn/reference/android/graphics/ImageFormat.html#DEPTH_JPEG" class="external">
  depth JPEG image format</a>. For further details, see the
    <a href="https://developer.android.google.cn/training/camera2/Dynamic-depth-v1.0.pdf" class="external">
    Dynamic Depth specification</a>.</li>
  <li>Support for the
  <a href="https://developer.android.google.cn/reference/android/graphics/ImageFormat#JPEG" class="external">
  HEIC Image format</a>. See
  <a href="heif.html">HEIF Imaging</a>.</li>
  <li>Privacy improvements. Certain keys are required for the client
  to have
  <a href="https://developer.android.google.cn/reference/android/Manifest.permission.html#CAMERA" class="external">
    <code translate="no" dir="ltr">CAMERA</code></a> permissions before they can be retrieved from
  <a href="https://developer.android.google.cn/reference/android/hardware/camera2/CameraCharacteristics" class="external">
    <code translate="no" dir="ltr">CameraCharacteristics</code></a>. See
  <a href="https://developer.android.google.cn/reference/android/hardware/camera2/CameraCharacteristics#getKeysNeedingPermission()" class="external">
    <code translate="no" dir="ltr">getKeysNeedingPermission</code></a>.</li>
</ul>

<h4 id="100-hal">Camera HAL</h4>

<p>The following Camera HAL versions are updated in Android
10.</p>

<p><strong>3.5</strong></p>

<p><code translate="no" dir="ltr">ICameraDevice</code></p>

<ul>
  <li>
    <code translate="no" dir="ltr">getPhysicalCameraCharacteristics</code>:
  The static camera information for a physical camera ID backing a logical
  camera device. See
  <a href="multi-camera.html#customization">
  Multi-Camera Support</a>.</li>
  <li><code translate="no" dir="ltr">isStreamCombinationSupported</code>: This method supports a public
  API that helps clients query if a session configuration is supported. See <a
  href="stream-config.html#api_to_query_stream_combinations">API
  to query stream combinations</a>.</li>
</ul>

<p><code translate="no" dir="ltr">ICameraDeviceSession</code></p>

<ul>
  <li>
    <code translate="no" dir="ltr">isReconfigurationNeeded</code>:
  Method that tells the camera framework whether complete stream
  reconfiguration is required for possible new session parameter values. This
  helps avoid unnecessary camera reconfiguration delays. See
  <a href="session-parameters.html#session_reconfiguration_query">
  Session reconfiguration query</a>.</li>
  <li><a href="buffer-management-api.html">HAL
  buffer management APIs</a>: These APIs allow the camera HAL to request
  buffers from the camera framework only when required instead of coupling each
  capture request with its associated buffers throughout the camera pipeline,
  resulting in potentially significant memory savings.
    <ul>
      <li>
      <code translate="no" dir="ltr">signalStreamFlush</code>: Signals to the HAL that the camera
      service is about to perform <code translate="no" dir="ltr">configureStreams_3_5</code> and that
      the HAL must return all buffers of designated streams.</li>
      <li>
      <code translate="no" dir="ltr">configureStreams_3_5</code>: Similar to
      <code translate="no" dir="ltr">ICameraDevice3.4.configureStreams</code>, but in
      addition, the <code translate="no" dir="ltr">streamConfigCounter</code> counter is provided to
      check for a race condition between the <code translate="no" dir="ltr">configureStreams_3_5</code>
      and <code translate="no" dir="ltr">signalStreamFlush</code> calls.</li>
    </ul>
  </li>
</ul>

<p>Updates to <code translate="no" dir="ltr">ICameraDeviceCallback</code>:</p>

<ul>
  <li>
  <code translate="no" dir="ltr">requestStreamBuffers</code>:
  Synchronous callback that the camera HAL calls to ask the camera server for
  buffers. See
  <a href="buffer-management-api.html#requeststreambuffers">
  <code translate="no" dir="ltr">requestStreamBuffers</code></a>.</li>
  <li>
  <code translate="no" dir="ltr">returnStreamBuffers</code>:
  Synchronous callback for the camera HAL to return output buffers to the
  camera server. See
  <a href="buffer-management-api.html#returnstreambuffers">
  <code translate="no" dir="ltr">returnStreamBuffers</code></a>.
  </li>
</ul>

<p><strong>3.4</strong></p>

<p>The following keys are added to camera metadata in Android
10.</p>

<ul>
  <li>Image formats
    <ul>
      <li><code translate="no" dir="ltr">ANDROID_SCALER_AVAILABLE_FORMATS_RAW10</code></li>
      <li><code translate="no" dir="ltr">ANDROID_SCALER_AVAILABLE_FORMATS_RAW12</code></li>
      <li><code translate="no" dir="ltr">ANDROID_SCALER_AVAILABLE_FORMATS_Y8</code></li>
    </ul>
  <li>Camera metadata tags
    <ul>
      <li><code translate="no" dir="ltr">ANDROID_REQUEST_CHARACTERISTIC_KEYS_NEEDING_PERMISSION</code> </li>
      <li><code translate="no" dir="ltr">ANDROID_SCALER_AVAILABLE_RECOMMENDED_STREAM_CONFIGURATIONS</code></li>
      <li><code translate="no" dir="ltr">ANDROID_SCALER_AVAILABLE_RECOMMENDED_INPUT_OUTPUT_FORMATS_MAP</code></li>
      <li><code translate="no" dir="ltr">ANDROID_INFO_SUPPORTED_BUFFER_MANAGEMENT_VERSION</code></li>
      <li><code translate="no" dir="ltr">ANDROID_DEPTH_AVAILABLE_RECOMMENDED_DEPTH_STREAM_CONFIGURATIONS</code></li>
      <li><code translate="no" dir="ltr">ANDROID_DEPTH_AVAILABLE_DYNAMIC_DEPTH_STREAM_CONFIGURATIONS</code></li>
      <li><code translate="no" dir="ltr">ANDROID_DEPTH_AVAILABLE_DYNAMIC_DEPTH_MIN_FRAME_DURATIONS</code></li>
      <li><code translate="no" dir="ltr">ANDROID_LOGICAL_MULTI_CAMERA_ACTIVE_PHYSICAL_ID</code></li>
      <li><code translate="no" dir="ltr">ANDROID_HEIC_AVAILABLE_HEIC_STREAM_CONFIGURATIONS</code></li>
      <li><code translate="no" dir="ltr">ANDROID_HEIC_AVAILABLE_HEIC_MIN_FRAME_DURATIONS</code></li>
      <li><code translate="no" dir="ltr">ANDROID_HEIC_AVAILABLE_HEIC_STALL_DURATIONS</code></li>
      <li><code translate="no" dir="ltr">ANDROID_HEIC_INFO_SUPPORTED</code></li>
      <li><code translate="no" dir="ltr">ANDROID_HEIC_INFO_MAX_JPEG_APP_SEGMENTS_COUNT</code></li>
    </ul>
  <li>Capabilities
    <ul>
      <li> <code translate="no" dir="ltr">ANDROID_REQUEST_AVAILABLE_CAPABILITIES_SECURE_IMAGE_DATA</code></li>
    </ul>
  <li>Values for the <code translate="no" dir="ltr">ANDROID_SENSOR_INFO_COLOR_FILTER_ARRANGEMENT</code>
    key
    <ul>
      <li><code translate="no" dir="ltr">ANDROID_SENSOR_INFO_COLOR_FILTER_ARRANGEMENT_MONO</code></li>
      <li><code translate="no" dir="ltr">ANDROID_SENSOR_INFO_COLOR_FILTER_ARRANGEMENT_NIR</code></li>
    </ul>
  <li>Available dynamic depth stream configurations
    <ul>
      <li><code translate="no" dir="ltr">ANDROID_DEPTH_AVAILABLE_DYNAMIC_DEPTH_STREAM_CONFIGURATIONS_OUTPUT</code></li>
      <li><code translate="no" dir="ltr">ANDROID_DEPTH_AVAILABLE_DYNAMIC_DEPTH_STREAM_CONFIGURATIONS_INPUT</code></li>
    </ul>
  <li>Available HEIC stream configurations
    <ul>
      <li> <code translate="no" dir="ltr">ANDROID_HEIC_AVAILABLE_HEIC_STREAM_CONFIGURATIONS_OUTPUT</code></li>
      <li><code translate="no" dir="ltr">ANDROID_HEIC_AVAILABLE_HEIC_STREAM_CONFIGURATIONS_INPUT</code></li>
    </ul>
  </li>
</ul>

<h4 id="100-module">Camera module</h4>

<p>The following camera module versions are updated in Android
10.</p>

<p><strong>2.5</strong></p>

<ul>
  <li>Adds the <code translate="no" dir="ltr">notifyDeviceStateChange</code> method for devices to notify
  the camera HAL when physical changes, such as folding, affect camera and
  routing.</li>
</ul>

<p><strong>2.4</strong></p>

<ul>
  <li>Devices launching with API level 29 or higher MUST report
  <code translate="no" dir="ltr">true</code> for <code translate="no" dir="ltr">isTorchModeSupported</code>.</li>
</ul>

<h3 id="90">Android 9</h3>

<p>
  The Android 9 release introduces the following updates to the camera API2 and
  HAL interface.
</p>

<h4 id="90-api">Camera API</h4>

<ul>
  <li>Introduces the multi-camera API to better support devices with multiple
  cameras facing in the same direction, enabling features such as bokeh and
  seamless zoom. This allows apps to view multiple cameras on a device as one
  logical unit (logical camera). Capture requests can also be sent to individual
  camera devices encompassed by one logical camera. See
  <a href="multi-camera.html">Multi-Camera Support</a>.</li>
  <li>Introduces session parameters. Session parameters are a subset of the
  available capture parameters that can cause severe processing delays when
  modified. These costs can be mitigated if clients pass their initial values
  during capture session initialization. See
  <a href="session-parameters.html">Session Parameters</a>.</li>
  <li>Adds optical stabilization (OIS) data keys for app-level stabilization and
  effects. See
  <a href="https://developer.android.google.cn/reference/android/hardware/camera2/CaptureResult.html#STATISTICS_OIS_SAMPLES" class="external">
    <code translate="no" dir="ltr">STATISTICS_OIS_SAMPLES</code></a>.</li>
  <li>Adds external flash support. See
    <a href="https://developer.android.google.cn/reference/android/hardware/camera2/CameraMetadata.html#CONTROL_AE_MODE_ON_EXTERNAL_FLASH" class="external">
    <code translate="no" dir="ltr">CONTROL_AE_MODE_ON_EXTERNAL_FLASH</code></a>.</li>
  <li>Adds a motion tracking intent in <code translate="no" dir="ltr">CAPTURE_INTENT</code>. See
  <a href="https://developer.android.google.cn/reference/android/hardware/camera2/CameraMetadata.html#CONTROL_CAPTURE_INTENT_MOTION_TRACKING" class="external">
    <code translate="no" dir="ltr">CONTROL_CAPTURE_INTENT_MOTION_TRACKING</code></a>.</li>
  <li>Deprecates <code translate="no" dir="ltr">LENS_RADIAL_DISTORTION</code> and adds
    <a href="https://developer.android.google.cn/reference/android/hardware/camera2/CameraCharacteristics.html#LENS_DISTORTION" class="external">
      <code translate="no" dir="ltr">LENS_DISTORTION</code></a> in its place.</li>
  <li>Adds distortion correction modes in <code translate="no" dir="ltr">CaptureRequest</code>. See
  <a href="https://developer.android.google.cn/reference/android/hardware/camera2/CaptureRequest.html#DISTORTION_CORRECTION_MODE" class="external">
    <code translate="no" dir="ltr">DISTORTION_CORRECTION_MODE</code></a>.</li>
  <li>Adds support for external USB/UVC cameras on supported devices. See
  <a href="https://developer.android.google.cn/reference/android/hardware/camera2/CameraMetadata.html#INFO_SUPPORTED_HARDWARE_LEVEL_EXTERNAL" class="external">
    <code translate="no" dir="ltr">INFO_SUPPORTED_HARDWARE_LEVEL_EXTERNAL</code></a>.</li>
</ul>

<h4 id="90-hal">Camera HAL</h4>

<p><strong>3.4</strong></p>

<p>Updates to <code translate="no" dir="ltr">ICameraDeviceSession</code></p>

<ul>
<li><a
href="https://android.googlesource.com/platform/hardware/interfaces/+/e18057b42f1698f33f34d14e86a53934bd337bb8/camera/device/3.4/ICameraDeviceSession.hal#70" class="external">
  <code translate="no" dir="ltr">configureStreams_3_4</code></a>:
Adds support for <code translate="no" dir="ltr">sessionParameters</code> and logical cameras.</li>
<li><a
href="https://android.googlesource.com/platform/hardware/interfaces/+/b75aa350e71b0c7dc59c4d51420a37608577a650/camera/device/3.4/ICameraDeviceSession.hal#106" class="external">
  <code translate="no" dir="ltr">processCaptureRequest_3_4</code></a>:
Adds support for including physical camera IDs in stream structure.</li>
</ul>

<p>Updates to <code translate="no" dir="ltr">ICameraDeviceCallback</code></p>

<ul>
<li>
<a href="https://android.googlesource.com/platform/hardware/interfaces/+/39cf8fd9fe587e39b44e1ed63171c6eb5049f2df/camera/device/3.4/ICameraDeviceCallback.hal#42" class="external">
  <code translate="no" dir="ltr">processCaptureResult_3_4</code></a>:
Adds physical camera metadata in capture results.</li>
</ul>

<p><strong>3.3</strong></p>

<p>The following keys are added to camera metadata in Android 9.</p>

<ul>
<li>Capabilities
  <ul>
    <li><code translate="no" dir="ltr">ANDROID_REQUEST_AVAILABLE_CAPABILITIES_LOGICAL_MULTI_CAMERA</code></li>
    <li><code translate="no" dir="ltr">ANDROID_REQUEST_AVAILABLE_CAPABILITIES_MOTION_TRACKING</code></li>
    <li><code translate="no" dir="ltr">ANDROID_REQUEST_AVAILABLE_CAPABILITIES_MONOCHROME</code></li>
  </ul>
<li>Camera metadata tags
  <ul>
    <li><code translate="no" dir="ltr">ANDROID_LOGICAL_MULTI_CAMERA_PHYSICAL_IDS</code></li>
    <li><code translate="no" dir="ltr">ANDROID_LOGICAL_MULTI_CAMERA_SENSOR_SYNC_TYPE</code></li>
    <li><code translate="no" dir="ltr">ANDROID_DISTORTION_CORRECTION_AVAILABLE_MODES</code></li>
    <li><code translate="no" dir="ltr">ANDROID_LENS_POSE_REFERENCE</code></li>
    <li> <code translate="no" dir="ltr">ANDROID_LENS_DISTORTION</code></li>
    <li><code translate="no" dir="ltr">ANDROID_REQUEST_AVAILABLE_SESSION_KEYS</code></li>
    <li><code translate="no" dir="ltr">ANDROID_REQUEST_AVAILABLE_PHYSICAL_CAMERA_REQUEST_KEYS</code></li>
    <li><code translate="no" dir="ltr">ANDROID_STATISTICS_OIS_DATA_MODE</code></li>
    <li><code translate="no" dir="ltr">ANDROID_STATISTICS_OIS_TIMESTAMPS</code></li>
    <li><code translate="no" dir="ltr">ANDROID_STATISTICS_OIS_X_SHIFTS</code></li>
    <li><code translate="no" dir="ltr">ANDROID_STATISTICS_OIS_Y_SHIFTS</code></li>
  </ul>
</li>
</ul>

<h3 id="80">Android 8.0</h3>

<p>
The Android 8.0 release introduces Treble. With Treble, vendor Camera HAL
implementations must be
<a href="../architecture/hal-types.html">binderized</a>. Android 8.0 also
contains these key enhancements to the Camera service:
</p>

<ul>
  <li>Shared surfaces: Enable multiple surfaces sharing the same
    <code translate="no" dir="ltr">OutputConfiguration</code></li>
  <li>System API for custom camera modes</li>
  <li><code translate="no" dir="ltr">onCaptureQueueEmpty</code></li>
</ul>

<p>
See the sections below for more information on these features.
</p>

<h4 id="shared-surfaces">Shared surfaces</h4>

<p>
This feature enables only one set of buffers to drive two outputs, such as
preview and video encoding, which lowers power and memory consumption. To
support this feature, device manufacturers need to ensure their camera HAL and
gralloc HAL implementations can create gralloc buffers that are used by
multiple different consumers (such as the hardware composer/GPU and the video
encoder), instead of just one consumer. The camera service passes the
consumer usage flags to the camera HAL and the gralloc HAL; they need to either
allocate the right kinds of buffers, or the camera HAL needs to return an error
that this combination of consumers isn't supported.
</p>

<p>
See the <code translate="no" dir="ltr"><a
    href="https://developer.android.google.cn/reference/android/hardware/camera2/params/OutputConfiguration.html#enableSurfaceSharing()" class="external">
  enableSurfaceSharing</a></code>
developer documentation for additional details.</p>

<h4 id="system-api-for-custom-camera-modes">System API for custom camera
  modes</h4>

<p>
The public camera API defines two operating modes: normal and constrained
high-speed recording. They have fairly different semantics; for example,
high-speed mode is limited to at most two specific outputs at once. Various
OEMs have expressed interest in defining other custom modes for
hardware-specific capabilities. Under the hood, the mode is just an integer
passed to <code translate="no" dir="ltr">configure_streams</code>. See:
<a href="https://android.googlesource.com/platform/hardware/interfaces/+/refs/heads/master/camera/device/3.2/ICameraDeviceSession.hal#167" class="external">
<code translate="no" dir="ltr">hardware/camera/device/3.2/ICameraDeviceSession#configurestreams</code></a>.
</p>

<p>
This feature includes a system API call that OEM camera apps can use to enable a
custom mode. These modes must start at integer value 0x8000 to avoid conflicting
with future modes added to the public API.
</p>

<p>
To support this feature, OEMs merely need to add the new mode to their HAL,
triggered by this integer passed to the HAL on configure_streams, and then have
their custom camera app use the system API.
</p>

<p>
The method name is <code translate="no" dir="ltr"><a
    href="https://developer.android.google.cn/reference/android/hardware/camera2/CameraCaptureSession.StateCallback.html#onCaptureQueueEmpty(android.hardware.camera2.CameraCaptureSession)" class="external">
  android.hardware.camera2.CameraDevice#createCustomCaptureSession</a></code>.
See:
<a href="https://android.googlesource.com/platform/frameworks/base/+/0e04e910a6b0d8a7464df9721535dfba21527c37/core/java/android/hardware/camera2/CameraDevice.java#747" class="external">
  <code translate="no" dir="ltr">frameworks/base/core/java/android/hardware/camera2/CameraDevice</code></a>.</p>

<aside class="note"><strong>Note:</strong> In the Android 8.1 release,
  apps must be preinstalled on the system image to access this API.
</aside>

<h4 id="oncapturequeueempty">onCaptureQueueEmpty</h4>

<p>
The purpose of this API is to reduce the latency of control changes like zoom by
keeping the request queue as empty as possible. <code translate="no" dir="ltr">onCaptureQueueEmpty</code>
requires no HAL work; it was purely a framework-side addition. Applications that
want to take advantage of it need to add a listener to that callback and respond
appropriately. Generally that's by sending another capture request to the camera
device.
</p>

<h4 id="camera-hidl-interface">Camera HIDL interface</h4>
<p>The Camera HIDL interface is a complete overhaul of the Camera HAL interface
that uses stable HIDL-defined APIs. All features and camera capabilities
introduced in the most recent legacy versions 3.4 and 2.4 (for the camera
module) are also part of the HIDL definitions.</p>

<h3 id="34">3.4</h3>

<p>Minor additions to supported metadata and changes to data_space support:</p>

<ul>
<li>Add <code translate="no" dir="ltr">ANDROID_SENSOR_OPAQUE_RAW_SIZE</code> static metadata as mandatory
if <code translate="no" dir="ltr">RAW_OPAQUE</code> format is supported.</li>
<li>Add <code translate="no" dir="ltr">ANDROID_CONTROL_POST_RAW_SENSITIVITY_BOOST_RANGE</code> static
metadata as mandatory if any RAW format is supported.</li>
<li>Switch <code translate="no" dir="ltr">camera3_stream_t data_space</code> field to a more flexible
definition, using the version 0 definition of dataspace encoding.</li>
<li>General metadata additions which are available to use for HALv3.2 or newer:
  <ul>
  <li>
  <a href="https://developer.android.google.cn/reference/android/hardware/camera2/CameraMetadata.html#INFO_SUPPORTED_HARDWARE_LEVEL_3" class="external">
    <code translate="no" dir="ltr">ANDROID_INFO_SUPPORTED_HARDWARE_LEVEL_3</code>
  </a>
  <li><code translate="no" dir="ltr">ANDROID_CONTROL_POST_RAW_SENSITIVITY_BOOST</code></li>
  <li><code translate="no" dir="ltr">ANDROID_CONTROL_POST_RAW_SENSITIVITY_BOOST_RANGE</code></li>
  <li><code translate="no" dir="ltr">ANDROID_SENSOR_DYNAMIC_BLACK_LEVEL</code></li>
  <li><code translate="no" dir="ltr">ANDROID_SENSOR_DYNAMIC_WHITE_LEVEL</code></li>
  <li><code translate="no" dir="ltr">ANDROID_SENSOR_OPAQUE_RAW_SIZE</code></li>
  <li><code translate="no" dir="ltr">ANDROID_SENSOR_OPTICAL_BLACK_REGIONS</code></li>
  </ul>
  </li>
</ul>

<h3 id="33">3.3</h3>

<p>Minor revision of expanded-capability HAL:</p>

<ul>
  <li>OPAQUE and YUV reprocessing API updates.</li>
  <li>Basic support for depth output buffers.</li>
  <li>Addition of <code translate="no" dir="ltr">data_space</code> field to
  <code translate="no" dir="ltr">camera3_stream_t</code>.</li>
  <li>Addition of rotation field to <code translate="no" dir="ltr">camera3_stream_t</code>.</li>
  <li>Addition of camera3 stream configuration operation mode to
  <code translate="no" dir="ltr">camera3_stream_configuration_t</code>.</li>
</ul>

<h3 id="32">3.2</h3>

<p>Minor revision of expanded-capability HAL:</p>

<ul>
<li>Deprecates <code translate="no" dir="ltr">get_metadata_vendor_tag_ops</code>. Use
<code translate="no" dir="ltr">get_vendor_tag_ops</code> in <code translate="no" dir="ltr">camera_common.h</code> instead.</li>
<li>Deprecates <code translate="no" dir="ltr">register_stream_buffers</code>. All gralloc buffers
provided by framework to HAL in <code translate="no" dir="ltr">process_capture_request</code> may be new
at any time.</li>
<li>Add partial result support. <code translate="no" dir="ltr">process_capture_result</code> may be
called multiple times with a subset of the available results before the full
result is available.</li>
<li>Add manual template to <code translate="no" dir="ltr">camera3_request_template</code>. Applications
may use this template to control the capture settings directly.</li>
<li>Rework the bidirectional and input stream specifications.</li>
<li>Change the input buffer return path. The buffer is returned in
<code translate="no" dir="ltr">process_capture_result</code> instead of
<code translate="no" dir="ltr">process_capture_request</code>.</li>
</ul>

<h3 id="31">3.1</h3>

<p>Minor revision of expanded-capability HAL:</p>

<ul>
<li><code translate="no" dir="ltr">configure_streams</code> passes consumer usage flags to the HAL.</li>
<li>flush call to drop all in-flight requests/buffers as fast as possible.</li>
</ul>

<h3 id="30">3.0</h3>

<p>First revision of expanded-capability HAL:</p>

<ul>
<li>Major version change since the ABI is completely different. No change to the
required hardware capabilities or operational model from 2.0.</li>
<li>Reworked input request and stream queue interfaces: Framework calls into HAL
with next request and stream buffers already dequeued. Sync framework support
is included, necessary for efficient implementations.</li>
<li>Moved triggers into requests, most notifications into results.</li>
<li>Consolidated all callbacks into framework into one structure, and all setup
methods into a single <code translate="no" dir="ltr">initialize()</code> call.</li>
<li>Made stream configuration into a single call to simplify stream management.
Bidirectional streams replace the <code translate="no" dir="ltr">STREAM_FROM_STREAM</code>
construct.</li>
<li>Limited mode semantics for older/limited hardware devices.</li>
</ul>

<h3 id="20">2.0</h3>

<p>Initial release of expanded-capability HAL (Android 4.2) [camera2.h]:</p>

<ul>
<li>Sufficient for implementing existing <code translate="no" dir="ltr">android.hardware.Camera</code>
API.</li>
<li>Allows for ZSL queue in camera service layer.</li>
<li>Not tested for any new features such as manual capture control, Bayer RAW
capture, reprocessing of RAW data, etc.</li>
</ul>

<h3 id="10">1.0</h3>

<p>Initial Android camera HAL (Android 4.0) [camera.h]:</p>

<ul>
<li>Converted from C++ CameraHardwareInterface abstraction layer.</li>
<li>Supports <code translate="no" dir="ltr">android.hardware.Camera</code> API.</li>
</ul>

<h2 id="module_version">Camera module version history</h2>

<p>This section contains module versioning information for the Camera hardware
module, based on <code translate="no" dir="ltr">camera_module_t.common.module_api_version</code>. The two
most significant hex digits represent the major version, and the two least
significant represent the minor version.</p>

<h3 id="24">2.4</h3>

<p>This camera module version adds the following API changes:</p>

<ol>
 <li><em>Torch mode support.</em> The framework can turn on torch mode for any
 camera device that has a flash unit, without opening a camera device. The
 camera device has a higher priority accessing the flash unit than the camera
 module; opening a camera device turns off the torch if it had been enabled
 through the module interface. When there are any resource conflicts, such as
 <code translate="no" dir="ltr">open()</code> is called to open a camera device, the camera HAL module
 must notify the framework through the torch mode status callback that the torch
 mode has been turned off.</li>

 <li><em>External camera (for example, USB hot-plug camera) support.</em> The
 API updates specify the camera static info is available only when camera is
 connected and ready to use for external hot-plug cameras. Calls to get static
 info are invalid calls when camera status isn't
 <code translate="no" dir="ltr">CAMERA_DEVICE_STATUS_PRESENT</code>. The framework counts solely on
 device status change callbacks to manage the available external camera list.
 </li>

 <li><em>Camera arbitration hints.</em> Adds support for explicitly indicating
 the number of camera devices that can be simultaneously opened and used. To
 specify valid combinations of devices, the <code translate="no" dir="ltr">resource_cost</code> and
 <code translate="no" dir="ltr">conflicting_devices</code> fields should always be set in the
 <code translate="no" dir="ltr">camera_info</code> structure returned by the <code translate="no" dir="ltr">get_camera_info</code>
 call.</li>

 <li><em>Module initialization method.</em> Called by the camera service
 after the HAL module is loaded to allow for one-time initialization of the HAL.
 It is called before any other module methods are invoked.</li>
</ol>

<h3 id="23">2.3</h3>

<p>This camera module version adds open legacy camera HAL device support.
 The framework can use it to open the camera device as lower device HAL version
 HAL device if the same device can support multiple device API versions.
 The standard hardware module open call
(<code translate="no" dir="ltr">common.methods->open</code>) continues
 to open the camera device with the latest supported version, which is
 also the version listed in <code translate="no" dir="ltr">camera_info_t.device_version</code>.</p>

<h3 id="22">2.2</h3>

<p>This camera module version adds vendor tag support from the module, and
deprecates the old <code translate="no" dir="ltr">vendor_tag_query_ops</code> that were previously only
accessible with a device open.</p>

<h3 id="21">2.1</h3>

<p>This camera module version adds support for asynchronous callbacks to the
framework from the camera HAL module, which is used to notify the framework
about changes to the camera module state. Modules that provide a valid
<code translate="no" dir="ltr">set_callbacks()</code> method must report at least this version number.</p>

<h3 id="20">2.0</h3>

<p>Camera modules that report this version number implement the second version
of the camera module HAL interface. Camera devices openable through this
module may support either version 1.0 or version 2.0 of the camera device
HAL interface. The <code translate="no" dir="ltr">device_version</code> field of camera_info is always
valid; the <code translate="no" dir="ltr">static_camera_characteristics</code> field of
<code translate="no" dir="ltr">camera_info</code> is valid if the <code translate="no" dir="ltr">device_version</code> field is
2.0 or higher.</p>

<h3 id="10">1.0</h3>

<p>Camera modules that report these version numbers implement the initial
camera module HAL interface. All camera devices openable through this
module support only version 1 of the camera device HAL. The
<code translate="no" dir="ltr">device_version</code> and <code translate="no" dir="ltr">static_camera_characteristics</code>
fields of <code translate="no" dir="ltr">camera_info</code> aren't valid. Only the
<code translate="no" dir="ltr">android.hardware.Camera</code> API can be supported by this module and its
devices.</p>

  
          </div>

    
                   <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0">
         </devsite-page-rating>
                   
          </article>
</article>

<devsite-content-footer class="nocontent">
  <p>Content and code samples on this page are subject to the licenses described in the <a href="../../license.html">Content License</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
</devsite-content-footer>


                      </devsite-content>
        </div>
        <devsite-footer-promos class="devsite-footer">
                      
                  </devsite-footer-promos>
        <devsite-footer-linkboxes class="devsite-footer">
                      <nav class="devsite-footer-linkboxes nocontent">
  <ul class="devsite-footer-linkboxes-list">
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Build</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://android.googlesource.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            Android repository
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="../../setup/build/requirements.html"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            Requirements
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="../../setup/build/downloading.html"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Downloading
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/blobs-preview/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            Preview binaries
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/images/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Factory images
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/drivers/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Driver binaries
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://android.github.io/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            GitHub
          </a>
        </li>
              </ul>
    </li>
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Connect</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://twitter.com/Android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            @Android on Twitter
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://twitter.com/AndroidDev/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            @AndroidDev on Twitter
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://blog.google/products/android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Android Blog
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://security.googleblog.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            Google Security Blog
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-platform/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Platform on Google Groups
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-building/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Building on Google Groups
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-porting/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            Porting on Google Groups
          </a>
        </li>
              </ul>
    </li>
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Get help</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            Android Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/pixelphone/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            Pixel Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/nexus/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Nexus Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://www.android.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            www.android.com
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://www.android.com/gms/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Google Mobile Services
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://stackoverflow.com/questions/tagged/android-source/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Stack Overflow
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://issuetracker.google.com/issues?q=status:open%20componentid:190923"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            Issue Tracker
          </a>
        </li>
              </ul>
    </li>
      </ul>
</nav>
                  </devsite-footer-linkboxes>
        <devsite-footer-utility class="devsite-footer">
                      
<div class="devsite-footer-utility">
  
  <nav class="devsite-nav">
        <ul class="devsite-footer-utility-list">
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../source/index.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer About Android link">
          About Android
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../setup/community.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer Community link">
          Community
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../legal.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer Legal link">
          Legal
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../license.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer License link">
          License
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="http://policies.google.cn/privacy"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link">
          Privacy
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="http://issuetracker.google.com/issues/new?component=191476"
           data-category="Site-Wide Custom Events"
           data-label="Footer Site feedback link">
          Site feedback
        </a>
              </li>
          </ul>
    
    <devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    <select class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
                <option>Language</option>
              <option value="en"
              track-metadata-original-language="en"
              track-metadata-selected-language="en"
              track-name="changed"
              track-type="languageSelector"
            >
        English
      </option>
          <option value="zh_cn"
              track-metadata-original-language="en"
              track-metadata-selected-language="zh_cn"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 简体
      </option>
        </select>
  </devsite-select>
</devsite-language-selector>

  </nav>
</div>
                  </devsite-footer-utility>
      </div></div>
    <devsite-sitemask></devsite-sitemask>
    <devsite-snackbar                   ></devsite-snackbar>    <devsite-tooltip blocked-link></devsite-tooltip>
    <devsite-analytics>
              <script type="application/json" analytics>[{"metrics": {"ratings_value": "metric1", "ratings_count": "metric2"}, "dimensions": {}, "gaid": "UA-45455297-4"}]</script>
<script type="application/json" gtm>[]</script>
          </devsite-analytics>
        <script>
    (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;
    t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];
    E.parentNode.insertBefore(t,E);})(window, document, 'script',
    'https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/js/app_loader.js', '[7,"en",null,"../../js/devsite_app.html","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource","https://androidsource-dot-google-developers.gonglchuangl.net/",null,null,["/_pwa/androidsource/manifest.json","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/images/video-placeholder.svg","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/favicon.png","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/lockup.svg","https://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons"]]')
  </script>  </body>

<!-- Mirrored from source.android.google.cn/devices/camera/versioning by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 09 Sep 2019 14:57:53 GMT -->
</html>