<!doctype html>
<html       lang="en"      dir="ltr">
  
<!-- Mirrored from source.android.google.cn/devices/input/touch-devices.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 09 Sep 2019 15:57:39 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta property="og:site_name" content="Android Open Source Project">
    <meta property="og:type" content="website">
    
          <meta name="theme-color" content="#78c257">
    
    <meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="../../_pwa/androidsource/manifest.json"
          crossorigin="use-credentials">
    <link rel="preconnect" href="http://www.gstatic.com/" crossorigin>
    <link rel="preconnect" href="http://fonts.gstatic.com/" crossorigin>
    <link rel="preconnect" href="http://fonts.googleapis.com/" crossorigin>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons">
        <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/css/rebrand-app.css">
    <noscript>
      <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/css/ce_bundle.css">
    </noscript>
    <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/favicon.png">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/touchicon-180.png"><link rel="canonical" href="touch-devices.html">      
<title>Touch Devices &nbsp;|&nbsp; Android Open Source Project</title>

<meta property="og:title" content="Touch Devices &nbsp;|&nbsp; Android Open Source Project">


  <meta property="og:url" content="touch-devices.html">

  <meta property="og:locale" content="en">




    
    
    
  
    </head>
  <body type="article"
        theme="androidsource-theme"
        class=""
        
        layout="docs"
        block-apix        pending>
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
    <div class="devsite-wrapper"><devsite-header keep-tabs-visible>
      









<div class="devsite-header--inner">
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="Close menu">
        </button>
        <div class="devsite-product-name-wrapper">
  <a href="../../index.html" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo">
  <img src="https://www.gstatic.cn/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/lockup.svg" class="devsite-site-logo" alt="Android Open Source Project">
</a>
            <span class="devsite-product-name">
            <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                              </li>
  </ul>
          </span>
        
</div>        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
                          <devsite-tabs class="upper-tabs">
  <div class="devsite-tabs-wrapper">
                  <tab >
          <a href="../../setup.html"
   class="gc-analytics-event"
   title="Set up"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Set up"
   >
  Set up
</a>

        </tab>
                        <tab >
          <a href="../../compatibility.html"
   class="gc-analytics-event"
   title="Design"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Design"
   >
  Design
</a>

        </tab>
                        <tab >
          <a href="../../security.html"
   class="gc-analytics-event"
   title="Secure"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Secure"
   >
  Secure
</a>

        </tab>
                        <tab active>
          <a href="../../devices.html"
   class="gc-analytics-event"
   title="Develop"
   aria-label="Develop, selected"         data-category="Site-Wide Custom Events"
        data-label="Tab: Develop"
   >
  Develop
</a>

        </tab>
                        <tab >
          <a href="../tech.html"
   class="gc-analytics-event"
   title="Configure"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Configure"
   >
  Configure
</a>

        </tab>
                        <tab >
          <a href="../../reference.html"
   class="gc-analytics-event"
   title="Reference"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Reference"
   >
  Reference
</a>

        </tab>
            </div>
</devsite-tabs>

                       </div>
          <devsite-search
            enable-suggestions
              family-name="Android Open Source Project"    tenant-name="Android Open Source Project"            >
  <form class="devsite-search-form" action="https://source.android.google.cn/s/results" method="GET">
    <div class="devsite-search-container">
      <div class="devsite-searchbox">
                <input placeholder="Search"
          type="text"
          class="devsite-search-field devsite-search-query"
          name="q"
          value=""
          autocomplete="off"
                    aria-label="Search box">
        <div class="devsite-search-image material-icons" aria-hidden="true"></div>
      </div>
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              aria-label="Open search box"></button>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          aria-label="Close search box"></button>
</devsite-search>

        </div>

        <devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    <select class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
                <option>Language</option>
              <option value="en"
              track-metadata-original-language="en"
              track-metadata-selected-language="en"
              track-name="changed"
              track-type="languageSelector"
            >
        English
      </option>
          <option value="zh_cn"
              track-metadata-original-language="en"
              track-metadata-selected-language="zh_cn"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 简体
      </option>
        </select>
  </devsite-select>
</devsite-language-selector>


                  <a class="devsite-header-link devsite-top-button button gc-analytics-event"
   href="http://android-review.googlesource.com/"
   data-category="Site-Wide Custom Events"
   data-label="Site header link">
  Go to code
</a>
        
              </div>    </div>  </div>
  <div class="devsite-collapsible-section
    ">
    <div class="devsite-header-background">
                        <div class="devsite-product-id-row">
            <div class="devsite-product-description-row">
                              <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                    <a href="../../devices.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Lower Header"
              data-value="1"
          >
            Develop
      
  </a>
        </li>
  </ul>
                                        </div>
                                                                                    </div>
                                      <div class="devsite-doc-set-nav-row">
                              <devsite-tabs class="lower-tabs">
  <div class="devsite-tabs-wrapper">
                  <tab >
          <a href="../../devices.html"
   class="gc-analytics-event"
   title="Overview"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Overview"
   >
  Overview
</a>

        </tab>
                        <tab >
          <a href="../audio.html"
   class="gc-analytics-event"
   title="Audio"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Audio"
   >
  Audio
</a>

        </tab>
                        <tab >
          <a href="../camera.html"
   class="gc-analytics-event"
   title="Camera"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Camera"
   >
  Camera
</a>

        </tab>
                        <tab >
          <a href="../tech/connect.html"
   class="gc-analytics-event"
   title="Connectivity"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Connectivity"
   >
  Connectivity
</a>

        </tab>
                        <tab >
          <a href="../graphics.html"
   class="gc-analytics-event"
   title="Graphics"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Graphics"
   >
  Graphics
</a>

        </tab>
                        <tab active>
          <a href="../interaction.html"
   class="gc-analytics-event"
   title="Interaction"
   aria-label="Interaction, selected"         data-category="Site-Wide Custom Events"
        data-label="Tab: Interaction"
   >
  Interaction
</a>

        </tab>
                        <tab >
          <a href="../media.html"
   class="gc-analytics-event"
   title="Media"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Media"
   >
  Media
</a>

        </tab>
                        <tab >
          <a href="../storage.html"
   class="gc-analytics-event"
   title="Storage"
           data-category="Site-Wide Custom Events"
        data-label="Tab: Storage"
   >
  Storage
</a>

        </tab>
            </div>
</devsite-tabs>

        </div>
          </div>  </div></div>
  

  </devsite-header>      <devsite-book-nav scrollbars >
                  




<nav class="devsite-book-nav devsite-nav nocontent">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="Close navigation">
    </button>
    <div class="devsite-product-name-wrapper">
  <a href="../../index.html" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo">
  <img src="https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/lockup.svg" class="devsite-site-logo" alt="Android Open Source Project">
</a>
        <span class="devsite-product-name">
        <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                              </li>
  </ul>
      </span>
    
</div>  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
              <ul class="devsite-nav-list">
                      <li class="devsite-nav-item">
                                <a href="../../setup.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Set up">
      <span class="devsite-nav-text" >Set up</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../compatibility.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Design">
      <span class="devsite-nav-text" >Design</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../security.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Secure">
      <span class="devsite-nav-text" >Secure</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../devices.html"
          class="devsite-nav-title gc-analytics-event
            devsite-nav-active"
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Develop">
      <span class="devsite-nav-text" >Develop</span>
        </a>
  
                                            <ul class="devsite-nav-responsive-tabs">
                                                                                                                      <li class="devsite-nav-item">
    <a href="../../devices.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Overview">
      <span class="devsite-nav-text" >Overview</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../audio.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Audio">
      <span class="devsite-nav-text" >Audio</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../camera.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Camera">
      <span class="devsite-nav-text" >Camera</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../tech/connect.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Connectivity">
      <span class="devsite-nav-text" >Connectivity</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../graphics.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Graphics">
      <span class="devsite-nav-text" >Graphics</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../interaction.html"
     id="devsite-nav-forward"     class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Interaction">
      <span class="devsite-nav-text" menu="_book">Interaction</span>
        <span class="devsite-nav-icon material-icons" data-icon="forward" aria-hidden="true"
          menu="_book">
    </span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../media.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Media">
      <span class="devsite-nav-text" >Media</span>
        </a>
  </li>

                                                                                                                      <li class="devsite-nav-item">
    <a href="../storage.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Storage">
      <span class="devsite-nav-text" >Storage</span>
        </a>
  </li>

                                  </ul>
                          </li>
                      <li class="devsite-nav-item">
                                <a href="../tech.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Configure">
      <span class="devsite-nav-text" >Configure</span>
        </a>
  
                                        </li>
                      <li class="devsite-nav-item">
                                <a href="../../reference.html"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Reference">
      <span class="devsite-nav-text" >Reference</span>
        </a>
  
                                        </li>
                                <li class="devsite-nav-item">
    <a href="http://android-review.googlesource.com/"
          class="devsite-nav-title gc-analytics-event
            "
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Go to code">
      <span class="devsite-nav-text" >Go to code</span>
        </a>
  </li>

                  </ul>
          </div>
          <div class="devsite-mobile-nav-bottom">
                            <ul class="devsite-nav-list" menu="_book">
            <li class="devsite-nav-item"><a href="../interaction.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li>
  <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="Automotive">Automotive</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../automotive.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li><li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="Audio">Audio</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../automotive/audio.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li><li class="devsite-nav-item"><a href="../automotive/audio/audio-hal.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Audio HAL">Audio HAL</span></a></li><li class="devsite-nav-item"><a href="../automotive/audio/audio-control.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="AudioControl HAL">AudioControl HAL</span></a></li><li class="devsite-nav-item"><a href="../automotive/audio/interaction-sequences.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Interaction Sequences">Interaction Sequences</span></a></li><li class="devsite-nav-item"><a href="../automotive/audio/multi-zone.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Multi-Zone">Multi-Zone</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item"><a href="../automotive/camera-hal.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Camera HAL">Camera HAL</span></a></li><li class="devsite-nav-item"><a href="../automotive/ivi_connectivity.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="IVI Connectivity">IVI Connectivity</span></a></li><li class="devsite-nav-item"><a href="../automotive/properties.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Vehicle Properties">Vehicle Properties</span></a></li><li class="devsite-nav-item"><a href="../automotive/power.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Power Management">Power Management</span></a></li><li class="devsite-nav-item"><a href="../automotive/garage_mode.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Garage Mode">Garage Mode</span></a></li><li class="devsite-nav-item"><a href="../automotive/radio.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Radio with Media">Radio with Media</span></a></li><li class="devsite-nav-item"><a href="../tech/perf/flash-wear.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Flash Wear Management">Flash Wear Management</span></a></li></ul></devsite-expandable-nav></li>
  <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="Input">Input</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../input.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li><li class="devsite-nav-item"><a href="key-layout-files.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Key Layout Files">Key Layout Files</span></a></li><li class="devsite-nav-item"><a href="key-character-map-files.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Key Character Map Files">Key Character Map Files</span></a></li><li class="devsite-nav-item"><a href="input-device-configuration-files.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Input Device Configuration Files">Input Device Configuration Files</span></a></li><li class="devsite-nav-item"><a href="migration-guide.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Migration Guide">Migration Guide</span></a></li><li class="devsite-nav-item"><a href="keyboard-devices.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Keyboard Devices">Keyboard Devices</span></a></li><li class="devsite-nav-item"><a href="touch-devices.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Touch Devices">Touch Devices</span></a></li><li class="devsite-nav-item"><a href="getevent.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Getevent">Getevent</span></a></li><li class="devsite-nav-item"><a href="validate-keymaps.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Validate Keymaps">Validate Keymaps</span></a></li></ul></devsite-expandable-nav></li>
  <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="Neural Networks">Neural Networks</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../neural-networks.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li><li class="devsite-nav-item"><a href="../neural-networks/ahardwarebuffer.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="AHardware Buffer">AHardware Buffer</span></a></li><li class="devsite-nav-item"><a href="../neural-networks/burst-executions.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Burst Executions and Fast Message Queues">Burst Executions and Fast Message Queues</span></a></li><li class="devsite-nav-item"><a href="../neural-networks/compilation-caching.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Compilation Caching">Compilation Caching</span></a></li><li class="devsite-nav-item"><a href="../neural-networks/device-discovery.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Device Discovery and Assignment">Device Discovery and Assignment</span></a></li><li class="devsite-nav-item"><a href="../neural-networks/vendor-extensions.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Vendor Extensions">Vendor Extensions</span></a></li></ul></devsite-expandable-nav></li>
  <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="Peripherals">Peripherals</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../accessories.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li><li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="Audio Accessories">Audio Accessories</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../accessories/audio.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li><li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="3.5 mm Headset">3.5 mm Headset</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../accessories/headset/plug-headset-spec.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Headset Spec">Headset Spec</span></a></li><li class="devsite-nav-item"><a href="../accessories/headset/jack-headset-spec.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Device Spec">Device Spec</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="USB Headset">USB Headset</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../accessories/headset/usb-headset-spec.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Headset Spec">Headset Spec</span></a></li><li class="devsite-nav-item"><a href="../accessories/headset/usb-adapter.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Adapter Spec">Adapter Spec</span></a></li><li class="devsite-nav-item"><a href="../accessories/headset/usb-device.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Device Spec">Device Spec</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item"><a href="../accessories/headset/expected-behavior.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Expected Behavior">Expected Behavior</span></a></li><li class="devsite-nav-item"><a href="../accessories/headset/testing.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Testing">Testing</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="Custom Accessories">Custom Accessories</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../accessories/custom.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li><li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="AOA">AOA</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../accessories/protocol.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li><li class="devsite-nav-item"><a href="../accessories/aoa2.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="AOA 2.0">AOA 2.0</span></a></li><li class="devsite-nav-item"><a href="../accessories/aoa.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="AOA 1.0">AOA 1.0</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item"><a href="../accessories/stylus.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Stylus">Stylus</span></a></li></ul></devsite-expandable-nav></li></ul></devsite-expandable-nav></li>
  <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="Sensors">Sensors</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../sensors.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li><li class="devsite-nav-item"><a href="../sensors/sensor-stack.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Sensor Stack">Sensor Stack</span></a></li><li class="devsite-nav-item"><a href="../sensors/sensor-types.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Sensor Types">Sensor Types</span></a></li><li class="devsite-nav-item"><a href="../sensors/interaction.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Interaction">Interaction</span></a></li><li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="Power">Power</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../sensors/batching.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Batching">Batching</span></a></li><li class="devsite-nav-item"><a href="../sensors/power-use.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Power Consumption">Power Consumption</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="Modes">Modes</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../sensors/report-modes.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Reporting Modes">Reporting Modes</span></a></li><li class="devsite-nav-item"><a href="../sensors/suspend-mode.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Suspend Mode">Suspend Mode</span></a></li><li class="devsite-nav-item"><a href="../sensors/sensors-off.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Sensors Off">Sensors Off</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="Sensors HAL">Sensors HAL</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../sensors/sensors-hal2.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Sensors HAL 2.0">Sensors HAL 2.0</span></a></li><li class="devsite-nav-item"><a href="../sensors/hal-interface.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Sensors HAL 1.0">Sensors HAL 1.0</span></a></li><li class="devsite-nav-item"><a href="../sensors/versioning.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Version Deprecation">Version Deprecation</span></a></li></ul></devsite-expandable-nav></li></ul></devsite-expandable-nav></li>
  <li class="devsite-nav-item           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0"><span class="devsite-nav-text" title="TV">TV</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="../tv.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Overview">Overview</span></a></li><li class="devsite-nav-item"><a href="../tv/hdmi-cec.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="HDMI-CEC Control Service">HDMI-CEC Control Service</span></a></li><li class="devsite-nav-item"><a href="../tv/multimedia-tunneling.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Multimedia Tunneling">Multimedia Tunneling</span></a></li><li class="devsite-nav-item"><a href="../tv/reference-tv-app.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Reference TV App">Reference TV App</span></a></li><li class="devsite-nav-item"><a href="../tv/customize-tv-app.html"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" title="Customize the TV App">Customize the TV App</span></a></li></ul></devsite-expandable-nav></li>
          </ul>
                                                                                                                                                                            </div>
      </div>
</nav>
              </devsite-book-nav>
      <div id="gc-wrapper">
        <div class="devsite-main-content"
            has-book-nav            has-toc>
          <devsite-toc class="devsite-nav"
            ></devsite-toc>
          <devsite-content>
                          

<article class="devsite-article">
  <article class="devsite-article-inner">        
    <div class="devsite-article-meta">
      <ul class="devsite-breadcrumb-list">
    <li class="devsite-breadcrumb-item
             ">
                    <a href="../../index.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="1"
          >
            AOSP
      
  </a>
        </li>
    <li class="devsite-breadcrumb-item
             ">
                <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
                    <a href="../../devices.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="2"
          >
            Develop
      
  </a>
        </li>
    <li class="devsite-breadcrumb-item
             ">
                <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
                    <a href="../interaction.html"              class="devsite-breadcrumb-link gc-analytics-event"
              data-category="Site-Wide Custom Events"
              data-label="Breadcrumbs"
              data-value="3"
          >
            Interaction
      
  </a>
        </li>
  </ul>
               <devsite-page-rating position="header" selected-rating="0" hover-rating-star="0">
         </devsite-page-rating>
          </div>

              <h1 class="devsite-page-title">Touch Devices</h1>
    
    <devsite-toc class="devsite-nav" devsite-toc-embedded >
    </devsite-toc>

    <div class="devsite-article-body clearfix
      ">

              
  <!--
      Copyright 2017 The Android Open Source Project

      Licensed under the Apache License, Version 2.0 (the "License");
      you may not use this file except in compliance with the License.
      You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

      Unless required by applicable law or agreed to in writing, software
      distributed under the License is distributed on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      See the License for the specific language governing permissions and
      limitations under the License.
  -->



<p>Android supports a variety of touch screens and touch pads, including
stylus-based digitizer tablets.</p>
<p>Touch screens are touch devices that are associated with a display such that
the user has the impression of directly manipulating items on screen.</p>
<p>Touch pads are touch devices that are not associated with a display such as a
digitizer tablet.  Touch pads are typically used for pointing or for
absolute indirect positioning or gesture-based control of a user interface.</p>
<p>Touch devices may have buttons whose functions are similar to mouse buttons.</p>
<p>Touch devices can sometimes be manipulated using a variety of different tools
such as fingers or a stylus depending on the underlying touch sensor technology.</p>
<p>Touch devices are sometimes used to implement virtual keys.  For example, on
some Android devices, the touch screen sensor area extends beyond the edge of
the display and serves dual purpose as part of a touch sensitive key pad.</p>
<p>Due to the great variety of touch devices, Android relies on a large number of
configuration properties to describe the characteristics and desired behavior
of each device.</p>
<h2 id="touch-device-classification">Touch Device Classification</h2>
<p>An input device is classified as a <em>multi-touch</em> device if both of
the following conditions hold:</p>
<ul>
<li>
<p>The input device reports the presence of the <code translate="no" dir="ltr">ABS_MT_POSITION_X</code> and
    <code translate="no" dir="ltr">ABS_MT_POSITION_Y</code> absolute axes.</p>
</li>
<li>
<p>The input device does not have any gamepad buttons.  This condition
    resolves an ambiguity with certain gamepads that report axes with codes
    that overlaps those of the MT axes.</p>
</li>
</ul>
<p>An input device is classified as a <em>single-touch</em> device if both of the
following conditions hold:</p>
<ul>
<li>
<p>The input device is not classified as a multi-touch device.  An input device
    is either classified as a single-touch device or as a multi-touch device,
    never both.</p>
</li>
<li>
<p>The input device reports the presence of the <code translate="no" dir="ltr">ABS_X</code> and <code translate="no" dir="ltr">ABS_Y</code> absolute
    axes, and the presence of the <code translate="no" dir="ltr">BTN_TOUCH</code> key code.</p>
</li>
</ul>
<p>Once an input device has been classified as a touch device, the presence
of virtual keys is determined by attempting to load the virtual key map file
for the device.  If a virtual key map is available, then the key layout
file for the device is also loaded.</p>
<p>Refer to the section below about the location and format of virtual key map
files.</p>
<p>Next, the system loads the input device configuration file for the touch device.</p>
<p><strong>All built-in touch devices should have input device configuration files.</strong>
If no input device configuration file is present, the system will
choose a default configuration that is appropriate for typical general-purpose
touch peripherals such as external USB or Bluetooth HID touch screens
or touch pads.  These defaults are not designed for built-in touch screens and
will most likely result in incorrect behavior.</p>
<p>After the input device configuration loaded, the system will classify the
input device as a <em>touch screen</em>, <em>touch pad</em> or <em>pointer</em> device.</p>
<ul>
<li>
<p>A <em>touch screen</em> device is used for direct manipulation of objects on the
    screen.  Since the user is directly touching the screen, the system does
    not require any additional affordances to indicate the objects being
    manipulated.</p>
</li>
<li>
<p>A <em>touch pad</em> device is used to provide absolute positioning information
    to an application about touches on a given sensor area.  It may be useful
    for digitizer tablets.</p>
</li>
<li>
<p>A <em>pointer</em> device is used for indirect manipulation of objects on the
    screen using a cursor.  Fingers are interpreted as multi-touch pointer
    gestures.  Other tools, such as styluses, are interpreted using
    absolute positions.</p>
<p>See <a href="#indirect-multi-touch-pointer-gestures">Indirect Multi-touch Pointer Gestures</a>
for more information.</p>
</li>
</ul>
<p>The following rules are used to classify the input device as a <em>touch screen</em>,
<em>touch pad</em> or <em>pointer</em> device.</p>
<ul>
<li>
<p>If the <code translate="no" dir="ltr">touch.deviceType</code> property is set, then the device type will be
    set as indicated.</p>
</li>
<li>
<p>If the input device reports the presence of the <code translate="no" dir="ltr">INPUT_PROP_DIRECT</code>
    input property (via the <code translate="no" dir="ltr">EVIOCGPROP</code> ioctl), then the device type will
    be set to <em>touch screen</em>.  This condition assumes that direct input touch
    devices are attached to a display that is also connected.</p>
</li>
<li>
<p>If the input device reports the presence of the <code translate="no" dir="ltr">INPUT_PROP_POINTER</code>
    input property (via the <code translate="no" dir="ltr">EVIOCGPROP</code> ioctl), then the device type will
    be set to <em>pointer</em>.</p>
</li>
<li>
<p>If the input device reports the presence of the <code translate="no" dir="ltr">REL_X</code> or <code translate="no" dir="ltr">REL_Y</code> relative
    axes, then the device type will be set to <em>touch pad</em>.  This condition
    resolves an ambiguity for input devices that consist of both a mouse and
    a touch pad.  In this case, the touch pad will not be used to control
    the pointer because the mouse already controls it.</p>
</li>
<li>
<p>Otherwise, the device type will be set to <em>pointer</em>.  This default ensures
    that touch pads that have not been designated any other special purpose
    will serve to control the pointer.</p>
</li>
</ul>
<h2 id="buttons">Buttons</h2>
<p>Buttons are <em>optional</em> controls that may be used by applications to perform
additional functions.  Buttons on touch devices behave similarly to mouse
buttons and are mainly of use with <em>pointer</em> type touch devices or with a
stylus.</p>
<p>The following buttons are supported:</p>
<ul>
<li>
<p><code translate="no" dir="ltr">BTN_LEFT</code>: mapped to <code translate="no" dir="ltr">MotionEvent.BUTTON_PRIMARY</code>.</p>
</li>
<li>
<p><code translate="no" dir="ltr">BTN_RIGHT</code>: mapped to <code translate="no" dir="ltr">MotionEvent.BUTTON_SECONDARY</code>.</p>
</li>
<li>
<p><code translate="no" dir="ltr">BTN_MIDDLE</code>: mapped to <code translate="no" dir="ltr">MotionEvent.BUTTON_MIDDLE</code>.</p>
</li>
<li>
<p><code translate="no" dir="ltr">BTN_BACK</code> and <code translate="no" dir="ltr">BTN_SIDE</code>: mapped to <code translate="no" dir="ltr">MotionEvent.BUTTON_BACK</code>.
    Pressing this button also synthesizes a key press with the key code
    <code translate="no" dir="ltr">KeyEvent.KEYCODE_BACK</code>.</p>
</li>
<li>
<p><code translate="no" dir="ltr">BTN_FORWARD</code> and <code translate="no" dir="ltr">BTN_EXTRA</code>: mapped to <code translate="no" dir="ltr">MotionEvent.BUTTON_FORWARD</code>.
    Pressing this button also synthesizes a key press with the key code
    <code translate="no" dir="ltr">KeyEvent.KEYCODE_FORWARD</code>.</p>
</li>
<li>
<p><code translate="no" dir="ltr">BTN_STYLUS</code>: mapped to <code translate="no" dir="ltr">MotionEvent.BUTTON_SECONDARY</code>.</p>
</li>
<li>
<p><code translate="no" dir="ltr">BTN_STYLUS2</code>: mapped to <code translate="no" dir="ltr">MotionEvent.BUTTON_TERTIARY</code>.</p>
</li>
</ul>
<h2 id="tools-and-tool-types">Tools and Tool Types</h2>
<p>A <em>tool</em> is a finger, stylus or other apparatus that is used to interact with
the touch device.  Some touch devices can distinguish between different
types of tools.</p>
<p>Elsewhere in Android, as in the <code translate="no" dir="ltr">MotionEvent</code> API, a <em>tool</em> is often referred
to as a <em>pointer</em>.</p>
<p>The following tool types are supported:</p>
<ul>
<li>
<p><code translate="no" dir="ltr">BTN_TOOL_FINGER</code> and <code translate="no" dir="ltr">MT_TOOL_FINGER</code>: mapped to <code translate="no" dir="ltr">MotionEvent.TOOL_TYPE_FINGER</code>.</p>
</li>
<li>
<p><code translate="no" dir="ltr">BTN_TOOL_PEN</code> and <code translate="no" dir="ltr">MT_TOOL_PEN</code>: mapped to <code translate="no" dir="ltr">MotionEvent.TOOL_TYPE_STYLUS</code>.</p>
</li>
<li>
<p><code translate="no" dir="ltr">BTN_TOOL_RUBBER</code>: mapped to <code translate="no" dir="ltr">MotionEvent.TOOL_TYPE_ERASER</code>.</p>
</li>
<li>
<p><code translate="no" dir="ltr">BTN_TOOL_BRUSH</code>: mapped to <code translate="no" dir="ltr">MotionEvent.TOOL_TYPE_STYLUS</code>.</p>
</li>
<li>
<p><code translate="no" dir="ltr">BTN_TOOL_PENCIL</code>: mapped to <code translate="no" dir="ltr">MotionEvent.TOOL_TYPE_STYLUS</code>.</p>
</li>
<li>
<p><code translate="no" dir="ltr">BTN_TOOL_AIRBRUSH</code>: mapped to <code translate="no" dir="ltr">MotionEvent.TOOL_TYPE_STYLUS</code>.</p>
</li>
<li>
<p><code translate="no" dir="ltr">BTN_TOOL_MOUSE</code>: mapped to <code translate="no" dir="ltr">MotionEvent.TOOL_TYPE_MOUSE</code>.</p>
</li>
<li>
<p><code translate="no" dir="ltr">BTN_TOOL_LENS</code>: mapped to <code translate="no" dir="ltr">MotionEvent.TOOL_TYPE_MOUSE</code>.</p>
</li>
<li>
<p><code translate="no" dir="ltr">BTN_TOOL_DOUBLETAP</code>, <code translate="no" dir="ltr">BTN_TOOL_TRIPLETAP</code>, and <code translate="no" dir="ltr">BTN_TOOL_QUADTAP</code>:
    mapped to <code translate="no" dir="ltr">MotionEvent.TOOL_TYPE_FINGER</code>.</p>
</li>
</ul>
<h2 id="hovering-vs-touching-tools">Hovering vs. Touching Tools</h2>
<p>Tools can either be in contact with the touch device or in range and hovering
above it.  Not all touch devices are able to sense the presence of a tool
hovering above the touch device.  Those that do, such as RF-based stylus digitizers,
can often detect when the tool is within a limited range of the digitizer.</p>
<p>The <code translate="no" dir="ltr">InputReader</code> component takes care to distinguish touching tools from hovering
tools.  Likewise, touching tools and hovering tools are reported to applications
in different ways.</p>
<p>Touching tools are reported to applications as touch events
using <code translate="no" dir="ltr">MotionEvent.ACTION_DOWN</code>, <code translate="no" dir="ltr">MotionEvent.ACTION_MOVE</code>, <code translate="no" dir="ltr">MotionEvent.ACTION_DOWN</code>,
<code translate="no" dir="ltr">MotionEvent.ACTION_POINTER_DOWN</code> and <code translate="no" dir="ltr">MotionEvent.ACTION_POINTER_UP</code>.</p>
<p>Hovering tools are reported to applications as generic motion events using
<code translate="no" dir="ltr">MotionEvent.ACTION_HOVER_ENTER</code>, <code translate="no" dir="ltr">MotionEvent.ACTION_HOVER_MOVE</code>
and <code translate="no" dir="ltr">MotionEvent.ACTION_HOVER_EXIT</code>.</p>
<h2 id="touch-device-driver-requirements">Touch Device Driver Requirements</h2>
<ol>
<li>
<p>Touch device drivers should only register axes and key codes for the axes
    and buttons that they actually support.  Registering excess axes or key codes
    may confuse the device classification algorithm or cause the system to incorrectly
    detect the capabilities of the device.</p>
<p>For example, if the device reports the <code translate="no" dir="ltr">BTN_TOUCH</code> key code, the system will
assume that <code translate="no" dir="ltr">BTN_TOUCH</code> will always be used to indicate whether the tool is
  actually touching the screen. Therefore, <code translate="no" dir="ltr">BTN_TOUCH</code> should not be used to indicate
  that the tool is merely in the range and hovering.</p>
</li>
<li>
<p>Single-touch devices use the following Linux input events:</p>
<ul>
<li>
<p><code translate="no" dir="ltr">ABS_X</code>: <em>(REQUIRED)</em> Reports the X coordinate of the tool.</p>
</li>
<li>
<p><code translate="no" dir="ltr">ABS_Y</code>: <em>(REQUIRED)</em> Reports the Y coordinate of the tool.</p>
</li>
<li>
<p><code translate="no" dir="ltr">ABS_PRESSURE</code>: <em>(optional)</em> Reports the physical pressure applied to the tip
    of the tool or the signal strength of the touch contact.</p>
</li>
<li>
<p><code translate="no" dir="ltr">ABS_TOOL_WIDTH</code>: <em>(optional)</em> Reports the cross-sectional area or width of the
    touch contact or of the tool itself.</p>
</li>
<li>
<p><code translate="no" dir="ltr">ABS_DISTANCE</code>: <em>(optional)</em> Reports the distance of the tool from the surface of
    the touch device.</p>
</li>
<li>
<p><code translate="no" dir="ltr">ABS_TILT_X</code>: <em>(optional)</em> Reports the tilt of the tool from the surface of the
    touch device along the X axis.</p>
</li>
<li>
<p><code translate="no" dir="ltr">ABS_TILT_Y</code>: <em>(optional)</em> Reports the tilt of the tool from the surface of the
    touch device along the Y axis.</p>
</li>
<li>
<p><code translate="no" dir="ltr">BTN_TOUCH</code>: <em>(REQUIRED)</em> Indicates whether the tool is touching the device.</p>
</li>
<li>
<p><code translate="no" dir="ltr">BTN_LEFT</code>, <code translate="no" dir="ltr">BTN_RIGHT</code>, <code translate="no" dir="ltr">BTN_MIDDLE</code>, <code translate="no" dir="ltr">BTN_BACK</code>, <code translate="no" dir="ltr">BTN_SIDE</code>, <code translate="no" dir="ltr">BTN_FORWARD</code>,
    <code translate="no" dir="ltr">BTN_EXTRA</code>, <code translate="no" dir="ltr">BTN_STYLUS</code>, <code translate="no" dir="ltr">BTN_STYLUS2</code>:
    <em>(optional)</em> Reports <a href="#buttons">button</a> states.</p>
</li>
<li>
<p><code translate="no" dir="ltr">BTN_TOOL_FINGER</code>, <code translate="no" dir="ltr">BTN_TOOL_PEN</code>, <code translate="no" dir="ltr">BTN_TOOL_RUBBER</code>, <code translate="no" dir="ltr">BTN_TOOL_BRUSH</code>,
    <code translate="no" dir="ltr">BTN_TOOL_PENCIL</code>, <code translate="no" dir="ltr">BTN_TOOL_AIRBRUSH</code>, <code translate="no" dir="ltr">BTN_TOOL_MOUSE</code>, <code translate="no" dir="ltr">BTN_TOOL_LENS</code>,
    <code translate="no" dir="ltr">BTN_TOOL_DOUBLETAP</code>, <code translate="no" dir="ltr">BTN_TOOL_TRIPLETAP</code>, <code translate="no" dir="ltr">BTN_TOOL_QUADTAP</code>:
    <em>(optional)</em> Reports the <a href="#tools-and-tool-types">tool type</a>.</p>
</li>
</ul>
</li>
<li>
<p>Multi-touch devices use the following Linux input events:</p>
<ul>
<li>
<p><code translate="no" dir="ltr">ABS_MT_POSITION_X</code>: <em>(REQUIRED)</em> Reports the X coordinate of the tool.</p>
</li>
<li>
<p><code translate="no" dir="ltr">ABS_MT_POSITION_Y</code>: <em>(REQUIRED)</em> Reports the Y coordinate of the tool.</p>
</li>
<li>
<p><code translate="no" dir="ltr">ABS_MT_PRESSURE</code>: <em>(optional)</em> Reports the physical pressure applied to the
    tip of the tool or the signal strength of the touch contact.</p>
</li>
<li>
<p><code translate="no" dir="ltr">ABS_MT_TOUCH_MAJOR</code>: <em>(optional)</em> Reports the cross-sectional area of the
    touch contact, or the length of the longer dimension of the touch contact.</p>
</li>
<li>
<p><code translate="no" dir="ltr">ABS_MT_TOUCH_MINOR</code>: <em>(optional)</em> Reports the length of the shorter dimension of the
    touch contact.  This axis should not be used if <code translate="no" dir="ltr">ABS_MT_TOUCH_MAJOR</code> is reporting an
    area measurement.</p>
</li>
<li>
<p><code translate="no" dir="ltr">ABS_MT_WIDTH_MAJOR</code>: <em>(optional)</em> Reports the cross-sectional area of the tool itself,
    or the length of the longer dimension of the tool itself.
    This axis should not be used if the dimensions of the tool itself are unknown.</p>
</li>
<li>
<p><code translate="no" dir="ltr">ABS_MT_WIDTH_MINOR</code>: <em>(optional)</em> Reports the length of the shorter dimension of
    the tool itself. This axis should not be used if <code translate="no" dir="ltr">ABS_MT_WIDTH_MAJOR</code> is reporting
    an area measurement or if the dimensions of the tool itself are unknown.</p>
</li>
<li>
<p><code translate="no" dir="ltr">ABS_MT_ORIENTATION</code>: <em>(optional)</em> Reports the orientation of the tool.</p>
</li>
<li>
<p><code translate="no" dir="ltr">ABS_MT_DISTANCE</code>: <em>(optional)</em> Reports the distance of the tool from the
    surface of the touch device.</p>
</li>
<li>
<p><code translate="no" dir="ltr">ABS_MT_TOOL_TYPE</code>: <em>(optional)</em> Reports the <a href="#tools-and-tool-types">tool type</a> as
    <code translate="no" dir="ltr">MT_TOOL_FINGER</code> or <code translate="no" dir="ltr">MT_TOOL_PEN</code>.</p>
</li>
<li>
<p><code translate="no" dir="ltr">ABS_MT_TRACKING_ID</code>: <em>(optional)</em> Reports the tracking id of the tool.
    The tracking id is an arbitrary non-negative integer that is used to identify
    and track each tool independently when multiple tools are active.  For example,
    when multiple fingers are touching the device, each finger should be assigned a distinct
    tracking id that is used as long as the finger remains in contact.  Tracking ids
    may be reused when their associated tools move out of range.</p>
</li>
<li>
<p><code translate="no" dir="ltr">ABS_MT_SLOT</code>: <em>(optional)</em> Reports the slot id of the tool, when using the Linux
    multi-touch protocol 'B'.  Refer to the Linux multi-touch protocol documentation
    for more details.</p>
</li>
<li>
<p><code translate="no" dir="ltr">BTN_TOUCH</code>: <em>(REQUIRED)</em> Indicates whether the tool is touching the device.</p>
</li>
<li>
<p><code translate="no" dir="ltr">BTN_LEFT</code>, <code translate="no" dir="ltr">BTN_RIGHT</code>, <code translate="no" dir="ltr">BTN_MIDDLE</code>, <code translate="no" dir="ltr">BTN_BACK</code>, <code translate="no" dir="ltr">BTN_SIDE</code>, <code translate="no" dir="ltr">BTN_FORWARD</code>,
    <code translate="no" dir="ltr">BTN_EXTRA</code>, <code translate="no" dir="ltr">BTN_STYLUS</code>, <code translate="no" dir="ltr">BTN_STYLUS2</code>:
    <em>(optional)</em> Reports <a href="#buttons">button</a> states.</p>
</li>
<li>
<p><code translate="no" dir="ltr">BTN_TOOL_FINGER</code>, <code translate="no" dir="ltr">BTN_TOOL_PEN</code>, <code translate="no" dir="ltr">BTN_TOOL_RUBBER</code>, <code translate="no" dir="ltr">BTN_TOOL_BRUSH</code>,
    <code translate="no" dir="ltr">BTN_TOOL_PENCIL</code>, <code translate="no" dir="ltr">BTN_TOOL_AIRBRUSH</code>, <code translate="no" dir="ltr">BTN_TOOL_MOUSE</code>, <code translate="no" dir="ltr">BTN_TOOL_LENS</code>,
    <code translate="no" dir="ltr">BTN_TOOL_DOUBLETAP</code>, <code translate="no" dir="ltr">BTN_TOOL_TRIPLETAP</code>, <code translate="no" dir="ltr">BTN_TOOL_QUADTAP</code>:
    <em>(optional)</em> Reports the <a href="#tools-and-tool-types">tool type</a>.</p>
</li>
</ul>
</li>
<li>
<p>If axes for both the single-touch and multi-touch protocol are defined, then
    only the multi-touch axes will be used and the single-touch axes will be ignored.</p>
</li>
<li>
<p>The minimum and maximum values of the <code translate="no" dir="ltr">ABS_X</code>, <code translate="no" dir="ltr">ABS_Y</code>, <code translate="no" dir="ltr">ABS_MT_POSITION_X</code>
    and <code translate="no" dir="ltr">ABS_MT_POSITION_Y</code> axes define the bounds of the active area of the device
    in device-specific surface units.  In the case of a touch screen, the active area
    describes the part of the touch device that actually covers the display.</p>
<p>For a touch screen, the system automatically interpolates the reported touch
positions in surface units to obtain touch positions in display pixels according
to the following calculation:</p>
<pre class="devsite-click-to-copy" translate="no" dir="ltr">
displayX = (x - minX) * displayWidth / (maxX - minX + 1)
displayY = (y - minY) * displayHeight / (maxY - minY + 1)
</pre>
<p>A touch screen may report touches outside of the reported active area.</p>
<p>Touches that are initiated outside the active area are not delivered to applications
but may be used for virtual keys.</p>
<p>Touches that are initiated inside the active area, or that enter and exit the display
area are delivered to applications.  Consequently, if a touch starts within the
bounds of an application and then moves outside of the active area, the application
may receive touch events with display coordinates that are negative or beyond the
bounds of the display.  This is expected behavior.</p>
<p>A touch device should never clamp touch coordinates to the bounds of the active
area.  If a touch exits the active area, it should be reported as being outside of
the active area, or it should not be reported at all.</p>
<p>For example, if the user's finger is touching near the top-left corner of the
touch screen, it may report a coordinate of (minX, minY).  If the finger continues
to move further outside of the active area, the touch screen should either start
reporting coordinates with components less than minX and minY, such as
(minX - 2, minY - 3), or it should stop reporting the touch altogether.
In other words, the touch screen should <em>not</em> be reporting (minX, minY)
when the user's finger is really touching outside of the active area.</p>
<p>Clamping touch coordinates to the display edge creates an artificial
hard boundary around the edge of the screen which prevents the system from
smoothly tracking motions that enter or exit the bounds of the display area.</p>
</li>
<li>
<p>The values reported by <code translate="no" dir="ltr">ABS_PRESSURE</code> or <code translate="no" dir="ltr">ABS_MT_PRESSURE</code>, if they
    are reported at all, must be non-zero when the tool is touching the device
    and zero otherwise to indicate that the tool is hovering.</p>
<p>Reporting pressure information is <em>optional</em> but strongly recommended.
Applications can use pressure information to implement pressure-sensitive drawing
and other effects.</p>
</li>
<li>
<p>The values reported by <code translate="no" dir="ltr">ABS_TOOL_WIDTH</code>, <code translate="no" dir="ltr">ABS_MT_TOUCH_MAJOR</code>, <code translate="no" dir="ltr">ABS_MT_TOUCH_MINOR</code>,
    <code translate="no" dir="ltr">ABS_MT_WIDTH_MAJOR</code>, or <code translate="no" dir="ltr">ABS_MT_WIDTH_MINOR</code> should be non-zero when the tool
    is touching the device and zero otherwise, but this is not required.
    For example, the touch device may be able to measure the size of finger touch
    contacts but not stylus touch contacts.</p>
<p>Reporting size information is <em>optional</em> but strongly recommended.
Applications can use pressure information to implement size-sensitive drawing
and other effects.</p>
</li>
<li>
<p>The values reported by <code translate="no" dir="ltr">ABS_DISTANCE</code> or <code translate="no" dir="ltr">ABS_MT_DISTANCE</code> should approach
    zero when the tool is touching the device.  The distance may remain non-zero
    even when the tool is in direct contact.  The exact values reported depend
    on the manner in which the hardware measures distance.</p>
<p>Reporting distance information is <em>optional</em> but recommended for
stylus devices.</p>
</li>
<li>
<p>The values reported by <code translate="no" dir="ltr">ABS_TILT_X</code> and <code translate="no" dir="ltr">ABS_TILT_Y</code> should be zero when the
    tool is perpendicular to the device.  A non-zero tilt is taken as an indication
    that the tool is held at an incline.</p>
<p>The tilt angles along the X and Y axes are assumed to be specified in degrees
from perpendicular.  The center point (perfectly perpendicular) is given
by <code translate="no" dir="ltr">(max + min) / 2</code> for each axis.  Values smaller than the center point
represent a tilt up or to the left, values larger than the center point
represent a tilt down or to the right.</p>
<p>The <code translate="no" dir="ltr">InputReader</code> converts the X and Y tilt components into a perpendicular
tilt angle ranging from 0 to <code translate="no" dir="ltr">PI / 2</code> radians and a planar orientation angle
ranging from <code translate="no" dir="ltr">-PI</code> to <code translate="no" dir="ltr">PI</code> radians.  This representation results in a
description of orientation that is compatible with what is used to describe
finger touches.</p>
<p>Reporting tilt information is <em>optional</em> but recommended for stylus devices.</p>
</li>
<li>
<p>If the tool type is reported by <code translate="no" dir="ltr">ABS_MT_TOOL_TYPE</code>, it will supersede any tool
    type information reported by <code translate="no" dir="ltr">BTN_TOOL_*</code>.
    If no tool type information is available at all, the tool type defaults to
    <code translate="no" dir="ltr">MotionEvent.TOOL_TYPE_FINGER</code>.</p>
</li>
<li>
<p>A tool is determined to be active based on the following conditions:</p>
<ul>
<li>
<p>When using the single-touch protocol, the tool is active if <code translate="no" dir="ltr">BTN_TOUCH</code>,
    or <code translate="no" dir="ltr">BTN_TOOL_*</code> is 1.</p>
<p>This condition implies that the <code translate="no" dir="ltr">InputReader</code> needs to have at least some
information about the nature of the tool, either whether it is touching,
or at least its tool type.  If no information is available,
then the tool is assumed to be inactive (out of range).</p>
</li>
<li>
<p>When using the multi-touch protocol 'A', the tool is active whenever it
    appears in the most recent sync report.  When the tool stops appearing in
    sync reports, it ceases to exist.</p>
</li>
<li>
<p>When using the multi-touch protocol 'B', the tool is active as long as
    it has an active slot.  When the slot it cleared, the tool ceases to exist.</p>
</li>
</ul>
</li>
<li>
<p>A tool is determined to be hovering based on the following conditions:</p>
<ul>
<li>
<p>If the tool is <code translate="no" dir="ltr">BTN_TOOL_MOUSE</code> or <code translate="no" dir="ltr">BTN_TOOL_LENS</code>, then the tool
    is not hovering, even if either of the following conditions are true.</p>
</li>
<li>
<p>If the tool is active and the driver reports pressure information,
    and the reported pressure is zero, then the tool is hovering.</p>
</li>
<li>
<p>If the tool is active and the driver supports the <code translate="no" dir="ltr">BTN_TOUCH</code> key code and
    <code translate="no" dir="ltr">BTN_TOUCH</code> has a value of zero, then the tool is hovering.</p>
</li>
</ul>
</li>
<li>
<p>The <code translate="no" dir="ltr">InputReader</code> supports both multi-touch protocol 'A' and 'B'.  New drivers
    should use the 'B' protocol but either will work.</p>
</li>
<li>
<p><strong>As of Android Ice Cream Sandwich 4.0, touch screen drivers may need to be changed
    to comply with the Linux input protocol specification.</strong></p>
<p>The following changes may be required:</p>
<ul>
<li>
<p>When a tool becomes inactive (finger goes "up"), it should stop appearing
    in subsequent multi-touch sync reports.  When all tools become inactive
    (all fingers go "up"), the driver should send an empty sync report packet,
    such as <code translate="no" dir="ltr">SYN_MT_REPORT</code> followed by <code translate="no" dir="ltr">SYN_REPORT</code>.</p>
<p>Previous versions of Android expected "up" events to be reported by sending
a pressure value of 0.  The old behavior was incompatible with the
Linux input protocol specification and is no longer supported.</p>
</li>
<li>
<p>Physical pressure or signal strength information should be reported using
    <code translate="no" dir="ltr">ABS_MT_PRESSURE</code>.</p>
<p>Previous versions of Android retrieved pressure information from
<code translate="no" dir="ltr">ABS_MT_TOUCH_MAJOR</code>.  The old behavior was incompatible with the
Linux input protocol specification and is no longer supported.</p>
</li>
<li>
<p>Touch size information should be reported using <code translate="no" dir="ltr">ABS_MT_TOUCH_MAJOR</code>.</p>
<p>Previous versions of Android retrieved size information from
<code translate="no" dir="ltr">ABS_MT_TOOL_MAJOR</code>.  The old behavior was incompatible with the
Linux input protocol specification and is no longer supported.</p>
</li>
</ul>
<p>Touch device drivers no longer need Android-specific customizations.
By relying on the standard Linux input protocol, Android can support a
wider variety of touch peripherals, such as external HID multi-touch
touch screens, using unmodified drivers.</p>
</li>
</ol>
<h2 id="touch-device-operation">Touch Device Operation</h2>
<p>The following is a brief summary of the touch device operation on Android.</p>
<ol>
<li>
<p>The <code translate="no" dir="ltr">EventHub</code> reads raw events from the <code translate="no" dir="ltr">evdev</code> driver.</p>
</li>
<li>
<p>The <code translate="no" dir="ltr">InputReader</code> consumes the raw events and updates internal state about
    the position and other characteristics of each tool.  It also tracks
    button states.</p>
</li>
<li>
<p>If the BACK or FORWARD buttons were pressed or released, the <code translate="no" dir="ltr">InputReader</code>
    notifies the <code translate="no" dir="ltr">InputDispatcher</code> about the key event.</p>
</li>
<li>
<p>The <code translate="no" dir="ltr">InputReader</code> determines whether a virtual key press occurred.  If so,
    it notifies the <code translate="no" dir="ltr">InputDispatcher</code> about the key event.</p>
</li>
<li>
<p>The <code translate="no" dir="ltr">InputReader</code> determines whether the touch was initiated within the
    bounds of the display.  If so, it notifies the <code translate="no" dir="ltr">InputDispatcher</code> about
    the touch event.</p>
</li>
<li>
<p>If there are no touching tools but there is at least one hovering tool,
    the <code translate="no" dir="ltr">InputReader</code> notifies the <code translate="no" dir="ltr">InputDispatcher</code> about the hover event.</p>
</li>
<li>
<p>If the touch device type is <em>pointer</em>, the <code translate="no" dir="ltr">InputReader</code> performs pointer
    gesture detection, moves the pointer and spots accordingly and notifies
    the <code translate="no" dir="ltr">InputDispatcher</code> about the pointer event.</p>
</li>
<li>
<p>The <code translate="no" dir="ltr">InputDispatcher</code> uses the <code translate="no" dir="ltr">WindowManagerPolicy</code> to determine whether
    the events should be dispatched and whether they should wake the device.
    Then, the <code translate="no" dir="ltr">InputDispatcher</code> delivers the events to the appropriate applications.</p>
</li>
</ol>
<h2 id="touch-device-configuration">Touch Device Configuration</h2>
<p>Touch device behavior is determined by the device's axes, buttons, input properties,
input device configuration, virtual key map and key layout.</p>
<p>Refer to the following sections for more details about the files that
participate in keyboard configuration:</p>
<ul>
<li><a href="input-device-configuration-files-2.html">Input Device Configuration Files</a></li>
<li><a href="#virtual-key-map-files">Virtual Key Map Files</a></li>
</ul>
<h3 id="properties">Properties</h3>
<p>The system relies on many input device configuration properties to configure
and calibrate touch device behavior.</p>
<p>One reason for this is that the device drivers for touch devices often report
the characteristics of touches using device-specific units.</p>
<p>For example, many touch devices measure the touch contact area
using an internal device-specific scale, such as the total number of
sensor nodes that were triggered by the touch.  This raw size value would
not be meaningful to applications because they would need to know about the
physical size and other characteristics of the touch device sensor nodes.</p>
<p>The system uses calibration parameters encoded in input device configuration
files to decode, transform, and normalize the values reported by the touch
device into a simpler standard representation that applications can understand.</p>
<h3 id="documentation-conventions">Documentation Conventions</h3>
<p>For documentation purposes, we will use the following conventions to describe
the values used by the system during the calibration process.</p>
<h4 id="raw-axis-values">Raw Axis Values</h4>
<p>The following expressions denote the raw values reported by the touch
device driver as <code translate="no" dir="ltr">EV_ABS</code> events.</p>
<dl>
<dt><code translate="no" dir="ltr">raw.x</code></dt>
<dd>The value of the <code translate="no" dir="ltr">ABS_X</code> or <code translate="no" dir="ltr">ABS_MT_POSITION_X</code> axis.</dd>
<dt><code translate="no" dir="ltr">raw.y</code></dt>
<dd>The value of the <code translate="no" dir="ltr">ABS_Y</code> or <code translate="no" dir="ltr">ABS_MT_POSITION_Y</code> axis.</dd>
<dt><code translate="no" dir="ltr">raw.pressure</code></dt>
<dd>The value of the <code translate="no" dir="ltr">ABS_PRESSURE</code> or <code translate="no" dir="ltr">ABS_MT_PRESSURE</code> axis, or 0 if not available.</dd>
<dt><code translate="no" dir="ltr">raw.touchMajor</code></dt>
<dd>The value of the <code translate="no" dir="ltr">ABS_MT_TOUCH_MAJOR</code> axis, or 0 if not available.</dd>
<dt><code translate="no" dir="ltr">raw.touchMinor</code></dt>
<dd>The value of the <code translate="no" dir="ltr">ABS_MT_TOUCH_MINOR</code> axis, or <code translate="no" dir="ltr">raw.touchMajor</code> if not available.</dd>
<dt><code translate="no" dir="ltr">raw.toolMajor</code></dt>
<dd>The value of the <code translate="no" dir="ltr">ABS_TOOL_WIDTH</code> or <code translate="no" dir="ltr">ABS_MT_WIDTH_MAJOR</code> axis, or 0 if not available.</dd>
<dt><code translate="no" dir="ltr">raw.toolMinor</code></dt>
<dd>The value of the <code translate="no" dir="ltr">ABS_MT_WIDTH_MINOR</code> axis, or <code translate="no" dir="ltr">raw.toolMajor</code> if not available.</dd>
<dt><code translate="no" dir="ltr">raw.orientation</code></dt>
<dd>The value of the <code translate="no" dir="ltr">ABS_MT_ORIENTATION</code> axis, or 0 if not available.</dd>
<dt><code translate="no" dir="ltr">raw.distance</code></dt>
<dd>The value of the <code translate="no" dir="ltr">ABS_DISTANCE</code> or <code translate="no" dir="ltr">ABS_MT_DISTANCE</code> axis, or 0 if not available.</dd>
<dt><code translate="no" dir="ltr">raw.tiltX</code></dt>
<dd>The value of the <code translate="no" dir="ltr">ABS_TILT_X</code> axis, or 0 if not available.</dd>
<dt><code translate="no" dir="ltr">raw.tiltY</code></dt>
<dd>The value of the <code translate="no" dir="ltr">ABS_TILT_Y</code> axis, or 0 if not available.</dd>
</dl>
<h4 id="raw-axis-ranges">Raw Axis Ranges</h4>
<p>The following expressions denote the bounds of raw values.  They are obtained
by calling <code translate="no" dir="ltr">EVIOCGABS</code> ioctl for each axis.</p>
<dl>
<dt><code translate="no" dir="ltr">raw.*.min</code></dt>
<dd>The inclusive minimum value of the raw axis.</dd>
<dt><code translate="no" dir="ltr">raw.*.max</code></dt>
<dd>The inclusive maximum value of the raw axis.</dd>
<dt><code translate="no" dir="ltr">raw.*.range</code></dt>
<dd>Equivalent to <code translate="no" dir="ltr">raw.*.max - raw.*.min</code>.</dd>
<dt><code translate="no" dir="ltr">raw.*.fuzz</code></dt>
<dd>The accuracy of the raw axis.  eg. fuzz = 1 implies values are accurate to +/- 1 unit.</dd>
<dt><code translate="no" dir="ltr">raw.width</code></dt>
<dd>The inclusive width of the touch area, equivalent to <code translate="no" dir="ltr">raw.x.range + 1</code>.</dd>
<dt><code translate="no" dir="ltr">raw.height</code></dt>
<dd>The inclusive height of the touch area, equivalent to <code translate="no" dir="ltr">raw.y.range + 1</code>.</dd>
</dl>
<h4 id="output-ranges">Output Ranges</h4>
<p>The following expressions denote the characteristics of the output coordinate system.
The system uses linear interpolation to translate touch position information from
the surface units used by the touch device into the output units that will
be reported to applications such as display pixels.</p>
<dl>
<dt><code translate="no" dir="ltr">output.width</code></dt>
<dd>The output width.  For touch screens (associated with a display), this
is the display width in pixels.  For touch pads (not associated with a display),
the output width equals <code translate="no" dir="ltr">raw.width</code>, indicating that no interpolation will
be performed.</dd>
<dt><code translate="no" dir="ltr">output.height</code></dt>
<dd>The output height.  For touch screens (associated with a display), this
is the display height in pixels.  For touch pads (not associated with a display),
the output height equals <code translate="no" dir="ltr">raw.height</code>, indicating that no interpolation will
be performed.</dd>
<dt><code translate="no" dir="ltr">output.diag</code></dt>
<dd>The diagonal length of the output coordinate system, equivalent to
<code translate="no" dir="ltr">sqrt(output.width ^2 + output.height ^2)</code>.</dd>
</dl>
<h3 id="basic-configuration">Basic Configuration</h3>
<p>The touch input mapper uses many configuration properties in the input device
configuration file to specify calibration values.  The following table describes
some general purpose configuration properties.  All other properties are described
in the following sections along with the fields they are used to calibrate.</p>
<h4 id="touchdevicetype"><code translate="no" dir="ltr">touch.deviceType</code></h4>
<p><em>Definition:</em> <code translate="no" dir="ltr">touch.deviceType</code> = <code translate="no" dir="ltr">touchScreen</code> | <code translate="no" dir="ltr">touchPad</code> | <code translate="no" dir="ltr">pointer</code> | <code translate="no" dir="ltr">default</code></p>
<p>Specifies the touch device type.</p>
<ul>
<li>
<p>If the value is <code translate="no" dir="ltr">touchScreen</code>, the touch device is a touch screen associated
    with a display.</p>
</li>
<li>
<p>If the value is <code translate="no" dir="ltr">touchPad</code>, the touch device is a touch pad not associated
    with a display.</p>
</li>
<li>
<p>If the value is <code translate="no" dir="ltr">pointer</code>, the touch device is a touch pad not associated
    with a display, and its motions are used for
    <a href="#indirect-multi-touch-pointer-gestures">indirect multi-touch pointer gestures</a>.</p>
</li>
<li>
<p>If the value is <code translate="no" dir="ltr">default</code>, the system automatically detects the device type
    according to the classification algorithm.</p>
</li>
</ul>
<p>Refer to the <a href="#touch-device-classification">Classification</a> section for more details
about how the device type influences the behavior of the touch device.</p>
<p>Prior to Honeycomb, all touch devices were assumed to be touch screens.</p>
<h4 id="touchorientationaware"><code translate="no" dir="ltr">touch.orientationAware</code></h4>
<p><em>Definition:</em> <code translate="no" dir="ltr">touch.orientationAware</code> = <code translate="no" dir="ltr">0</code> | <code translate="no" dir="ltr">1</code></p>
<p>Specifies whether the touch device should react to display orientation changes.</p>
<ul>
<li>
<p>If the value is <code translate="no" dir="ltr">1</code>, touch positions reported by the touch device are rotated
    whenever the display orientation changes.</p>
</li>
<li>
<p>If the value is <code translate="no" dir="ltr">0</code>, touch positions reported by the touch device are immune
    to display orientation changes.</p>
</li>
</ul>
<p>The default value is <code translate="no" dir="ltr">1</code> if the device is a touch screen, <code translate="no" dir="ltr">0</code> otherwise.</p>
<p>The system distinguishes between internal and external touch screens and displays.
An orientation aware internal touch screen is rotated based on the orientation
of the internal display.  An orientation aware external touch screen is rotated
based on the orientation of the external display.</p>
<p>Orientation awareness is used to support rotation of touch screens on devices
like the Nexus One.  For example, when the device is rotated clockwise 90 degrees
from its natural orientation, the absolute positions of touches are remapped such
that a touch in the top-left corner of the touch screen's absolute coordinate system
is reported as a touch in the top-left corner of the display's rotated coordinate system.
This is done so that touches are reported with the same coordinate system that
applications use to draw their visual elements.</p>
<p>Prior to Honeycomb, all touch devices were assumed to be orientation aware.</p>
<h4 id="touchgesturemode"><code translate="no" dir="ltr">touch.gestureMode</code></h4>
<p><em>Definition:</em> <code translate="no" dir="ltr">touch.gestureMode</code> = <code translate="no" dir="ltr">pointer</code> | <code translate="no" dir="ltr">spots</code> | <code translate="no" dir="ltr">default</code></p>
<p>Specifies the presentation mode for pointer gestures.  This configuration property
is only relevant when the touch device is of type <em>pointer</em>.</p>
<ul>
<li>
<p>If the value is <code translate="no" dir="ltr">pointer</code>, the touch pad gestures are presented by way of a cursor
    similar to a mouse pointer.</p>
</li>
<li>
<p>If the value is <code translate="no" dir="ltr">spots</code>, the touch pad gestures are presented by an anchor
    that represents the centroid of the gesture and a set of circular spots
    that represent the position of individual fingers.</p>
</li>
</ul>
<p>The default value is <code translate="no" dir="ltr">pointer</code> when the <code translate="no" dir="ltr">INPUT_PROP_SEMI_MT</code> input property
is set, or <code translate="no" dir="ltr">spots</code> otherwise.</p>
<h3 id="x-and-y-fields"><code translate="no" dir="ltr">X</code> and <code translate="no" dir="ltr">Y</code> Fields</h3>
<p>The X and Y fields provide positional information for the center of the contact area.</p>
<h4 id="calculation">Calculation</h4>
<p>The calculation is straightforward: positional information from the touch driver is
linearly interpolated to the output coordinate system.</p>
<pre class="devsite-click-to-copy" translate="no" dir="ltr">
xScale = output.width / raw.width
yScale = output.height / raw.height

If not orientation aware or screen rotation is 0 degrees:
output.x = (raw.x - raw.x.min) * xScale
output.y = (raw.y - raw.y.min) * yScale
Else If rotation is 90 degrees:
    output.x = (raw.y - raw.y.min) * yScale
    output.y = (raw.x.max - raw.x) * xScale
Else If rotation is 180 degrees:
    output.x = (raw.x.max - raw.x) * xScale
    output.y = (raw.y.max - raw.y) * yScale
Else If rotation is 270 degrees:
    output.x = (raw.y.max - raw.y) * yScale
    output.y = (raw.x - raw.x.min) * xScale
End If
</pre>
<h3 id="touchmajor-touchminor-toolmajor-toolminor-size-fields"><code translate="no" dir="ltr">TouchMajor</code>, <code translate="no" dir="ltr">TouchMinor</code>, <code translate="no" dir="ltr">ToolMajor</code>, <code translate="no" dir="ltr">ToolMinor</code>, <code translate="no" dir="ltr">Size</code> Fields</h3>
<p>The <code translate="no" dir="ltr">TouchMajor</code> and <code translate="no" dir="ltr">TouchMinor</code> fields describe the approximate dimensions
of the contact area in output units (pixels).</p>
<p>The <code translate="no" dir="ltr">ToolMajor</code> and <code translate="no" dir="ltr">ToolMinor</code> fields describe the approximate dimensions
of the <a href="#tools-and-tool-types">tool</a> itself in output units (pixels).</p>
<p>The <code translate="no" dir="ltr">Size</code> field describes the normalized size of the touch relative to
the largest possible touch that the touch device can sense.  The smallest
possible normalized size is 0.0 (no contact, or it is unmeasurable), and the largest
possible normalized size is 1.0 (sensor area is saturated).</p>
<p>When both the approximate length and breadth can be measured, then the <code translate="no" dir="ltr">TouchMajor</code> field
specifies the longer dimension and the <code translate="no" dir="ltr">TouchMinor</code> field specifies the shorter dimension
of the contact area.  When only the approximate diameter of the contact area can be measured,
then the <code translate="no" dir="ltr">TouchMajor</code> and <code translate="no" dir="ltr">TouchMinor</code> fields will be equal.</p>
<p>Likewise, the <code translate="no" dir="ltr">ToolMajor</code> field specifies the longer dimension and the <code translate="no" dir="ltr">ToolMinor</code>
field specifies the shorter dimension of the tool's cross-sectional area.</p>
<p>If the touch size is unavailable but the tool size is available, then the tool size
will be set equal to the touch size.  Conversely, if the tool size is unavailable
but the touch size is available, then the touch size will be set equal to the tool size.</p>
<p>Touch devices measure or report the touch size and tool size in various ways.
The current implementation supports three different kinds of measurements:
diameter, area, and geometric bounding box in surface units.</p>
<h4 id="touchsizecalibration"><code translate="no" dir="ltr">touch.size.calibration</code></h4>
<p><em>Definition:</em> <code translate="no" dir="ltr">touch.size.calibration</code> = <code translate="no" dir="ltr">none</code> | <code translate="no" dir="ltr">geometric</code> | <code translate="no" dir="ltr">diameter</code>
| <code translate="no" dir="ltr">area</code> | <code translate="no" dir="ltr">default</code></p>
<p>Specifies the kind of measurement used by the touch driver to report the
touch size and tool size.</p>
<ul>
<li>
<p>If the value is <code translate="no" dir="ltr">none</code>, the size is set to zero.</p>
</li>
<li>
<p>If the value is <code translate="no" dir="ltr">geometric</code>, the size is assumed to be specified in the same
    surface units as the position, so it is scaled in the same manner.</p>
</li>
<li>
<p>If the value is <code translate="no" dir="ltr">diameter</code>, the size is assumed to be proportional to
    the diameter (width) of the touch or tool.</p>
</li>
<li>
<p>If the value is <code translate="no" dir="ltr">area</code>, the size is assumed to be proportional to the
    area of the touch or tool.</p>
</li>
<li>
<p>If the value is <code translate="no" dir="ltr">default</code>, the system uses the <code translate="no" dir="ltr">geometric</code> calibration if the
    <code translate="no" dir="ltr">raw.touchMajor</code> or <code translate="no" dir="ltr">raw.toolMajor</code> axis is available, otherwise it uses
    the <code translate="no" dir="ltr">none</code> calibration.</p>
</li>
</ul>
<h4 id="touchsizescale"><code translate="no" dir="ltr">touch.size.scale</code></h4>
<p><em>Definition:</em> <code translate="no" dir="ltr">touch.size.scale</code> = &lt;a non-negative floating point number&gt;</p>
<p>Specifies a constant scale factor used in the calibration.</p>
<p>The default value is <code translate="no" dir="ltr">1.0</code>.</p>
<h4 id="touchsizebias"><code translate="no" dir="ltr">touch.size.bias</code></h4>
<p><em>Definition:</em> <code translate="no" dir="ltr">touch.size.bias</code> = &lt;a non-negative floating point number&gt;</p>
<p>Specifies a constant bias value used in the calibration.</p>
<p>The default value is <code translate="no" dir="ltr">0.0</code>.</p>
<h4 id="touchsizeissummed"><code translate="no" dir="ltr">touch.size.isSummed</code></h4>
<p><em>Definition:</em> <code translate="no" dir="ltr">touch.size.isSummed</code> = <code translate="no" dir="ltr">0</code> | <code translate="no" dir="ltr">1</code></p>
<p>Specifies whether the size is reported as the sum of the sizes of all
active contacts, or is reported individually for each contact.</p>
<ul>
<li>
<p>If the value is <code translate="no" dir="ltr">1</code>, the reported size will be divided by the number
    of contacts prior to use.</p>
</li>
<li>
<p>If the value is <code translate="no" dir="ltr">0</code>, the reported size will be used as is.</p>
</li>
</ul>
<p>The default value is <code translate="no" dir="ltr">0</code>.</p>
<p>Some touch devices, particularly "Semi-MT" devices cannot distinguish the
individual dimensions of multiple contacts so they report a size measurement
that represents their total area or width.  This property should only be set to
<code translate="no" dir="ltr">1</code> for such devices.  If in doubt, set this value to <code translate="no" dir="ltr">0</code>.</p>
<h4 id="calculation_1">Calculation</h4>
<p>The calculation of the <code translate="no" dir="ltr">TouchMajor</code>, <code translate="no" dir="ltr">TouchMinor</code>, <code translate="no" dir="ltr">ToolMajor</code>, <code translate="no" dir="ltr">ToolMinor</code>
and <code translate="no" dir="ltr">Size</code> fields depends on the specified calibration parameters.</p>
<pre class="devsite-click-to-copy" translate="no" dir="ltr">
If raw.touchMajor and raw.toolMajor are available:
    touchMajor = raw.touchMajor
    touchMinor = raw.touchMinor
    toolMajor = raw.toolMajor
    toolMinor = raw.toolMinor
Else If raw.touchMajor is available:
    toolMajor = touchMajor = raw.touchMajor
    toolMinor = touchMinor = raw.touchMinor
Else If raw.toolMajor is available:
    touchMajor = toolMajor = raw.toolMajor
    touchMinor = toolMinor = raw.toolMinor
Else
    touchMajor = toolMajor = 0
    touchMinor = toolMinor = 0
    size = 0
End If

size = avg(touchMajor, touchMinor)

If touch.size.isSummed == 1:
    touchMajor = touchMajor / numberOfActiveContacts
    touchMinor = touchMinor / numberOfActiveContacts
    toolMajor = toolMajor / numberOfActiveContacts
    toolMinor = toolMinor / numberOfActiveContacts
    size = size / numberOfActiveContacts
End If

If touch.size.calibration == "none":
    touchMajor = toolMajor = 0
    touchMinor = toolMinor = 0
    size = 0
Else If touch.size.calibration == "geometric":
    outputScale = average(output.width / raw.width, output.height / raw.height)
    touchMajor = touchMajor * outputScale
    touchMinor = touchMinor * outputScale
    toolMajor = toolMajor * outputScale
    toolMinor = toolMinor * outputScale
Else If touch.size.calibration == "area":
    touchMajor = sqrt(touchMajor)
    touchMinor = touchMajor
    toolMajor = sqrt(toolMajor)
    toolMinor = toolMajor
Else If touch.size.calibration == "diameter":
    touchMinor = touchMajor
    toolMinor = toolMajor
End If

If touchMajor != 0:
    output.touchMajor = touchMajor * touch.size.scale + touch.size.bias
Else
    output.touchMajor = 0
End If

If touchMinor != 0:
    output.touchMinor = touchMinor * touch.size.scale + touch.size.bias
Else
    output.touchMinor = 0
End If

If toolMajor != 0:
    output.toolMajor = toolMajor * touch.size.scale + touch.size.bias
Else
    output.toolMajor = 0
End If

If toolMinor != 0:
    output.toolMinor = toolMinor * touch.size.scale + touch.size.bias
Else
    output.toolMinor = 0
End If

output.size = size
</pre>
<h3 id="pressure-field"><code translate="no" dir="ltr">Pressure</code> Field</h3>
<p>The <code translate="no" dir="ltr">Pressure</code> field describes the approximate physical pressure applied to the
touch device as a normalized value between 0.0 (no touch) and 1.0 (full force).</p>
<p>A zero pressure indicates that the tool is hovering.</p>
<h4 id="touchpressurecalibration"><code translate="no" dir="ltr">touch.pressure.calibration</code></h4>
<p><em>Definition:</em> <code translate="no" dir="ltr">touch.pressure.calibration</code> = <code translate="no" dir="ltr">none</code> | <code translate="no" dir="ltr">physical</code> | <code translate="no" dir="ltr">amplitude</code> | <code translate="no" dir="ltr">default</code></p>
<p>Specifies the kind of measurement used by the touch driver to report the pressure.</p>
<ul>
<li>
<p>If the value is <code translate="no" dir="ltr">none</code>, the pressure is unknown so it is set to 1.0 when
    touching and 0.0 when hovering.</p>
</li>
<li>
<p>If the value is <code translate="no" dir="ltr">physical</code>, the pressure axis is assumed to measure the actual
    physical intensity of pressure applied to the touch pad.</p>
</li>
<li>
<p>If the value is <code translate="no" dir="ltr">amplitude</code>, the pressure axis is assumed to measure the signal
    amplitude, which is related to the size of the contact and the pressure applied.</p>
</li>
<li>
<p>If the value is <code translate="no" dir="ltr">default</code>, the system uses the <code translate="no" dir="ltr">physical</code> calibration if the
    pressure axis available, otherwise uses <code translate="no" dir="ltr">none</code>.</p>
</li>
</ul>
<h4 id="touchpressurescale"><code translate="no" dir="ltr">touch.pressure.scale</code></h4>
<p><em>Definition:</em> <code translate="no" dir="ltr">touch.pressure.scale</code> = &lt;a non-negative floating point number&gt;</p>
<p>Specifies a constant scale factor used in the calibration.</p>
<p>The default value is <code translate="no" dir="ltr">1.0 / raw.pressure.max</code>.</p>
<h4 id="calculation_2">Calculation</h4>
<p>The calculation of the <code translate="no" dir="ltr">Pressure</code> field depends on the specified calibration parameters.</p>
<pre class="devsite-click-to-copy" translate="no" dir="ltr">If touch.pressure.calibration == "physical" or "amplitude":
    output.pressure = raw.pressure * touch.pressure.scale
Else
    If hovering:
        output.pressure = 0
    Else
        output.pressure = 1
    End If
End If
</pre>
<h3 id="orientation-and-tilt-fields"><code translate="no" dir="ltr">Orientation</code> and <code translate="no" dir="ltr">Tilt</code> Fields</h3>
<p>The <code translate="no" dir="ltr">Orientation</code> field describes the orientation of the touch and tool as an
angular measurement.  An orientation of <code translate="no" dir="ltr">0</code> indicates that the major axis is
oriented vertically, <code translate="no" dir="ltr">-PI/2</code> indicates that the major axis is oriented to the left,
<code translate="no" dir="ltr">PI/2</code> indicates that the major axis is oriented to the right.  When a stylus
tool is present, the orientation range may be described in a full circle range
from <code translate="no" dir="ltr">-PI</code> or <code translate="no" dir="ltr">PI</code>.</p>
<p>The <code translate="no" dir="ltr">Tilt</code> field describes the inclination of the tool as an angular measurement.
A tilt of <code translate="no" dir="ltr">0</code> indicates that the tool is perpendicular to the surface.
A tilt of <code translate="no" dir="ltr">PI/2</code> indicates that the tool is flat on the surface.</p>
<h4 id="touchorientationcalibration"><code translate="no" dir="ltr">touch.orientation.calibration</code></h4>
<p><em>Definition:</em> <code translate="no" dir="ltr">touch.orientation.calibration</code> = <code translate="no" dir="ltr">none</code> | <code translate="no" dir="ltr">interpolated</code> | <code translate="no" dir="ltr">vector</code> | <code translate="no" dir="ltr">default</code></p>
<p>Specifies the kind of measurement used by the touch driver to report the orientation.</p>
<ul>
<li>
<p>If the value is <code translate="no" dir="ltr">none</code>, the orientation is unknown so it is set to 0.</p>
</li>
<li>
<p>If the value is <code translate="no" dir="ltr">interpolated</code>, the orientation is linearly interpolated such that a
    raw value of <code translate="no" dir="ltr">raw.orientation.min</code> maps to <code translate="no" dir="ltr">-PI/2</code> and a raw value of
    <code translate="no" dir="ltr">raw.orientation.max</code> maps to <code translate="no" dir="ltr">PI/2</code>.  The center value of
    <code translate="no" dir="ltr">(raw.orientation.min + raw.orientation.max) / 2</code> maps to <code translate="no" dir="ltr">0</code>.</p>
</li>
<li>
<p>If the value is <code translate="no" dir="ltr">vector</code>, the orientation is interpreted as a packed vector consisiting
    of two signed 4-bit fields.  This representation is used on Atmel Object Based Protocol
    parts.  When decoded, the vector yields an orientation angle and confidence
    magnitude.  The confidence magnitude is used to scale the size information,
    unless it is geometric.</p>
</li>
<li>
<p>If the value is <code translate="no" dir="ltr">default</code>, the system uses the <code translate="no" dir="ltr">interpolated</code> calibration if the
    orientation axis available, otherwise uses <code translate="no" dir="ltr">none</code>.</p>
</li>
</ul>
<h4 id="calculation_3">Calculation</h4>
<p>The calculation of the <code translate="no" dir="ltr">Orientation</code> and <code translate="no" dir="ltr">Tilt</code> fields depends on the specified
calibration parameters and available input.</p>
<pre class="devsite-click-to-copy" translate="no" dir="ltr">
If touch.tiltX and touch.tiltY are available:
    tiltXCenter = average(raw.tiltX.min, raw.tiltX.max)
    tiltYCenter = average(raw.tiltY.min, raw.tiltY.max)
    tiltXAngle = (raw.tiltX - tiltXCenter) * PI / 180
    tiltYAngle = (raw.tiltY - tiltYCenter) * PI / 180
    output.orientation = atan2(-sin(tiltXAngle), sinf(tiltYAngle))
    output.tilt = acos(cos(tiltXAngle) * cos(tiltYAngle))
Else If touch.orientation.calibration == "interpolated":
    center = average(raw.orientation.min, raw.orientation.max)
    output.orientation = PI / (raw.orientation.max - raw.orientation.min)
    output.tilt = 0
Else If touch.orientation.calibration == "vector":
    c1 = (raw.orientation &amp; 0xF0) &gt;&gt; 4
    c2 = raw.orientation &amp; 0x0F

    If c1 != 0 or c2 != 0:
        If c1 &gt;= 8 Then c1 = c1 - 16
        If c2 &gt;= 8 Then c2 = c2 - 16
        angle = atan2(c1, c2) / 2
        confidence = sqrt(c1*c1 + c2*c2)

        output.orientation = angle

        If touch.size.calibration == "diameter" or "area":
            scale = 1.0 + confidence / 16
            output.touchMajor *= scale
            output.touchMinor /= scale
            output.toolMajor *= scale
            output.toolMinor /= scale
        End If
    Else
        output.orientation = 0
    End If
    output.tilt = 0
Else
    output.orientation = 0
    output.tilt = 0
End If

If orientation aware:
    If screen rotation is 90 degrees:
        output.orientation = output.orientation - PI / 2
    Else If screen rotation is 270 degrees:
        output.orientation = output.orientation + PI / 2
    End If
End If
</pre>
<h3 id="distance-field"><code translate="no" dir="ltr">Distance</code> Field</h3>
<p>The <code translate="no" dir="ltr">Distance</code> field describes the distance between the tool and the touch device
surface.  A value of 0.0 indicates direct contact and larger values indicate
increasing distance from the surface.</p>
<h4 id="touchdistancecalibration"><code translate="no" dir="ltr">touch.distance.calibration</code></h4>
<p><em>Definition:</em> <code translate="no" dir="ltr">touch.distance.calibration</code> = <code translate="no" dir="ltr">none</code> | <code translate="no" dir="ltr">scaled</code> | <code translate="no" dir="ltr">default</code></p>
<p>Specifies the kind of measurement used by the touch driver to report the distance.</p>
<ul>
<li>
<p>If the value is <code translate="no" dir="ltr">none</code>, the distance is unknown so it is set to 0.</p>
</li>
<li>
<p>If the value is <code translate="no" dir="ltr">scaled</code>, the reported distance is multiplied by a
    constant scale factor.</p>
</li>
<li>
<p>If the value is <code translate="no" dir="ltr">default</code>, the system uses the <code translate="no" dir="ltr">scaled</code> calibration if the
    distance axis available, otherwise uses <code translate="no" dir="ltr">none</code>.</p>
</li>
</ul>
<h4 id="touchdistancescale"><code translate="no" dir="ltr">touch.distance.scale</code></h4>
<p><em>Definition:</em> <code translate="no" dir="ltr">touch.distance.scale</code> = &lt;a non-negative floating point number&gt;</p>
<p>Specifies a constant scale factor used in the calibration.</p>
<p>The default value is <code translate="no" dir="ltr">1.0</code>.</p>
<h4 id="calculation_4">Calculation</h4>
<p>The calculation of the <code translate="no" dir="ltr">Distance</code> field depends on the specified calibration parameters.</p>
<pre class="devsite-click-to-copy" translate="no" dir="ltr">If touch.distance.calibration == "scaled":
    output.distance = raw.distance * touch.distance.scale
Else
    output.distance = 0
End If
</pre>
<h3 id="example">Example</h3>
<pre class="devsite-click-to-copy" translate="no" dir="ltr">
# Input device configuration file for a touch screen that supports pressure,
# size and orientation.  The pressure and size scale factors were obtained
# by measuring the characteristics of the device itself and deriving
# useful approximations based on the resolution of the touch sensor and the
# display.
#
# Note that these parameters are specific to a particular device model.
# Different parameters will need to be used for other devices.

# Basic Parameters
touch.deviceType = touchScreen
touch.orientationAware = 1

# Size
# Based on empirical measurements, we estimate the size of the contact
# using size = sqrt(area) * 28 + 0.
touch.size.calibration = area
touch.size.scale = 28
touch.size.bias = 0
touch.size.isSummed = 0

# Pressure
# Driver reports signal strength as pressure.
#
# A normal index finger touch typically registers about 80 signal strength
# units although we don't expect these values to be accurate.
touch.pressure.calibration = amplitude
touch.pressure.scale = 0.0125

# Orientation
touch.orientation.calibration = vector
</pre>
<h3 id="compatibility-notes">Compatibility Notes</h3>
<p>The configuration properties for touch devices changed significantly in
Android Ice Cream Sandwich 4.0.  <strong>All input device configuration files for touch
devices must be updated to use the new configuration properties.</strong></p>
<p>Older touch device <a href="#touch-device-driver-requirements">drivers</a> may also need to be
updated.</p>
<h2 id="virtual-key-map-files">Virtual Key Map Files</h2>
<p>Touch devices are often used to implement virtual keys.</p>
<p>There are several ways of doing this, depending on the capabilities of the
touch controller.  Some touch controllers can be directly configured to implement
soft keys by setting firmware registers.  Other times it is desirable to perform
the mapping from touch coordinates to key codes in software.</p>
<p>When virtual keys are implemented in software, the kernel must export a virtual key map
file called <code translate="no" dir="ltr">virtualkeys.&lt;devicename&gt;</code> as a board property.  For example,
if the touch screen device drivers reports its name as "touchyfeely" then
the virtual key map file must have the path <code translate="no" dir="ltr">/sys/board_properties/virtualkeys.touchyfeely</code>.</p>
<p>A virtual key map file describes the coordinates and Linux key codes of virtual keys
on the touch screen.</p>
<p>In addition to the virtual key map file, there must be a corresponding key layout
file and key character map file to map the Linux key codes to Android key codes and
to specify the type of the keyboard device (usually <code translate="no" dir="ltr">SPECIAL_FUNCTION</code>).</p>
<h3 id="syntax">Syntax</h3>
<p>A virtual key map file is a plain text file consisting of a sequence of virtual key
layout descriptions either separated by newlines or by colons.</p>
<p>Comment lines begin with '#' and continue to the end of the line.</p>
<p>Each virtual key is described by 6 colon-delimited components:</p>
<ul>
<li><code translate="no" dir="ltr">0x01</code>: A version code.  Must always be <code translate="no" dir="ltr">0x01</code>.</li>
<li>&lt;Linux key code&gt;: The Linux key code of the virtual key.</li>
<li>&lt;centerX&gt;: The X pixel coordinate of the center of the virtual key.</li>
<li>&lt;centerY&gt;: The Y pixel coordinate of the center of the virtual key.</li>
<li>&lt;width&gt;: The width of the virtual key in pixels.</li>
<li>&lt;height&gt;: The height of the virtual key in pixels.</li>
</ul>
<p>All coordinates and sizes are specified in terms of the display coordinate system.</p>
<p>Here is a virtual key map file all written on one line.</p>
<pre class="devsite-click-to-copy" translate="no" dir="ltr">
# All on one line
0x01:158:55:835:90:55:0x01:139:172:835:125:55:0x01:102:298:835:115:55:0x01:217:412:835:95:55
</pre>
<p>The same virtual key map file can also be written on multiple lines.</p>
<pre class="devsite-click-to-copy" translate="no" dir="ltr">
# One key per line
0x01:158:55:835:90:55
0x01:139:172:835:125:55
0x01:102:298:835:115:55
0x01:217:412:835:95:55
</pre>
<p>In the above example, the touch screen has a resolution of 480x800.  Accordingly, all of
the virtual keys have a &lt;centerY&gt; coordinate of 835, which is a little bit below
the visible area of the touch screen.</p>
<p>The first key has a Linux scan code of <code translate="no" dir="ltr">158</code> (<code translate="no" dir="ltr">KEY_BACK</code>), centerX of <code translate="no" dir="ltr">55</code>,
centerY of <code translate="no" dir="ltr">835</code>, width of <code translate="no" dir="ltr">90</code> and height of <code translate="no" dir="ltr">55</code>.</p>
<h3 id="example_1">Example</h3>
<p>Virtual key map file: <code translate="no" dir="ltr">/sys/board_properties/virtualkeys.touchyfeely</code>.</p>
<pre class="devsite-click-to-copy" translate="no" dir="ltr">
0x01:158:55:835:90:55
0x01:139:172:835:125:55
0x01:102:298:835:115:55
0x01:217:412:835:95:55
</pre>
<p>Key layout file: <code translate="no" dir="ltr">/system/usr/keylayout/touchyfeely.kl</code>.</p>
<pre class="devsite-click-to-copy" translate="no" dir="ltr">key 158 BACK
key 139 MENU
key 172 HOME
key 217 SEARCH
</pre>
<p>Key character map file: <code translate="no" dir="ltr">/system/usr/keychars/touchyfeely.kcm</code>.</p>
<pre class="devsite-click-to-copy" translate="no" dir="ltr">
type SPECIAL_FUNCTION
</pre>
<h2 id="indirect-multi-touch-pointer-gestures">Indirect Multi-touch Pointer Gestures</h2>
<p>In pointer mode, the system interprets the following gestures:</p>
<ol>
<li>
<p>Single finger tap: click.</p>
</li>
<li>
<p>Single finger motion: move the pointer.</p>
</li>
<li>
<p>Single finger motion plus button presses: drag the pointer.</p>
</li>
<li>
<p>Two finger motion both fingers moving in the same direction: drag the area under the pointer
    in that direction.  The pointer itself does not move.</p>
</li>
<li>
<p>Two finger motion both fingers moving towards each other or apart in
    different directions: pan/scale/rotate the area surrounding the pointer.
    The pointer itself does not move.</p>
</li>
<li>
<p>Multiple finger motion: freeform gesture.</p>
</li>
</ol>
<h2 id="further-reading">Further Reading</h2>
<ol>
<li><a href="http://www.kernel.org/doc/Documentation/input/multi-touch-protocol.txt">Linux multi-touch protocol</a></li>
<li><a href="http://lii-enac.fr/en/architecture/linux-input/multitouch-devices.html">ENAC list of available multitouch devices on Linux</a></li>
</ol>

  
          </div>

    
                   <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0">
         </devsite-page-rating>
                   
          </article>
</article>

<devsite-content-footer class="nocontent">
  <p>Content and code samples on this page are subject to the licenses described in the <a href="../../license.html">Content License</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
</devsite-content-footer>


                      </devsite-content>
        </div>
        <devsite-footer-promos class="devsite-footer">
                      
                  </devsite-footer-promos>
        <devsite-footer-linkboxes class="devsite-footer">
                      <nav class="devsite-footer-linkboxes nocontent">
  <ul class="devsite-footer-linkboxes-list">
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Build</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://android.googlesource.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            Android repository
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="../../setup/build/requirements.html"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            Requirements
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="../../setup/build/downloading.html"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Downloading
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/blobs-preview/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            Preview binaries
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/images/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Factory images
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://developers.google.com/android/drivers/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Driver binaries
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://android.github.io/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            GitHub
          </a>
        </li>
              </ul>
    </li>
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Connect</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://twitter.com/Android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            @Android on Twitter
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://twitter.com/AndroidDev/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            @AndroidDev on Twitter
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://blog.google/products/android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Android Blog
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://security.googleblog.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            Google Security Blog
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-platform/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Platform on Google Groups
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-building/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Building on Google Groups
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://groups.google.com/forum/?fromgroups#!forum/android-porting/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            Porting on Google Groups
          </a>
        </li>
              </ul>
    </li>
        <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading">Get help</h3>      <ul class="devsite-footer-linkbox-list">
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/android/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 1)"           >
            Android Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/pixelphone/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 2)"           >
            Pixel Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://support.google.com/nexus/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 3)"           >
            Nexus Help Center
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://www.android.com/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 4)"           >
            www.android.com
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://www.android.com/gms/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 5)"           >
            Google Mobile Services
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://stackoverflow.com/questions/tagged/android-source/"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 6)"           >
            Stack Overflow
          </a>
        </li>
                <li class="devsite-footer-linkbox-item">
          <a href="http://issuetracker.google.com/issues?q=status:open%20componentid:190923"
             class="devsite-footer-linkbox-link
                    gc-analytics-event"
             data-category="Site-Wide Custom Events"
                        data-label="Footer Link (index 7)"           >
            Issue Tracker
          </a>
        </li>
              </ul>
    </li>
      </ul>
</nav>
                  </devsite-footer-linkboxes>
        <devsite-footer-utility class="devsite-footer">
                      
<div class="devsite-footer-utility">
  
  <nav class="devsite-nav">
        <ul class="devsite-footer-utility-list">
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../source/index.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer About Android link">
          About Android
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../setup/community.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer Community link">
          Community
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../legal.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer Legal link">
          Legal
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="../../license.html"
           data-category="Site-Wide Custom Events"
           data-label="Footer License link">
          License
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="http://policies.google.cn/privacy"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link">
          Privacy
        </a>
              </li>
            <li class="devsite-footer-utility-item
                 ">
                        <a class="devsite-footer-utility-link
                  gc-analytics-event"
           href="http://issuetracker.google.com/issues/new?component=191476"
           data-category="Site-Wide Custom Events"
           data-label="Footer Site feedback link">
          Site feedback
        </a>
              </li>
          </ul>
    
    <devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    <select class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
                <option>Language</option>
              <option value="en"
              track-metadata-original-language="en"
              track-metadata-selected-language="en"
              track-name="changed"
              track-type="languageSelector"
            >
        English
      </option>
          <option value="zh_cn"
              track-metadata-original-language="en"
              track-metadata-selected-language="zh_cn"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 简体
      </option>
        </select>
  </devsite-select>
</devsite-language-selector>

  </nav>
</div>
                  </devsite-footer-utility>
      </div></div>
    <devsite-sitemask></devsite-sitemask>
    <devsite-snackbar                   ></devsite-snackbar>    <devsite-tooltip blocked-link></devsite-tooltip>
    <devsite-analytics>
              <script type="application/json" analytics>[{"metrics": {"ratings_value": "metric1", "ratings_count": "metric2"}, "dimensions": {}, "gaid": "UA-45455297-4"}]</script>
<script type="application/json" gtm>[]</script>
          </devsite-analytics>
        <script>
    (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;
    t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];
    E.parentNode.insertBefore(t,E);})(window, document, 'script',
    'https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/js/app_loader.js', '[7,"en",null,"../../js/devsite_app.html","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource","https://androidsource-dot-google-developers.gonglchuangl.net/",null,null,["/_pwa/androidsource/manifest.json","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/images/video-placeholder.svg","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/favicon.png","https://www.gstatic.com/devrel-devsite/vbb62cc5a3e8f17e37bae4792b437f28f787df3f9cf9732cbfcc99b4f4ff41a54/androidsource/images/rebrand/lockup.svg","https://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons"]]')
  </script>  </body>

<!-- Mirrored from source.android.google.cn/devices/input/touch-devices.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 09 Sep 2019 15:57:39 GMT -->
</html>